(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55640,(e,t,n)=>{},62166,(e,t,n)=>{var r=e.i(18344);e.r(55640);var s=e.r(57197),a=s&&"object"==typeof s&&"default"in s?s:{default:s},o=void 0!==r.default&&r.default.env&&!0,i=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,n=t.name,r=void 0===n?"stylesheet":n,s=t.optimizeForSpeed,a=void 0===s?o:s;c(i(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",c("boolean"==typeof a,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=a,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t,n=e.prototype;return n.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},n.isOptimizeForSpeed=function(){return this._optimizeForSpeed},n.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(o||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,n){return"number"==typeof n?e._serverSheet.cssRules[n]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),n},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},n.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},n.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},n.insertRule=function(e,t){if(c(i(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var n=this.getSheet();"number"!=typeof t&&(t=n.cssRules.length);try{n.insertRule(e,t)}catch(t){return o||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var r=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,r))}return this._rulesCount++},n.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var n="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!n.cssRules[e])return e;n.deleteRule(e);try{n.insertRule(t,e)}catch(r){o||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),n.insertRule(this._deletedRulePlaceholder,e)}}else{var r=this._tags[e];c(r,"old rule at index `"+e+"` not found"),r.textContent=t}return e},n.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},n.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},n.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,n){return n?t=t.concat(Array.prototype.map.call(e.getSheetForTag(n).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},n.makeStyleTag=function(e,t,n){t&&c(i(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var s=document.head||document.getElementsByTagName("head")[0];return n?s.insertBefore(r,n):s.appendChild(r),r},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0},u={};function h(e,t){if(!t)return"jsx-"+e;var n=String(t),r=e+n;return u[r]||(u[r]="jsx-"+d(e+"-"+n)),u[r]}function f(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var n=e+t;return u[n]||(u[n]=t.replace(/__jsx-style-dynamic-selector/g,e)),u[n]}var m=function(){function e(e){var t=void 0===e?{}:e,n=t.styleSheet,r=void 0===n?null:n,s=t.optimizeForSpeed,a=void 0!==s&&s;this._sheet=r||new l({name:"styled-jsx",optimizeForSpeed:a}),this._sheet.inject(),r&&"boolean"==typeof a&&(this._sheet.setOptimizeForSpeed(a),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var n=this.getIdAndRules(e),r=n.styleId,s=n.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var a=s.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=a,this._instancesCounts[r]=1},t.remove=function(e){var t=this,n=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(n in this._instancesCounts,"styleId: `"+n+"` not found"),this._instancesCounts[n]-=1,this._instancesCounts[n]<1){var r=this._fromServer&&this._fromServer[n];r?(r.parentNode.removeChild(r),delete this._fromServer[n]):(this._indices[n].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[n]),delete this._instancesCounts[n]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],n=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return n[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,n;return t=this.cssRules(),void 0===(n=e)&&(n={}),t.map(function(e){var t=e[0],r=e[1];return a.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:n.nonce?n.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},t.getIdAndRules=function(e){var t=e.children,n=e.dynamic,r=e.id;if(n){var s=h(r,n);return{styleId:s,rules:Array.isArray(t)?t.map(function(e){return f(s,e)}):[f(s,t)]}}return{styleId:h(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),p=s.createContext(null);function x(){return new m}function g(){return s.useContext(p)}p.displayName="StyleSheetContext";var b=a.default.useInsertionEffect||a.default.useLayoutEffect,v="undefined"!=typeof window?x():void 0;function y(e){var t=v||g();return t&&("undefined"==typeof window?t.add(e):b(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}y.dynamic=function(e){return e.map(function(e){return h(e[0],e[1])}).join(" ")},n.StyleRegistry=function(e){var t=e.registry,n=e.children,r=s.useContext(p),o=s.useState(function(){return r||t||x()})[0];return a.default.createElement(p.Provider,{value:o},n)},n.createStyleRegistry=x,n.style=y,n.useStyleRegistry=g},154,(e,t,n)=>{t.exports=e.r(62166).style},56312,e=>{"use strict";let t,n,r,s,a;var o,i,l,c,d,u,h,f,m,p=e.i(50259),x=e.i(57197);let g={common:1,uncommon:2,rare:4,epic:8,legendary:16,mythic:32},b=10,v="Two of a kind",y=20,w="Two pairs",j=30,N="Three of a kind",k=40,C="Three + Pair",M=50,S="4 consecutive",R=60,P="5 consecutive",E=70,T="Four of a kind",A=100,D="All same!",_=0,z="Sum of all dice";function L(e){let t=Math.floor(Math.random()*e.faces.length);return e.faces[t]}function F(e,t,n,r,s){let a=[],o=[...t];for(let n=0;n<e.slots;n++){let e=null;if(s&&n<s.length)e=s[n];else if(o.length>0){let t=Math.floor(Math.random()*o.length);e=o[t],o.splice(t,1)}else if(t.length>0){let n=Math.floor(Math.random()*t.length);e=t[n]}else break;let r={...e};r.currentValue=L(r),a.push(r)}let i=0,l=n?.luckyRerolls||0;if(l>0){let e=Math.min(1,.1*l);for(let t=0;t<a.length;t++)if(2>=(a[t].currentValue||0)&&Math.random()<e){let e=L(a[t]);a[t]={...a[t],currentValue:e},i+=1}}let c=function(e){if(0===e.length)return null;let t=e.map(e=>e.currentValue||0).sort((e,t)=>e-t),n=Array.from(new Set(t)),r=Object.values(t.reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{})).sort((e,t)=>t-e);return e.length>=5&&r[0]===e.length&&r[0]>=5?{type:"yahtzee",description:D,baseScore:A,dice:e}:e.length>=4&&r[0]>=4?{type:"four-of-a-kind",description:T,baseScore:E,dice:e}:e.length>=5&&3===r[0]&&2===r[1]?{type:"full-house",description:C,baseScore:k,dice:e}:e.length>=5&&n.length>=5&&I(n,5)?{type:"large-straight",description:P,baseScore:R,dice:e}:e.length>=4&&I(n,4)?{type:"small-straight",description:S,baseScore:M,dice:e}:e.length>=3&&r[0]>=3?{type:"three-of-a-kind",description:N,baseScore:j,dice:e}:e.length>=4&&2===r[0]&&2===r[1]?{type:"two-pair",description:w,baseScore:y,dice:e}:e.length>=2&&2===r[0]?{type:"pair",description:v,baseScore:b,dice:e}:{type:"chance",description:z,baseScore:_,dice:e}}(a),d=c?c.baseScore:0,u=a.reduce((e,t)=>e+(t.currentValue||0),0),h=a.filter(e=>"standard"===e.type).reduce((e,t)=>e+(t.currentValue||0),0);return{dice:a,score:Math.floor((d+(u+(r?.standardD6AlwaysX10?9*h:0)))*(e.earningMultiplier||1)),combo:c,rerolls:i}}function I(e,t){for(let n=0;n<=e.length-t;n++)if(function(e){for(let t=1;t<e.length;t++)if(e[t]!==e[t-1]+1)return!1;return!0}(e.slice(n,n+t)))return!0;return!1}function O(e,t){let n=Math.min(1,Math.max(0,.05*(t?.critChance||0))),r=2+.5*(t?.critPower||0),s=Math.random()<n;return{score:s?Math.floor(e*r):e,critical:s,multiplier:s?r:1}}function $(e){let t=["common","uncommon","rare","epic","legendary","mythic"],n=["standard","fire","ice","wild","loaded"],r=t[Math.floor(Math.random()*t.length)],s=g[r];return{id:e,type:n[Math.floor(Math.random()*n.length)],rarity:r,faces:[1,2,3,4,5,6],multiplier:s}}function B(){return[$(`shop-die-1-${Date.now()}`),$(`shop-die-2-${Date.now()}`),$(`shop-die-3-${Date.now()}`)]}function X(){let e=[];for(let t=0;t<10;t++)e.push({id:`die-${t}`,type:"standard",rarity:"common",faces:[1,2,3,4,5,6],multiplier:g.common});return{mode:"demo",coins:0,level:1,bag:e,cups:[{id:"cup-1",slots:1,dice:[],score:0,level:1,unlocked:!0,earningMultiplier:1}],totalScore:0,idleRate:0,autoRollEnabled:!1,autoRollInterval:2,autoRollLevel:0,upgrades:{bagSize:10,cupUnlocks:1,idleMultiplier:1,scoreMultiplier:1},stats:{totalRolls:0,bestCombo:null,highestScore:0,highestAllCupsRoll:0,tenDiceRoll10Count:0},bossThreshold:1e4,bossesDefeated:0,runStartTime:Date.now(),shopDice:B(),shopRefreshCost:100,shopRefreshCount:0,playerXP:0,playerLevel:1,playerXPToNextLevel:100,dicePurchaseCount:{common:0,uncommon:0,rare:0,epic:0,legendary:0,mythic:0},diceRemovalCount:0,talents:{pairBonus:0,twoPairBonus:0,threeKindBonus:0,straightBonus:0,fullHouseBonus:0,fourKindBonus:0,yahtzeeBonus:0,luckyRerolls:0,comboChaining:0,rareDropRate:0,critChance:0,critPower:0,coinMultiplier:0,idleBoost:0,shopDiscount:0},talentPoints:0,talentCoinPurchases:0,lastTalentAdAt:0,prestigeLevel:0,prestigeXP:0,prestigeTalents:{startingCoins:0,startingDice:0,xpGainBonus:0,autoRollUnlocked:!1,permanentScoreBonus:0,prestigeXPGain:0,idleRateBonus:0,standardD6AlwaysX10:!1,manualSingleCupX10Mult:!1},prestigePoints:0,pendingBossRewards:0,showBossRewardOnDefeat:!0,walletConnected:!1,waxBalance:0,pxjBalance:0,preferredPaymentMethod:"PXJ",adventuresCompleted:0,activeAdventures:[],inactiveDiceIds:[],adventureRepeatCounts:{},hasSeenTutorial:!1,reduceGraphics:!1,installPromptDismissed:!1}}function W(e){return Math.floor(100*Math.pow(1.5,e-1))}let G=[["startingCoins","startingDice","xpGainBonus"],["permanentScoreBonus","prestigeXPGain","idleRateBonus"],["autoRollUnlocked","standardD6AlwaysX10","manualSingleCupX10Mult"]],U={startingCoins:10,startingDice:5,xpGainBonus:10,permanentScoreBonus:10,prestigeXPGain:10,autoRollUnlocked:1,idleRateBonus:10,standardD6AlwaysX10:1,manualSingleCupX10Mult:1};function H(e,t){return("autoRollUnlocked"===e||"standardD6AlwaysX10"===e||"manualSingleCupX10Mult"===e?5:2)*(t+1)}function V(e){return Math.floor(50*Math.pow(1.5,e))}function q(e){return Math.floor(100*Math.pow(1.5,e))}function J(e,t){return Math.floor(200*e.multiplier*Math.pow(1.2,t))}function Y(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function K(...e){return t=>{let n=!1,r=e.map(e=>{let r=Y(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof n?n():Y(e[t],null)}}}}function Z(...e){return x.useCallback(K(...e),e)}var Q=x.forwardRef((e,t)=>{let{children:n,...r}=e,s=x.Children.toArray(n),a=s.find(en);if(a){let e=a.props.children,n=s.map(t=>t!==a?t:x.Children.count(e)>1?x.Children.only(null):x.isValidElement(e)?e.props.children:null);return(0,p.jsx)(ee,{...r,ref:t,children:x.isValidElement(e)?x.cloneElement(e,void 0,n):null})}return(0,p.jsx)(ee,{...r,ref:t,children:n})});Q.displayName="Slot";var ee=x.forwardRef((e,t)=>{let{children:n,...r}=e;if(x.isValidElement(n)){var s;let e,a,o=(s=n,(a=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(a=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref);return x.cloneElement(n,{...function(e,t){let n={...t};for(let r in t){let s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...e)=>{a(...e),s(...e)}:s&&(n[r]=s):"style"===r?n[r]={...s,...a}:"className"===r&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props),ref:t?K(t,o):o})}return x.Children.count(n)>1?x.Children.only(null):null});ee.displayName="SlotClone";var et=({children:e})=>(0,p.jsx)(p.Fragment,{children:e});function en(e){return x.isValidElement(e)&&e.type===et}function er(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=function e(t){var n,r,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t)){var a=t.length;for(n=0;n<a;n++)t[n]&&(r=e(t[n]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}(e))&&(r&&(r+=" "),r+=t);return r}let es=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,ea=(e,t)=>{if(0===e.length)return t.classGroupId;let n=e[0],r=t.nextPart.get(n),s=r?ea(e.slice(1),r):void 0;if(s)return s;if(0===t.validators.length)return;let a=e.join("-");return t.validators.find(({validator:e})=>e(a))?.classGroupId},eo=/^\[(.+)\]$/,ei=(e,t,n,r)=>{e.forEach(e=>{if("string"==typeof e){(""===e?t:el(t,e)).classGroupId=n;return}"function"==typeof e?ec(e)?ei(e(r),t,n,r):t.validators.push({validator:e,classGroupId:n}):Object.entries(e).forEach(([e,s])=>{ei(s,el(t,e),n,r)})})},el=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},ec=e=>e.isThemeGetter,ed=(e,t)=>t?e.map(([e,n])=>[e,n.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,n])=>[t+e,n])):e)]):e,eu=e=>{if(e.length<=1)return e;let t=[],n=[];return e.forEach(e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)}),t.push(...n.sort()),t},eh=/\s+/;function ef(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=em(e))&&(r&&(r+=" "),r+=t);return r}let em=e=>{let t;if("string"==typeof e)return e;let n="";for(let r=0;r<e.length;r++)e[r]&&(t=em(e[r]))&&(n&&(n+=" "),n+=t);return n},ep=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},ex=/^\[(?:([a-z-]+):)?(.+)\]$/i,eg=/^\d+\/\d+$/,eb=new Set(["px","full","screen"]),ev=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ey=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ew=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ej=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ek=e=>eM(e)||eb.has(e)||eg.test(e),eC=e=>eO(e,"length",e$),eM=e=>!!e&&!Number.isNaN(Number(e)),eS=e=>eO(e,"number",eM),eR=e=>!!e&&Number.isInteger(Number(e)),eP=e=>e.endsWith("%")&&eM(e.slice(0,-1)),eE=e=>ex.test(e),eT=e=>ev.test(e),eA=new Set(["length","size","percentage"]),eD=e=>eO(e,eA,eB),e_=e=>eO(e,"position",eB),ez=new Set(["image","url"]),eL=e=>eO(e,ez,eW),eF=e=>eO(e,"",eX),eI=()=>!0,eO=(e,t,n)=>{let r=ex.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):n(r[2]))},e$=e=>ey.test(e)&&!ew.test(e),eB=()=>!1,eX=e=>ej.test(e),eW=e=>eN.test(e),eG=function(e,...t){let n,r,s,a=function(i){let l;return r=(n={cache:(e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,n=new Map,r=new Map,s=(s,a)=>{n.set(s,a),++t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(s(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):s(e,t)}}})((l=t.reduce((e,t)=>t(e),e())).cacheSize),parseClassName:(e=>{let{separator:t,experimentalParseClassName:n}=e,r=1===t.length,s=t[0],a=t.length,o=e=>{let n,o=[],i=0,l=0;for(let c=0;c<e.length;c++){let d=e[c];if(0===i){if(d===s&&(r||e.slice(c,c+a)===t)){o.push(e.slice(l,c)),l=c+a;continue}if("/"===d){n=c;continue}}"["===d?i++:"]"===d&&i--}let c=0===o.length?e:e.substring(l),d=c.startsWith("!"),u=d?c.substring(1):c;return{modifiers:o,hasImportantModifier:d,baseClassName:u,maybePostfixModifierPosition:n&&n>l?n-l:void 0}};return n?e=>n({className:e,parseClassName:o}):o})(l),...(e=>{let t=(e=>{let{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return ed(Object.entries(e.classGroups),n).forEach(([e,n])=>{ei(n,r,e,t)}),r})(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{let n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),ea(n,t)||(e=>{if(eo.test(e)){let t=eo.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}})(e)},getConflictingClassGroupIds:(e,t)=>{let s=n[e]||[];return t&&r[e]?[...s,...r[e]]:s}}})(l)}).cache.get,s=n.cache.set,a=o,o(i)};function o(e){let t=r(e);if(t)return t;let a=((e,t)=>{let{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(eh),i="";for(let e=o.length-1;e>=0;e-=1){let t=o[e],{modifiers:l,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:u}=n(t),h=!!u,f=r(h?d.substring(0,u):d);if(!f){if(!h||!(f=r(d))){i=t+(i.length>0?" "+i:i);continue}h=!1}let m=eu(l).join(":"),p=c?m+"!":m,x=p+f;if(a.includes(x))continue;a.push(x);let g=s(f,h);for(let e=0;e<g.length;++e){let t=g[e];a.push(p+t)}i=t+(i.length>0?" "+i:i)}return i})(e,n);return s(e,a),a}return function(){return a(ef.apply(null,arguments))}}(()=>{let e=ep("colors"),t=ep("spacing"),n=ep("blur"),r=ep("brightness"),s=ep("borderColor"),a=ep("borderRadius"),o=ep("borderSpacing"),i=ep("borderWidth"),l=ep("contrast"),c=ep("grayscale"),d=ep("hueRotate"),u=ep("invert"),h=ep("gap"),f=ep("gradientColorStops"),m=ep("gradientColorStopPositions"),p=ep("inset"),x=ep("margin"),g=ep("opacity"),b=ep("padding"),v=ep("saturate"),y=ep("scale"),w=ep("sepia"),j=ep("skew"),N=ep("space"),k=ep("translate"),C=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto",eE,t],R=()=>[eE,t],P=()=>["",ek,eC],E=()=>["auto",eM,eE],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",eE],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[eM,eE];return{cacheSize:500,separator:":",theme:{colors:[eI],spacing:[ek,eC],blur:["none","",eT,eE],brightness:F(),borderColor:[e],borderRadius:["none","","full",eT,eE],borderSpacing:R(),borderWidth:P(),contrast:F(),grayscale:z(),hueRotate:F(),invert:z(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[eP,eC],inset:S(),margin:S(),opacity:F(),padding:R(),saturate:F(),scale:F(),sepia:z(),skew:F(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",eE]}],container:["container"],columns:[{columns:[eT]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),eE]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",eR,eE]}],basis:[{basis:S()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",eE]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",eR,eE]}],"grid-cols":[{"grid-cols":[eI]}],"col-start-end":[{col:["auto",{span:["full",eR,eE]},eE]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[eI]}],"row-start-end":[{row:["auto",{span:[eR,eE]},eE]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",eE]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",eE]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",eE,t]}],"min-w":[{"min-w":[eE,t,"min","max","fit"]}],"max-w":[{"max-w":[eE,t,"none","full","min","max","fit","prose",{screen:[eT]},eT]}],h:[{h:[eE,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[eE,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[eE,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[eE,t,"auto","min","max","fit"]}],"font-size":[{text:["base",eT,eC]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",eS]}],"font-family":[{font:[eI]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",eE]}],"line-clamp":[{"line-clamp":["none",eM,eS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ek,eE]}],"list-image":[{"list-image":["none",eE]}],"list-style-type":[{list:["none","disc","decimal",eE]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ek,eC]}],"underline-offset":[{"underline-offset":["auto",ek,eE]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",eE]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",eE]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),e_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",eD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},eL]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:A()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[ek,eE]}],"outline-w":[{outline:[ek,eC]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[ek,eC]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",eT,eF]}],"shadow-color":[{shadow:[eI]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",eT,eE]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[v]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",eE]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",eE]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",eE]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[eR,eE]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",eE]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",eE]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",eE]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ek,eC,eS]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function eU(...e){return eG(er(e))}let eH=(t="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}},e=>{var r;if((null==n?void 0:n.variants)==null)return er(t,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:s,defaultVariants:a}=n,o=Object.keys(s).map(t=>{let n=null==e?void 0:e[t],r=null==a?void 0:a[t];if(null===n)return null;let o=es(n)||es(r);return s[t][o]}),i=e&&Object.entries(e).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{});return er(t,o,null==n||null==(r=n.compoundVariants)?void 0:r.reduce((e,t)=>{let{class:n,className:r,...s}=t;return Object.entries(s).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...a,...i}[t]):({...a,...i})[t]===n})?[...e,n,r]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)});function eV({className:e,variant:t,size:n,asChild:r=!1,...s}){let a=r?Q:"button";return(0,p.jsx)(a,{"data-slot":"button",className:eU(eH({variant:t,size:n,className:e})),...s})}function eq({dice:e,isRolling:t,cupId:n,compact:r,reduceGraphics:s}){let a=(0,x.useRef)(null),o=(0,x.useRef)(null),i=(0,x.useRef)([]),l=(0,x.useRef)(null),c=(0,x.useRef)(0),d=(0,x.useRef)([]),u=(0,x.useRef)([]),h=(0,x.useRef)(!1),f=(0,x.useRef)(null);(0,x.useEffect)(()=>{if(!a.current)return;let t=()=>{let t=window.Zdog;if(!t)return;let{Illustration:n,Box:s,Hemisphere:l,Group:c,TAU:h}=t,f={common:"#ffffff",uncommon:"#22c55e",rare:"#3b82f6",epic:"#a855f7",legendary:"#facc15",mythic:"#dc2626"},m=e.length,p=m<=2?2.6:m<=4?2.2:m<=6?1.75:m<=8?1.7:m<=12?1.65:Math.max(.5,1.45-.03*(m-12)),x=Math.round((r?35:60)*(1+(p-1.5)*.5));o.current&&(o.current=null);let g=new n({element:a.current,zoom:p,rotate:{x:-(h/14*1),y:h/8}});o.current=g,i.current=[],d.current=[],u.current=[];let b=m<=6?Math.min(4,Math.max(1,m)):Math.min(5,Math.ceil(Math.sqrt(m))),v=Math.ceil(m/b);e.forEach((e,t)=>{let n=Math.floor(t/b),r=new s({addTo:g,color:f[e.rarity]??"#ffffff",stroke:10,width:25,height:25,depth:25,translate:{x:(t%b-(b-1)/2)*x,y:(n-(v-1)/2)*x,z:0}}),a=new l({color:"#000000",stroke:0,diameter:10}),o=new c({addTo:r,translate:{y:-17.5},rotate:{x:h/4}});a.copy({addTo:o});let m=new c({addTo:r,translate:{y:17.5},rotate:{x:-(h/4*1)}});for(let{x:e,y:t}of[{x:10,y:-10},{x:10,y:0},{x:10,y:10},{x:-10,y:10},{x:-10,y:0},{x:-10,y:-10}])a.copy({addTo:m,translate:{x:e,y:t}});let p=new c({addTo:r,translate:{z:-17.5},rotate:{x:h/2}});for(let{x:e,y:t}of[{x:10,y:-10},{x:-10,y:10}])a.copy({addTo:p,translate:{x:e,y:t}});let y=new c({addTo:r,translate:{z:17.5}});for(let{x:e,y:t}of[{x:0,y:0},{x:10,y:-10},{x:10,y:10},{x:-10,y:10},{x:-10,y:-10}])a.copy({addTo:y,translate:{x:e,y:t}});let w=new c({addTo:r,translate:{x:-17.5},rotate:{y:h/4}});for(let{x:e,y:t}of[{x:0,y:0},{x:10,y:-10},{x:-10,y:10}])a.copy({addTo:w,translate:{x:e,y:t}});let j=new c({addTo:r,translate:{x:17.5},rotate:{y:-(h/4*1)}});for(let{x:e,y:t}of[{x:10,y:-10},{x:10,y:10},{x:-10,y:10},{x:-10,y:-10}])a.copy({addTo:j,translate:{x:e,y:t}});i.current.push(r),d.current.push({x:r.rotate.x,y:r.rotate.y,z:r.rotate.z}),u.current.push({...d.current[t]})}),g.updateRenderGraph()};return(async()=>{if(h.current&&window.Zdog)return t();if(window.Zdog){h.current=!0,t();return}let e=document.createElement("script");e.src="https://unpkg.com/zdog@1/dist/zdog.dist.min.js",e.onload=()=>{h.current=!0,t()},document.head.appendChild(e)})(),()=>{l.current&&cancelAnimationFrame(l.current)}},[e.length,n,e.map(e=>e.rarity).join(",")]),(0,x.useEffect)(()=>{if(0===i.current.length||!o.current)return;let t=window.Zdog;if(!t)return;let{TAU:n,easeInOut:r}=t,a=s?300:600;i.current.forEach((t,r)=>{let a=e[r],o=a?.currentValue||1,i=0,l=0,c=0;switch(o){case 1:i=0,l=0,c=0;break;case 2:i=-n/4;break;case 3:c=n/4;break;case 4:c=-n/4;break;case 5:i=n/4;break;case 6:i=n/2}u.current[r]={x:i+(s?0:2*n),y:l+(s?0:2*n),z:c+(s?0:2*n)}}),l.current&&(cancelAnimationFrame(l.current),l.current=null),f.current=performance.now(),c.current=0;let h=()=>{let e=f.current??performance.now(),t=Math.min(1,(performance.now()-e)/a),s=r(t,3);if(i.current.forEach((e,t)=>{e.rotate.x=d.current[t].x+(u.current[t].x-d.current[t].x)*s,e.rotate.y=d.current[t].y+(u.current[t].y-d.current[t].y)*s,e.rotate.z=d.current[t].z+(u.current[t].z-d.current[t].z)*s}),o.current.updateRenderGraph(),t>=1){i.current.forEach((e,t)=>{d.current[t]={x:u.current[t].x%n,y:u.current[t].y%n,z:u.current[t].z%n},e.rotate.x=d.current[t].x,e.rotate.y=d.current[t].y,e.rotate.z=d.current[t].z}),o.current.updateRenderGraph(),l.current=null;return}c.current++,l.current=requestAnimationFrame(h)};l.current=requestAnimationFrame(function e(){h(),c.current<1&&(l.current=requestAnimationFrame(e))})},[e.map(e=>e.currentValue).join(","),t,s]);let m=Math.min(4,Math.max(1,e.length)),g=Math.ceil(e.length/m),b=Math.round((r?35:60)*(1+(Math.max(.75,1.75-.1*Math.max(0,Math.floor((e.length-1)/4)))-1)*.5)),v=r?160:Math.max(600,m*b+100),y=r?160:Math.max(300,g*b+100);return(0,p.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,p.jsx)("canvas",{ref:a,width:v,height:y,className:"max-w-full"})})}let eJ=(...e)=>e.filter((e,t,n)=>!!e&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim();var eY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let eK=(0,x.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:o,...i},l)=>(0,x.createElement)("svg",{ref:l,...eY,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:eJ("lucide",s),...i},[...o.map(([e,t])=>(0,x.createElement)(e,t)),...Array.isArray(a)?a:[a]])),eZ=(e,t)=>{let n=(0,x.forwardRef)(({className:n,...r},s)=>(0,x.createElement)(eK,{ref:s,iconNode:t,className:eJ(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,n),...r}));return n.displayName=`${e}`,n},eQ=eZ("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]),e0=eZ("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),e1=eZ("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),e2=eZ("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),e5=eZ("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),e4=eZ("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),e3=eZ("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),e7=eZ("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),e8=eZ("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),e6=eZ("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);function e9(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function te(e,t=[]){let n=[],r=()=>{let t=n.map(e=>x.createContext(e));return function(n){let r=n?.[e]||t;return x.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return r.scopeName=e,[function(t,r){let s=x.createContext(r),a=n.length;n=[...n,r];let o=t=>{let{scope:n,children:r,...o}=t,i=n?.[e]?.[a]||s,l=x.useMemo(()=>o,Object.values(o));return(0,p.jsx)(i.Provider,{value:l,children:r})};return o.displayName=t+"Provider",[o,function(n,o){let i=o?.[e]?.[a]||s,l=x.useContext(i);if(l)return l;if(void 0!==r)return r;throw Error(`\`${n}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=n.reduce((t,{useScope:n,scopeName:r})=>{let s=n(e)[`__scope${r}`];return{...t,...s}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}(r,...t)]}var tt=e.i(35984),tn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let n=x.forwardRef((e,n)=>{let{asChild:r,...s}=e,a=r?Q:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,p.jsx)(a,{...s,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function tr(e,t){e&&tt.flushSync(()=>e.dispatchEvent(t))}function ts(e){let t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...e)=>t.current?.(...e),[])}var ta="dismissableLayer.update",to=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ti=x.forwardRef((e,t)=>{let{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:i,...l}=e,c=x.useContext(to),[d,u]=x.useState(null),h=d?.ownerDocument??globalThis?.document,[,m]=x.useState({}),g=Z(t,e=>u(e)),b=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=b.indexOf(v),w=d?b.indexOf(d):-1,j=c.layersWithOutsidePointerEventsDisabled.size>0,N=w>=y,k=function(e,t=globalThis?.document){let n=ts(e),r=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{let e=e=>{if(e.target&&!r.current){let r=function(){tc("dismissableLayer.pointerDownOutside",n,a,{discrete:!0})},a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",s.current),s.current=r,t.addEventListener("click",s.current,{once:!0})):r()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{let t=e.target,n=[...c.branches].some(e=>e.contains(t));N&&!n&&(s?.(e),o?.(e),e.defaultPrevented||i?.())},h),C=function(e,t=globalThis?.document){let n=ts(e),r=x.useRef(!1);return x.useEffect(()=>{let e=e=>{e.target&&!r.current&&tc("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{let t=e.target;![...c.branches].some(e=>e.contains(t))&&(a?.(e),o?.(e),e.defaultPrevented||i?.())},h);return!function(e,t=globalThis?.document){let n=ts(e);x.useEffect(()=>{let e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{w===c.layers.size-1&&(r?.(e),!e.defaultPrevented&&i&&(e.preventDefault(),i()))},h),x.useEffect(()=>{if(d)return n&&(0===c.layersWithOutsidePointerEventsDisabled.size&&(f=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),tl(),()=>{n&&1===c.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=f)}},[d,h,n,c]),x.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),tl())},[d,c]),x.useEffect(()=>{let e=()=>m({});return document.addEventListener(ta,e),()=>document.removeEventListener(ta,e)},[]),(0,p.jsx)(tn.div,{...l,ref:g,style:{pointerEvents:j?N?"auto":"none":void 0,...e.style},onFocusCapture:e9(e.onFocusCapture,C.onFocusCapture),onBlurCapture:e9(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:e9(e.onPointerDownCapture,k.onPointerDownCapture)})});function tl(){let e=new CustomEvent(ta);document.dispatchEvent(e)}function tc(e,t,n,{discrete:r}){let s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?tr(s,a):s.dispatchEvent(a)}ti.displayName="DismissableLayer",x.forwardRef((e,t)=>{let n=x.useContext(to),r=x.useRef(null),s=Z(t,r);return x.useEffect(()=>{let e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,p.jsx)(tn.div,{...e,ref:s})}).displayName="DismissableLayerBranch";var td=globalThis?.document?x.useLayoutEffect:()=>{},tu=x["useId".toString()]||(()=>void 0),th=0;function tf(e){let[t,n]=x.useState(tu());return td(()=>{e||n(e=>e??String(th++))},[e]),e||(t?`radix-${t}`:"")}let tm=["top","right","bottom","left"],tp=Math.min,tx=Math.max,tg=Math.round,tb=Math.floor,tv=e=>({x:e,y:e}),ty={left:"right",right:"left",bottom:"top",top:"bottom"},tw={start:"end",end:"start"};function tj(e,t){return"function"==typeof e?e(t):e}function tN(e){return e.split("-")[0]}function tk(e){return e.split("-")[1]}function tC(e){return"x"===e?"y":"x"}function tM(e){return"y"===e?"height":"width"}let tS=new Set(["top","bottom"]);function tR(e){return tS.has(tN(e))?"y":"x"}function tP(e){return e.replace(/start|end/g,e=>tw[e])}let tE=["left","right"],tT=["right","left"],tA=["top","bottom"],tD=["bottom","top"];function t_(e){return e.replace(/left|right|bottom|top/g,e=>ty[e])}function tz(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function tL(e){let{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function tF(e,t,n){let r,{reference:s,floating:a}=e,o=tR(t),i=tC(tR(t)),l=tM(i),c=tN(t),d="y"===o,u=s.x+s.width/2-a.width/2,h=s.y+s.height/2-a.height/2,f=s[l]/2-a[l]/2;switch(c){case"top":r={x:u,y:s.y-a.height};break;case"bottom":r={x:u,y:s.y+s.height};break;case"right":r={x:s.x+s.width,y:h};break;case"left":r={x:s.x-a.width,y:h};break;default:r={x:s.x,y:s.y}}switch(tk(t)){case"start":r[i]-=f*(n&&d?-1:1);break;case"end":r[i]+=f*(n&&d?-1:1)}return r}let tI=async(e,t,n)=>{let{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:o}=n,i=a.filter(Boolean),l=await (null==o.isRTL?void 0:o.isRTL(t)),c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:u}=tF(c,r,l),h=r,f={},m=0;for(let n=0;n<i.length;n++){let{name:a,fn:p}=i[n],{x:x,y:g,data:b,reset:v}=await p({x:d,y:u,initialPlacement:r,placement:h,strategy:s,middlewareData:f,rects:c,platform:o,elements:{reference:e,floating:t}});d=null!=x?x:d,u=null!=g?g:u,f={...f,[a]:{...f[a],...b}},v&&m<=50&&(m++,"object"==typeof v&&(v.placement&&(h=v.placement),v.rects&&(c=!0===v.rects?await o.getElementRects({reference:e,floating:t,strategy:s}):v.rects),{x:d,y:u}=tF(c,h,l)),n=-1)}return{x:d,y:u,placement:h,strategy:s,middlewareData:f}};async function tO(e,t){var n;void 0===t&&(t={});let{x:r,y:s,platform:a,rects:o,elements:i,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:f=0}=tj(t,e),m=tz(f),p=i[h?"floating"===u?"reference":"floating":u],x=tL(await a.getClippingRect({element:null==(n=await (null==a.isElement?void 0:a.isElement(p)))||n?p:p.contextElement||await (null==a.getDocumentElement?void 0:a.getDocumentElement(i.floating)),boundary:c,rootBoundary:d,strategy:l})),g="floating"===u?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await (null==a.getOffsetParent?void 0:a.getOffsetParent(i.floating)),v=await (null==a.isElement?void 0:a.isElement(b))&&await (null==a.getScale?void 0:a.getScale(b))||{x:1,y:1},y=tL(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:g,offsetParent:b,strategy:l}):g);return{top:(x.top-y.top+m.top)/v.y,bottom:(y.bottom-x.bottom+m.bottom)/v.y,left:(x.left-y.left+m.left)/v.x,right:(y.right-x.right+m.right)/v.x}}function t$(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function tB(e){return tm.some(t=>e[t]>=0)}let tX=new Set(["left","top"]);async function tW(e,t){let{placement:n,platform:r,elements:s}=e,a=await (null==r.isRTL?void 0:r.isRTL(s.floating)),o=tN(n),i=tk(n),l="y"===tR(n),c=tX.has(o)?-1:1,d=a&&l?-1:1,u=tj(t,e),{mainAxis:h,crossAxis:f,alignmentAxis:m}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return i&&"number"==typeof m&&(f="end"===i?-1*m:m),l?{x:f*d,y:h*c}:{x:h*c,y:f*d}}function tG(){return"undefined"!=typeof window}function tU(e){return tq(e)?(e.nodeName||"").toLowerCase():"#document"}function tH(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function tV(e){var t;return null==(t=(tq(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function tq(e){return!!tG()&&(e instanceof Node||e instanceof tH(e).Node)}function tJ(e){return!!tG()&&(e instanceof Element||e instanceof tH(e).Element)}function tY(e){return!!tG()&&(e instanceof HTMLElement||e instanceof tH(e).HTMLElement)}function tK(e){return!!tG()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof tH(e).ShadowRoot)}let tZ=new Set(["inline","contents"]);function tQ(e){let{overflow:t,overflowX:n,overflowY:r,display:s}=ne(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!tZ.has(s)}let t0=new Set(["table","td","th"]),t1=[":popover-open",":modal"];function t2(e){return t1.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let t5=["transform","translate","scale","rotate","perspective"],t4=["transform","translate","scale","rotate","perspective","filter"],t3=["paint","layout","strict","content"];function t7(e){let t=t8(),n=tJ(e)?ne(e):e;return t5.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||t4.some(e=>(n.willChange||"").includes(e))||t3.some(e=>(n.contain||"").includes(e))}function t8(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let t6=new Set(["html","body","#document"]);function t9(e){return t6.has(tU(e))}function ne(e){return tH(e).getComputedStyle(e)}function nt(e){return tJ(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function nn(e){if("html"===tU(e))return e;let t=e.assignedSlot||e.parentNode||tK(e)&&e.host||tV(e);return tK(t)?t.host:t}function nr(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);let s=function e(t){let n=nn(t);return t9(n)?t.ownerDocument?t.ownerDocument.body:t.body:tY(n)&&tQ(n)?n:e(n)}(e),a=s===(null==(r=e.ownerDocument)?void 0:r.body),o=tH(s);if(a){let e=ns(o);return t.concat(o,o.visualViewport||[],tQ(s)?s:[],e&&n?nr(e):[])}return t.concat(s,nr(s,[],n))}function ns(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function na(e){let t=ne(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,s=tY(e),a=s?e.offsetWidth:n,o=s?e.offsetHeight:r,i=tg(n)!==a||tg(r)!==o;return i&&(n=a,r=o),{width:n,height:r,$:i}}function no(e){return tJ(e)?e:e.contextElement}function ni(e){let t=no(e);if(!tY(t))return tv(1);let n=t.getBoundingClientRect(),{width:r,height:s,$:a}=na(t),o=(a?tg(n.width):n.width)/r,i=(a?tg(n.height):n.height)/s;return o&&Number.isFinite(o)||(o=1),i&&Number.isFinite(i)||(i=1),{x:o,y:i}}let nl=tv(0);function nc(e){let t=tH(e);return t8()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:nl}function nd(e,t,n,r){var s;void 0===t&&(t=!1),void 0===n&&(n=!1);let a=e.getBoundingClientRect(),o=no(e),i=tv(1);t&&(r?tJ(r)&&(i=ni(r)):i=ni(e));let l=(void 0===(s=n)&&(s=!1),r&&(!s||r===tH(o))&&s)?nc(o):tv(0),c=(a.left+l.x)/i.x,d=(a.top+l.y)/i.y,u=a.width/i.x,h=a.height/i.y;if(o){let e=tH(o),t=r&&tJ(r)?tH(r):r,n=e,s=ns(n);for(;s&&r&&t!==n;){let e=ni(s),t=s.getBoundingClientRect(),r=ne(s),a=t.left+(s.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(s.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,d*=e.y,u*=e.x,h*=e.y,c+=a,d+=o,s=ns(n=tH(s))}}return tL({width:u,height:h,x:c,y:d})}function nu(e,t){let n=nt(e).scrollLeft;return t?t.left+n:nd(tV(e)).left+n}function nh(e,t){let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-nu(e,n),y:n.top+t.scrollTop}}let nf=new Set(["absolute","fixed"]);function nm(e,t,n){var r;let s;if("viewport"===t)s=function(e,t){let n=tH(e),r=tV(e),s=n.visualViewport,a=r.clientWidth,o=r.clientHeight,i=0,l=0;if(s){a=s.width,o=s.height;let e=t8();(!e||e&&"fixed"===t)&&(i=s.offsetLeft,l=s.offsetTop)}let c=nu(r);if(c<=0){let e=r.ownerDocument,t=e.body,n=getComputedStyle(t),s="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-s);o<=25&&(a-=o)}else c<=25&&(a+=c);return{width:a,height:o,x:i,y:l}}(e,n);else if("document"===t){let t,n,a,o,i,l,c;r=tV(e),t=tV(r),n=nt(r),a=r.ownerDocument.body,o=tx(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),i=tx(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight),l=-n.scrollLeft+nu(r),c=-n.scrollTop,"rtl"===ne(a).direction&&(l+=tx(t.clientWidth,a.clientWidth)-o),s={width:o,height:i,x:l,y:c}}else if(tJ(t)){let e,r,a,o,i,l;r=(e=nd(t,!0,"fixed"===n)).top+t.clientTop,a=e.left+t.clientLeft,o=tY(t)?ni(t):tv(1),i=t.clientWidth*o.x,l=t.clientHeight*o.y,s={width:i,height:l,x:a*o.x,y:r*o.y}}else{let n=nc(e);s={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return tL(s)}function np(e){return"static"===ne(e).position}function nx(e,t){if(!tY(e)||"fixed"===ne(e).position)return null;if(t)return t(e);let n=e.offsetParent;return tV(e)===n&&(n=n.ownerDocument.body),n}function ng(e,t){var n;let r=tH(e);if(t2(e))return r;if(!tY(e)){let t=nn(e);for(;t&&!t9(t);){if(tJ(t)&&!np(t))return t;t=nn(t)}return r}let s=nx(e,t);for(;s&&(n=s,t0.has(tU(n)))&&np(s);)s=nx(s,t);return s&&t9(s)&&np(s)&&!t7(s)?r:s||function(e){let t=nn(e);for(;tY(t)&&!t9(t);){if(t7(t))return t;if(t2(t))break;t=nn(t)}return null}(e)||r}let nb=async function(e){let t=this.getOffsetParent||ng,n=this.getDimensions,r=await n(e.floating);return{reference:function(e,t,n){let r=tY(t),s=tV(t),a="fixed"===n,o=nd(e,!0,a,t),i={scrollLeft:0,scrollTop:0},l=tv(0);if(r||!r&&!a)if(("body"!==tU(t)||tQ(s))&&(i=nt(t)),r){let e=nd(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else s&&(l.x=nu(s));a&&!r&&s&&(l.x=nu(s));let c=!s||r||a?tv(0):nh(s,i);return{x:o.left+i.scrollLeft-l.x-c.x,y:o.top+i.scrollTop-l.y-c.y,width:o.width,height:o.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},nv={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e,a="fixed"===s,o=tV(r),i=!!t&&t2(t.floating);if(r===o||i&&a)return n;let l={scrollLeft:0,scrollTop:0},c=tv(1),d=tv(0),u=tY(r);if((u||!u&&!a)&&(("body"!==tU(r)||tQ(o))&&(l=nt(r)),tY(r))){let e=nd(r);c=ni(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}let h=!o||u||a?tv(0):nh(o,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}},getDocumentElement:tV,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e,a=[..."clippingAncestors"===n?t2(t)?[]:function(e,t){let n=t.get(e);if(n)return n;let r=nr(e,[],!1).filter(e=>tJ(e)&&"body"!==tU(e)),s=null,a="fixed"===ne(e).position,o=a?nn(e):e;for(;tJ(o)&&!t9(o);){let t=ne(o),n=t7(o);n||"fixed"!==t.position||(s=null),(a?!n&&!s:!n&&"static"===t.position&&!!s&&nf.has(s.position)||tQ(o)&&!n&&function e(t,n){let r=nn(t);return!(r===n||!tJ(r)||t9(r))&&("fixed"===ne(r).position||e(r,n))}(e,o))?r=r.filter(e=>e!==o):s=t,o=nn(o)}return t.set(e,r),r}(t,this._c):[].concat(n),r],o=a[0],i=a.reduce((e,n)=>{let r=nm(t,n,s);return e.top=tx(r.top,e.top),e.right=tp(r.right,e.right),e.bottom=tp(r.bottom,e.bottom),e.left=tx(r.left,e.left),e},nm(t,o,s));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}},getOffsetParent:ng,getElementRects:nb,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:n}=na(e);return{width:t,height:n}},getScale:ni,isElement:tJ,isRTL:function(e){return"rtl"===ne(e).direction}};function ny(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let nw=e=>({name:"arrow",options:e,async fn(t){let{x:n,y:r,placement:s,rects:a,platform:o,elements:i,middlewareData:l}=t,{element:c,padding:d=0}=tj(e,t)||{};if(null==c)return{};let u=tz(d),h={x:n,y:r},f=tC(tR(s)),m=tM(f),p=await o.getDimensions(c),x="y"===f,g=x?"clientHeight":"clientWidth",b=a.reference[m]+a.reference[f]-h[f]-a.floating[m],v=h[f]-a.reference[f],y=await (null==o.getOffsetParent?void 0:o.getOffsetParent(c)),w=y?y[g]:0;w&&await (null==o.isElement?void 0:o.isElement(y))||(w=i.floating[g]||a.floating[m]);let j=w/2-p[m]/2-1,N=tp(u[x?"top":"left"],j),k=tp(u[x?"bottom":"right"],j),C=w-p[m]-k,M=w/2-p[m]/2+(b/2-v/2),S=tx(N,tp(M,C)),R=!l.arrow&&null!=tk(s)&&M!==S&&a.reference[m]/2-(M<N?N:k)-p[m]/2<0,P=R?M<N?M-N:M-C:0;return{[f]:h[f]+P,data:{[f]:S,centerOffset:M-S-P,...R&&{alignmentOffset:P}},reset:R}}});var nj="undefined"!=typeof document?x.useLayoutEffect:function(){};function nN(e,t){let n,r,s;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((n=e.length)!==t.length)return!1;for(r=n;0!=r--;)if(!nN(e[r],t[r]))return!1;return!0}if((n=(s=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!({}).hasOwnProperty.call(t,s[r]))return!1;for(r=n;0!=r--;){let n=s[r];if(("_owner"!==n||!e.$$typeof)&&!nN(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function nk(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nC(e,t){let n=nk(e);return Math.round(t*n)/n}function nM(e){let t=x.useRef(e);return nj(()=>{t.current=e}),t}var nS=x.forwardRef((e,t)=>{let{children:n,width:r=10,height:s=5,...a}=e;return(0,p.jsx)(tn.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,p.jsx)("polygon",{points:"0,0 30,0 15,10"})})});function nR(e){let[t,n]=x.useState(void 0);return td(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,s;if(!Array.isArray(t)||!t.length)return;let a=t[0];if("borderBoxSize"in a){let e=a.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,s=t.blockSize}else r=e.offsetWidth,s=e.offsetHeight;n({width:r,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}nS.displayName="Arrow";var nP="Popper",[nE,nT]=te(nP),[nA,nD]=nE(nP),n_=e=>{let{__scopePopper:t,children:n}=e,[r,s]=x.useState(null);return(0,p.jsx)(nA,{scope:t,anchor:r,onAnchorChange:s,children:n})};n_.displayName=nP;var nz="PopperAnchor",nL=x.forwardRef((e,t)=>{let{__scopePopper:n,virtualRef:r,...s}=e,a=nD(nz,n),o=x.useRef(null),i=Z(t,o);return x.useEffect(()=>{a.onAnchorChange(r?.current||o.current)}),r?null:(0,p.jsx)(tn.div,{...s,ref:i})});nL.displayName=nz;var nF="PopperContent",[nI,nO]=nE(nF),n$=x.forwardRef((e,t)=>{var n,r,s,a,o,i,l,c,d,u,h,f,m,g,b,v,y,w,j,N,k;let{__scopePopper:C,side:M="bottom",sideOffset:S=0,align:R="center",alignOffset:P=0,arrowPadding:E=0,avoidCollisions:T=!0,collisionBoundary:A=[],collisionPadding:D=0,sticky:_="partial",hideWhenDetached:z=!1,updatePositionStrategy:L="optimized",onPlaced:F,...I}=e,O=nD(nF,C),[$,B]=x.useState(null),X=Z(t,e=>B(e)),[W,G]=x.useState(null),U=nR(W),H=U?.width??0,V=U?.height??0,q="number"==typeof D?D:{top:0,right:0,bottom:0,left:0,...D},J=Array.isArray(A)?A:[A],Y=J.length>0,K={padding:q,boundary:J.filter(nG),altBoundary:Y},{refs:Q,floatingStyles:ee,placement:et,isPositioned:en,middlewareData:er}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:o}={},transform:i=!0,whileElementsMounted:l,open:c}=e,[d,u]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=x.useState(r);nN(h,r)||f(r);let[m,p]=x.useState(null),[g,b]=x.useState(null),v=x.useCallback(e=>{e!==N.current&&(N.current=e,p(e))},[]),y=x.useCallback(e=>{e!==k.current&&(k.current=e,b(e))},[]),w=a||m,j=o||g,N=x.useRef(null),k=x.useRef(null),C=x.useRef(d),M=null!=l,S=nM(l),R=nM(s),P=nM(c),E=x.useCallback(()=>{var e,r;let s,a,o;if(!N.current||!k.current)return;let i={placement:t,strategy:n,middleware:h};R.current&&(i.platform=R.current),(e=N.current,r=k.current,s=new Map,o={...(a={platform:nv,...i}).platform,_c:s},tI(e,r,{...a,platform:o})).then(e=>{let t={...e,isPositioned:!1!==P.current};T.current&&!nN(C.current,t)&&(C.current=t,tt.flushSync(()=>{u(t)}))})},[h,t,n,R,P]);nj(()=>{!1===c&&C.current.isPositioned&&(C.current.isPositioned=!1,u(e=>({...e,isPositioned:!1})))},[c]);let T=x.useRef(!1);nj(()=>(T.current=!0,()=>{T.current=!1}),[]),nj(()=>{if(w&&(N.current=w),j&&(k.current=j),w&&j){if(S.current)return S.current(w,j,E);E()}},[w,j,E,S,M]);let A=x.useMemo(()=>({reference:N,floating:k,setReference:v,setFloating:y}),[v,y]),D=x.useMemo(()=>({reference:w,floating:j}),[w,j]),_=x.useMemo(()=>{let e={position:n,left:0,top:0};if(!D.floating)return e;let t=nC(D.floating,d.x),r=nC(D.floating,d.y);return i?{...e,transform:"translate("+t+"px, "+r+"px)",...nk(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,i,D.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:E,refs:A,elements:D,floatingStyles:_}),[d,E,A,D,_])}({strategy:"fixed",placement:M+("center"!==R?"-"+R:""),whileElementsMounted:(...e)=>(function(e,t,n,r){let s;void 0===r&&(r={});let{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:c=!1}=r,d=no(e),u=a||o?[...d?nr(d):[],...nr(t)]:[];u.forEach(e=>{a&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});let h=d&&l?function(e,t){let n,r=null,s=tV(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return!function o(i,l){void 0===i&&(i=!1),void 0===l&&(l=1),a();let c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:f}=c;if(i||t(),!h||!f)return;let m={rootMargin:-tb(u)+"px "+-tb(s.clientWidth-(d+h))+"px "+-tb(s.clientHeight-(u+f))+"px "+-tb(d)+"px",threshold:tx(0,tp(1,l))||1},p=!0;function x(t){let r=t[0].intersectionRatio;if(r!==l){if(!p)return o();r?o(!1,r):n=setTimeout(()=>{o(!1,1e-7)},1e3)}1!==r||ny(c,e.getBoundingClientRect())||o(),p=!1}try{r=new IntersectionObserver(x,{...m,root:s.ownerDocument})}catch(e){r=new IntersectionObserver(x,m)}r.observe(e)}(!0),a}(d,n):null,f=-1,m=null;i&&(m=new ResizeObserver(e=>{let[r]=e;r&&r.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),n()}),d&&!c&&m.observe(d),m.observe(t));let p=c?nd(e):null;return c&&function t(){let r=nd(e);p&&!ny(p,r)&&n(),p=r,s=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{a&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==h||h(),null==(e=m)||e.disconnect(),m=null,c&&cancelAnimationFrame(s)}})(...e,{animationFrame:"always"===L}),elements:{reference:O.anchor},middleware:[{...{name:"offset",options:s=n={mainAxis:S+V,alignmentAxis:P},async fn(e){var t,n;let{x:r,y:a,placement:o,middlewareData:i}=e,l=await tW(e,s);return o===(null==(t=i.offset)?void 0:t.placement)&&null!=(n=i.arrow)&&n.alignmentOffset?{}:{x:r+l.x,y:a+l.y,data:{...l,placement:o}}}},options:[n,r]},T&&{...{name:"shift",options:d=l={mainAxis:!0,crossAxis:!1,limiter:"partial"===_?{...(void 0===(i=a)&&(i={}),{options:i,fn(e){let{x:t,y:n,placement:r,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=tj(i,e),d={x:t,y:n},u=tR(r),h=tC(u),f=d[h],m=d[u],p=tj(o,e),x="number"==typeof p?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){let e="y"===h?"height":"width",t=s.reference[h]-s.floating[e]+x.mainAxis,n=s.reference[h]+s.reference[e]-x.mainAxis;f<t?f=t:f>n&&(f=n)}if(c){var g,b;let e="y"===h?"width":"height",t=tX.has(tN(r)),n=s.reference[u]-s.floating[e]+(t&&(null==(g=a.offset)?void 0:g[u])||0)+(t?0:x.crossAxis),o=s.reference[u]+s.reference[e]+(t?0:(null==(b=a.offset)?void 0:b[u])||0)-(t?x.crossAxis:0);m<n?m=n:m>o&&(m=o)}return{[h]:f,[u]:m}}}),options:[a,o]}:void 0,...K},async fn(e){let{x:t,y:n,placement:r}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...i}=tj(d,e),l={x:t,y:n},c=await tO(e,i),u=tR(tN(r)),h=tC(u),f=l[h],m=l[u];if(s){let e="y"===h?"top":"left",t="y"===h?"bottom":"right",n=f+c[e],r=f-c[t];f=tx(n,tp(f,r))}if(a){let e="y"===u?"top":"left",t="y"===u?"bottom":"right",n=m+c[e],r=m-c[t];m=tx(n,tp(m,r))}let p=o.fn({...e,[h]:f,[u]:m});return{...p,data:{x:p.x-t,y:p.y-n,enabled:{[h]:s,[u]:a}}}}},options:[l,c]},T&&{...{name:"flip",options:f=u={...K},async fn(e){var t,n,r,s,a,o,i,l;let c,d,u,{placement:h,middlewareData:m,rects:p,initialPlacement:x,platform:g,elements:b}=e,{mainAxis:v=!0,crossAxis:y=!0,fallbackPlacements:w,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:k=!0,...C}=tj(f,e);if(null!=(t=m.arrow)&&t.alignmentOffset)return{};let M=tN(h),S=tR(x),R=tN(x)===x,P=await (null==g.isRTL?void 0:g.isRTL(b.floating)),E=w||(R||!k?[t_(x)]:(c=t_(x),[tP(x),c,tP(c)])),T="none"!==N;!w&&T&&E.push(...(d=tk(x),u=function(e,t,n){switch(e){case"top":case"bottom":if(n)return t?tT:tE;return t?tE:tT;case"left":case"right":return t?tA:tD;default:return[]}}(tN(x),"start"===N,P),d&&(u=u.map(e=>e+"-"+d),k&&(u=u.concat(u.map(tP)))),u));let A=[x,...E],D=await tO(e,C),_=[],z=(null==(n=m.flip)?void 0:n.overflows)||[];if(v&&_.push(D[M]),y){let e,t,n,r,s=(o=h,i=p,void 0===(l=P)&&(l=!1),e=tk(o),n=tM(t=tC(tR(o))),r="x"===t?e===(l?"end":"start")?"right":"left":"start"===e?"bottom":"top",i.reference[n]>i.floating[n]&&(r=t_(r)),[r,t_(r)]);_.push(D[s[0]],D[s[1]])}if(z=[...z,{placement:h,overflows:_}],!_.every(e=>e<=0)){let e=((null==(r=m.flip)?void 0:r.index)||0)+1,t=A[e];if(t&&("alignment"!==y||S===tR(t)||z.every(e=>tR(e.placement)!==S||e.overflows[0]>0)))return{data:{index:e,overflows:z},reset:{placement:t}};let n=null==(s=z.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:s.placement;if(!n)switch(j){case"bestFit":{let e=null==(a=z.filter(e=>{if(T){let t=tR(e.placement);return t===S||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:a[0];e&&(n=e);break}case"initialPlacement":n=x}if(h!==n)return{reset:{placement:n}}}return{}}},options:[u,h]},{...{name:"size",options:b=m={...K,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{let{width:s,height:a}=t.reference,o=e.floating.style;o.setProperty("--radix-popper-available-width",`${n}px`),o.setProperty("--radix-popper-available-height",`${r}px`),o.setProperty("--radix-popper-anchor-width",`${s}px`),o.setProperty("--radix-popper-anchor-height",`${a}px`)}},async fn(e){var t,n;let r,s,{placement:a,rects:o,platform:i,elements:l}=e,{apply:c=()=>{},...d}=tj(b,e),u=await tO(e,d),h=tN(a),f=tk(a),m="y"===tR(a),{width:p,height:x}=o.floating;"top"===h||"bottom"===h?(r=h,s=f===(await (null==i.isRTL?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(s=h,r="end"===f?"top":"bottom");let g=x-u.top-u.bottom,v=p-u.left-u.right,y=tp(x-u[r],g),w=tp(p-u[s],v),j=!e.middlewareData.shift,N=y,k=w;if(null!=(t=e.middlewareData.shift)&&t.enabled.x&&(k=v),null!=(n=e.middlewareData.shift)&&n.enabled.y&&(N=g),j&&!f){let e=tx(u.left,0),t=tx(u.right,0),n=tx(u.top,0),r=tx(u.bottom,0);m?k=p-2*(0!==e||0!==t?e+t:tx(u.left,u.right)):N=x-2*(0!==n||0!==r?n+r:tx(u.top,u.bottom))}await c({...e,availableWidth:k,availableHeight:N});let C=await i.getDimensions(l.floating);return p!==C.width||x!==C.height?{reset:{rects:!0}}:{}}},options:[m,g]},W&&{...{name:"arrow",options:w=v={element:W,padding:E},fn(e){let{element:t,padding:n}="function"==typeof w?w(e):w;return t&&({}).hasOwnProperty.call(t,"current")?null!=t.current?nw({element:t.current,padding:n}).fn(e):{}:t?nw({element:t,padding:n}).fn(e):{}}},options:[v,y]},nU({arrowWidth:H,arrowHeight:V}),z&&{...{name:"hide",options:k=j={strategy:"referenceHidden",...K},async fn(e){let{rects:t}=e,{strategy:n="referenceHidden",...r}=tj(k,e);switch(n){case"referenceHidden":{let n=t$(await tO(e,{...r,elementContext:"reference"}),t.reference);return{data:{referenceHiddenOffsets:n,referenceHidden:tB(n)}}}case"escaped":{let n=t$(await tO(e,{...r,altBoundary:!0}),t.floating);return{data:{escapedOffsets:n,escaped:tB(n)}}}default:return{}}}},options:[j,N]}]}),[es,ea]=nH(et),eo=ts(F);td(()=>{en&&eo?.()},[en,eo]);let ei=er.arrow?.x,el=er.arrow?.y,ec=er.arrow?.centerOffset!==0,[ed,eu]=x.useState();return td(()=>{$&&eu(window.getComputedStyle($).zIndex)},[$]),(0,p.jsx)("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:en?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ed,"--radix-popper-transform-origin":[er.transformOrigin?.x,er.transformOrigin?.y].join(" "),...er.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,p.jsx)(nI,{scope:C,placedSide:es,onArrowChange:G,arrowX:ei,arrowY:el,shouldHideArrow:ec,children:(0,p.jsx)(tn.div,{"data-side":es,"data-align":ea,...I,ref:X,style:{...I.style,animation:en?void 0:"none"}})})})});n$.displayName=nF;var nB="PopperArrow",nX={top:"bottom",right:"left",bottom:"top",left:"right"},nW=x.forwardRef(function(e,t){let{__scopePopper:n,...r}=e,s=nO(nB,n),a=nX[s.placedSide];return(0,p.jsx)("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:(0,p.jsx)(nS,{...r,ref:t,style:{...r.style,display:"block"}})})});function nG(e){return null!==e}nW.displayName=nB;var nU=e=>({name:"transformOrigin",options:e,fn(t){let{placement:n,rects:r,middlewareData:s}=t,a=s.arrow?.centerOffset!==0,o=a?0:e.arrowWidth,i=a?0:e.arrowHeight,[l,c]=nH(n),d={start:"0%",center:"50%",end:"100%"}[c],u=(s.arrow?.x??0)+o/2,h=(s.arrow?.y??0)+i/2,f="",m="";return"bottom"===l?(f=a?d:`${u}px`,m=`${-i}px`):"top"===l?(f=a?d:`${u}px`,m=`${r.floating.height+i}px`):"right"===l?(f=`${-i}px`,m=a?d:`${h}px`):"left"===l&&(f=`${r.floating.width+i}px`,m=a?d:`${h}px`),{data:{x:f,y:m}}}});function nH(e){let[t,n="center"]=e.split("-");return[t,n]}var nV=x.forwardRef((e,t)=>{let{container:n,...r}=e,[s,a]=x.useState(!1);td(()=>a(!0),[]);let o=n||s&&globalThis?.document?.body;return o?tt.default.createPortal((0,p.jsx)(tn.div,{...r,ref:t}),o):null});nV.displayName="Portal";var nq=e=>{var t;let n,r,{present:s,children:a}=e,o=function(e){var t,n;let[r,s]=x.useState(),a=x.useRef({}),o=x.useRef(e),i=x.useRef("none"),[l,c]=(t=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},x.useReducer((e,t)=>n[e][t]??e,t));return x.useEffect(()=>{let e=nJ(a.current);i.current="mounted"===l?e:"none"},[l]),td(()=>{let t=a.current,n=o.current;if(n!==e){let r=i.current,s=nJ(t);e?c("MOUNT"):"none"===s||t?.display==="none"?c("UNMOUNT"):n&&r!==s?c("ANIMATION_OUT"):c("UNMOUNT"),o.current=e}},[e,c]),td(()=>{if(r){let e,t=r.ownerDocument.defaultView??window,n=n=>{let s=nJ(a.current).includes(n.animationName);if(n.target===r&&s&&(c("ANIMATION_END"),!o.current)){let n=r.style.animationFillMode;r.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=n)})}},s=e=>{e.target===r&&(i.current=nJ(a.current))};return r.addEventListener("animationstart",s),r.addEventListener("animationcancel",n),r.addEventListener("animationend",n),()=>{t.clearTimeout(e),r.removeEventListener("animationstart",s),r.removeEventListener("animationcancel",n),r.removeEventListener("animationend",n)}}c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(e=>{e&&(a.current=getComputedStyle(e)),s(e)},[])}}(s),i="function"==typeof a?a({present:o.isPresent}):x.Children.only(a),l=Z(o.ref,(t=i,(r=(n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof a||o.isPresent?x.cloneElement(i,{ref:l}):null};function nJ(e){return e?.animationName||"none"}function nY({prop:e,defaultProp:t,onChange:n=()=>{}}){let[r,s]=function({defaultProp:e,onChange:t}){let n=x.useState(e),[r]=n,s=x.useRef(r),a=ts(t);return x.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}({defaultProp:t,onChange:n}),a=void 0!==e,o=a?e:r,i=ts(n);return[o,x.useCallback(t=>{if(a){let n="function"==typeof t?t(e):t;n!==e&&i(n)}else s(t)},[a,e,s,i])]}nq.displayName="Presence";var nK=x.forwardRef((e,t)=>(0,p.jsx)(tn.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));nK.displayName="VisuallyHidden";var[nZ,nQ]=te("Tooltip",[nT]),n0=nT(),n1="TooltipProvider",n2="tooltip.open",[n5,n4]=nZ(n1),n3=e=>{let{__scopeTooltip:t,delayDuration:n=700,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,[o,i]=x.useState(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{let e=c.current;return()=>window.clearTimeout(e)},[]),(0,p.jsx)(n5,{scope:t,isOpenDelayed:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),i(!1)},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(e=>{l.current=e},[]),disableHoverableContent:s,children:a})};n3.displayName=n1;var n7="Tooltip",[n8,n6]=nZ(n7),n9=e=>{let{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:i}=e,l=n4(n7,e.__scopeTooltip),c=n0(t),[d,u]=x.useState(null),h=tf(),f=x.useRef(0),m=o??l.disableHoverableContent,g=i??l.delayDuration,b=x.useRef(!1),[v=!1,y]=nY({prop:r,defaultProp:s,onChange:e=>{e?(l.onOpen(),document.dispatchEvent(new CustomEvent(n2))):l.onClose(),a?.(e)}}),w=x.useMemo(()=>v?b.current?"delayed-open":"instant-open":"closed",[v]),j=x.useCallback(()=>{window.clearTimeout(f.current),f.current=0,b.current=!1,y(!0)},[y]),N=x.useCallback(()=>{window.clearTimeout(f.current),f.current=0,y(!1)},[y]),k=x.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{b.current=!0,y(!0),f.current=0},g)},[g,y]);return x.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),(0,p.jsx)(n_,{...c,children:(0,p.jsx)(n8,{scope:t,contentId:h,open:v,stateAttribute:w,trigger:d,onTriggerChange:u,onTriggerEnter:x.useCallback(()=>{l.isOpenDelayed?k():j()},[l.isOpenDelayed,k,j]),onTriggerLeave:x.useCallback(()=>{m?N():(window.clearTimeout(f.current),f.current=0)},[N,m]),onOpen:j,onClose:N,disableHoverableContent:m,children:n})})};n9.displayName=n7;var re="TooltipTrigger",rt=x.forwardRef((e,t)=>{let{__scopeTooltip:n,...r}=e,s=n6(re,n),a=n4(re,n),o=n0(n),i=Z(t,x.useRef(null),s.onTriggerChange),l=x.useRef(!1),c=x.useRef(!1),d=x.useCallback(()=>l.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),(0,p.jsx)(nL,{asChild:!0,...o,children:(0,p.jsx)(tn.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:i,onPointerMove:e9(e.onPointerMove,e=>{"touch"!==e.pointerType&&(c.current||a.isPointerInTransitRef.current||(s.onTriggerEnter(),c.current=!0))}),onPointerLeave:e9(e.onPointerLeave,()=>{s.onTriggerLeave(),c.current=!1}),onPointerDown:e9(e.onPointerDown,()=>{l.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:e9(e.onFocus,()=>{l.current||s.onOpen()}),onBlur:e9(e.onBlur,s.onClose),onClick:e9(e.onClick,s.onClose)})})});rt.displayName=re;var rn="TooltipPortal",[rr,rs]=nZ(rn,{forceMount:void 0}),ra=e=>{let{__scopeTooltip:t,forceMount:n,children:r,container:s}=e,a=n6(rn,t);return(0,p.jsx)(rr,{scope:t,forceMount:n,children:(0,p.jsx)(nq,{present:n||a.open,children:(0,p.jsx)(nV,{asChild:!0,container:s,children:r})})})};ra.displayName=rn;var ro="TooltipContent",ri=x.forwardRef((e,t)=>{let n=rs(ro,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,o=n6(ro,e.__scopeTooltip);return(0,p.jsx)(nq,{present:r||o.open,children:o.disableHoverableContent?(0,p.jsx)(ru,{side:s,...a,ref:t}):(0,p.jsx)(rl,{side:s,...a,ref:t})})}),rl=x.forwardRef((e,t)=>{let n=n6(ro,e.__scopeTooltip),r=n4(ro,e.__scopeTooltip),s=x.useRef(null),a=Z(t,s),[o,i]=x.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:u}=r,h=x.useCallback(()=>{i(null),u(!1)},[u]),f=x.useCallback((e,t)=>{let n,r=e.currentTarget,s={x:e.clientX,y:e.clientY},a=function(e,t){let n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw Error("unreachable")}}(s,r.getBoundingClientRect());i(((n=[...function(e,t,n=5){let r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return r}(s,a),...function(e){let{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}(t.getBoundingClientRect())].slice()).sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let n=0;n<e.length;n++){let r=e[n];for(;t.length>=2;){let e=t[t.length-1],n=t[t.length-2];if((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x))t.pop();else break}t.push(r)}t.pop();let n=[];for(let t=e.length-1;t>=0;t--){let r=e[t];for(;n.length>=2;){let e=n[n.length-1],t=n[n.length-2];if((e.x-t.x)*(r.y-t.y)>=(e.y-t.y)*(r.x-t.x))n.pop();else break}n.push(r)}return(n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y)?t:t.concat(n)}(n))),u(!0)},[u]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(l&&d){let e=e=>f(e,d),t=e=>f(e,l);return l.addEventListener("pointerleave",e),d.addEventListener("pointerleave",t),()=>{l.removeEventListener("pointerleave",e),d.removeEventListener("pointerleave",t)}}},[l,d,f,h]),x.useEffect(()=>{if(o){let e=e=>{let t=e.target,n={x:e.clientX,y:e.clientY},r=l?.contains(t)||d?.contains(t),s=!function(e,t){let{x:n,y:r}=e,s=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let o=t[e].x,i=t[e].y,l=t[a].x,c=t[a].y;i>r!=c>r&&n<(l-o)*(r-i)/(c-i)+o&&(s=!s)}return s}(n,o);r?h():s&&(h(),c())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[l,d,o,c,h]),(0,p.jsx)(ru,{...e,ref:a})}),[rc,rd]=nZ(n7,{isInside:!1}),ru=x.forwardRef((e,t)=>{let{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...i}=e,l=n6(ro,n),c=n0(n),{onClose:d}=l;return x.useEffect(()=>(document.addEventListener(n2,d),()=>document.removeEventListener(n2,d)),[d]),x.useEffect(()=>{if(l.trigger){let e=e=>{let t=e.target;t?.contains(l.trigger)&&d()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[l.trigger,d]),(0,p.jsx)(ti,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:d,children:(0,p.jsxs)(n$,{"data-state":l.stateAttribute,...c,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,p.jsx)(et,{children:r}),(0,p.jsx)(rc,{scope:n,isInside:!0,children:(0,p.jsx)(nK,{id:l.contentId,role:"tooltip",children:s||r})})]})})});ri.displayName=ro;var rh="TooltipArrow",rf=x.forwardRef((e,t)=>{let{__scopeTooltip:n,...r}=e,s=n0(n);return rd(rh,n).isInside?null:(0,p.jsx)(nW,{...s,...r,ref:t})});function rm({delayDuration:e=0,...t}){return(0,p.jsx)(n3,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function rp({...e}){return(0,p.jsx)(rm,{children:(0,p.jsx)(n9,{"data-slot":"tooltip",...e})})}function rx({...e}){return(0,p.jsx)(rt,{"data-slot":"tooltip-trigger",...e})}function rg({className:e,sideOffset:t=0,children:n,...r}){return(0,p.jsx)(ra,{children:(0,p.jsxs)(ri,{"data-slot":"tooltip-content",sideOffset:t,className:eU("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,(0,p.jsx)(rf,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}rf.displayName=rh;var rb=e.i(86730),rv=e.i(65280);function ry(e){return`die-to-die-runid:ranked:${e}`}function rw(e,t){return`die-to-die-nonce:ranked:${e}:${t}`}function rj(e){let t=function(e){try{return localStorage.getItem(ry(e))}catch{return null}}(e);if(t)return t;let n=Date.now().toString(36)+Math.random().toString(36).substring(2,7);try{localStorage.setItem(ry(e),n),localStorage.setItem(rw(e,n),"0")}catch{}return n}function rN(e,t){try{let n=rw(e,t),r=localStorage.getItem(n),s=(r?Number.parseInt(r,10):0)+1;return localStorage.setItem(n,String(s)),s}catch{return Math.floor(1e6*Math.random())}}var rk=e.i(154);function rC({amount:e,critical:t,rerolls:n,comboTypes:r,massiveSpike:s,comboCount:a,label:o,onDone:i}){let l=(0,x.useMemo)(()=>s||e>=200?"epic":e>=50?"great":e>=10?"good":"tiny",[e,s]),c="epic"===l?2500:"great"===l?1800:"good"===l?1500:1200,d="epic"===l?120:"great"===l?90:"good"===l?70:50,u="epic"===l?1.35:"great"===l?1.25:"good"===l?1.15:1.08,h="epic"===l?50:"great"===l?35:"good"===l?20:10;(0,x.useEffect)(()=>{if(!i)return;let e=setTimeout(()=>i(),c);return()=>clearTimeout(e)},[i,c]);let f=e>0?`+${e}`:`${e}`,m=t?"CRIT":n&&n>0?`Lucky x${n}`:"";return(0,p.jsxs)("div",{style:{animation:`popIn 160ms ease-out, spawnShake 220ms ease-out, floatUp ${c}ms ease-out forwards, glowPulse ${c}ms ease-in-out`,transformOrigin:"center"},className:rk.default.dynamic([["2a2aa4a5835c7c3f",[Math.round(.5*d),u,Math.round(.8*d),.92*u,d,1.02*u,d,d,2*d,Math.round(.6*d),Math.round(.6*d)]]])+" relative px-4 py-2 rounded-md z-30",children:[(0,p.jsx)("div",{style:{animation:`shockwave ${Math.min(600,c)}ms ease-out`,background:"radial-gradient(circle, rgba(255,255,255,0.5) 0%, rgba(255,255,255,0.18) 40%, rgba(255,255,255,0) 70%)",borderRadius:9999,filter:"epic"===l?"brightness(1.3)":"brightness(1.0)"},className:rk.default.dynamic([["2a2aa4a5835c7c3f",[Math.round(.5*d),u,Math.round(.8*d),.92*u,d,1.02*u,d,d,2*d,Math.round(.6*d),Math.round(.6*d)]]])+" absolute inset-0 -z-10"}),(0,p.jsxs)("div",{style:{textShadow:"epic"===l?"0 0 14px rgba(255,215,0,0.8), 0 0 28px rgba(255,215,0,0.6)":"great"===l?"0 0 10px rgba(255,215,0,0.6), 0 0 20px rgba(255,215,0,0.4)":"0 0 8px rgba(0,255,136,0.5)",transform:`scale(${u})`},className:rk.default.dynamic([["2a2aa4a5835c7c3f",[Math.round(.5*d),u,Math.round(.8*d),.92*u,d,1.02*u,d,d,2*d,Math.round(.6*d),Math.round(.6*d)]]])+" "+`relative text-center font-extrabold tracking-tight select-none ${"epic"===l?"text-yellow-300":"great"===l?"text-casino-gold":"good"===l?"text-[#00FF88]":"text-[#7CFFB8]"}`,children:[o&&(0,p.jsx)("div",{className:rk.default.dynamic([["2a2aa4a5835c7c3f",[Math.round(.5*d),u,Math.round(.8*d),.92*u,d,1.02*u,d,d,2*d,Math.round(.6*d),Math.round(.6*d)]]])+" mb-1 text-white/90 text-sm",children:o}),(0,p.jsxs)("span",{className:rk.default.dynamic([["2a2aa4a5835c7c3f",[Math.round(.5*d),u,Math.round(.8*d),.92*u,d,1.02*u,d,d,2*d,Math.round(.6*d),Math.round(.6*d)]]])+" inline-block text-2xl md:text-3xl",children:[m&&(0,p.jsx)("span",{className:rk.default.dynamic([["2a2aa4a5835c7c3f",[Math.round(.5*d),u,Math.round(.8*d),.92*u,d,1.02*u,d,d,2*d,Math.round(.6*d),Math.round(.6*d)]]])+" mr-2 text-white/80",children:m}),f]}),r&&r.length>0&&(0,p.jsx)("div",{className:rk.default.dynamic([["2a2aa4a5835c7c3f",[Math.round(.5*d),u,Math.round(.8*d),.92*u,d,1.02*u,d,d,2*d,Math.round(.6*d),Math.round(.6*d)]]])+" mt-1 flex gap-1 justify-center",children:r.map((e,t)=>(0,p.jsx)("span",{className:rk.default.dynamic([["2a2aa4a5835c7c3f",[Math.round(.5*d),u,Math.round(.8*d),.92*u,d,1.02*u,d,d,2*d,Math.round(.6*d),Math.round(.6*d)]]])+" px-2 py-[2px] rounded bg-black/40 border border-white/20 text-white/80 text-[12px]",children:e.replace(/-/g," ")},t))}),a&&a>=3&&(0,p.jsx)("div",{style:{transform:"translate(-50%, -50%)"},className:rk.default.dynamic([["2a2aa4a5835c7c3f",[Math.round(.5*d),u,Math.round(.8*d),.92*u,d,1.02*u,d,d,2*d,Math.round(.6*d),Math.round(.6*d)]]])+" absolute left-1/2 top-1/2",children:(0,p.jsxs)("span",{style:{animation:"orbitBadge 1500ms linear infinite"},className:rk.default.dynamic([["2a2aa4a5835c7c3f",[Math.round(.5*d),u,Math.round(.8*d),.92*u,d,1.02*u,d,d,2*d,Math.round(.6*d),Math.round(.6*d)]]])+" inline-block px-2 py-[2px] rounded-full bg-black/50 border border-white/20 text-white/90 text-xs",children:["COMBO x",a]})})]}),(0,p.jsx)("div",{className:rk.default.dynamic([["2a2aa4a5835c7c3f",[Math.round(.5*d),u,Math.round(.8*d),.92*u,d,1.02*u,d,d,2*d,Math.round(.6*d),Math.round(.6*d)]]])+" pointer-events-none absolute inset-0 -z-10",children:Array.from({length:h}).map((e,t)=>{let n=2+Math.round(3*Math.random()),r="epic"===l?["#FFD54F","#FFEE58","#FFF176"][t%3]:"great"===l?["#FFC107","#FFD54F","#FFE082"][t%3]:["#7CFFB8","#00FF88","#B7FFD8"][t%3],s=Math.round(180*Math.random()),a=Math.round(120*Math.random());return(0,p.jsx)("span",{style:{width:n,height:n,backgroundColor:r,left:"50%",top:"50%",transform:`translate(-50%, -50%) rotate(${s}deg)`,animation:`particleExplode ${c-200}ms ease-out ${a}ms forwards`},className:rk.default.dynamic([["2a2aa4a5835c7c3f",[Math.round(.5*d),u,Math.round(.8*d),.92*u,d,1.02*u,d,d,2*d,Math.round(.6*d),Math.round(.6*d)]]])+" absolute rounded-full opacity-90"},t)})}),"epic"===l&&(0,p.jsx)("div",{className:rk.default.dynamic([["2a2aa4a5835c7c3f",[Math.round(.5*d),u,Math.round(.8*d),.92*u,d,1.02*u,d,d,2*d,Math.round(.6*d),Math.round(.6*d)]]])+" pointer-events-none absolute inset-0 -z-20",children:Array.from({length:24}).map((e,t)=>{let n=Math.round(100*Math.random()),r=4+Math.round(4*Math.random()),s=Math.round(200*Math.random()),a=40+Math.round(300*Math.random());return(0,p.jsx)("span",{style:{left:`${n}%`,top:"-10px",width:r,height:r,backgroundColor:`hsl(${a} 90% 60%)`,transform:"rotate(15deg)",animation:`confettiFall ${c}ms ease-out ${s}ms forwards`},className:rk.default.dynamic([["2a2aa4a5835c7c3f",[Math.round(.5*d),u,Math.round(.8*d),.92*u,d,1.02*u,d,d,2*d,Math.round(.6*d),Math.round(.6*d)]]])+" absolute"},t)})}),(0,p.jsx)(rk.default,{id:"2a2aa4a5835c7c3f",dynamic:[Math.round(.5*d),u,Math.round(.8*d),.92*u,d,1.02*u,d,d,2*d,Math.round(.6*d),Math.round(.6*d)],children:`@keyframes popIn{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes spawnShake{0%{transform:translate(0)}25%{transform:translate(-2px)}50%{transform:translate(2px)}75%{transform:translate(-1px)}to{transform:translate(0)}}@keyframes floatUp{0%{opacity:1;transform:translateY(0)}30%{transform:translateY(-${Math.round(.5*d)}px)scale(${u})}60%{transform:translateY(-${Math.round(.8*d)}px)scale(${.92*u})}to{transform:translateY(-${d}px)scale(${1.02*u});opacity:0}}@keyframes glowPulse{0%,to{filter:brightness()}25%{filter:brightness(1.15)}50%{filter:brightness(1.3)}75%{filter:brightness(1.15)}}@keyframes shockwave{0%{opacity:.8;transform:scale(.5)}to{opacity:0;transform:scale(1.6)}}@keyframes particleExplode{0%{opacity:1;transform:translate(-50%,-50%)}to{transform:translate(calc(-50% + ${d}px),calc(-50% - ${d}px));opacity:0}}@keyframes confettiFall{0%{opacity:1;transform:translateY(0)rotate(0)}to{transform:translateY(${2*d}px)rotate(120deg);opacity:0}}@keyframes orbitBadge{0%{transform:rotate(0deg)translateX(${Math.round(.6*d)}px)rotate(0deg)}to{transform:rotate(360deg)translateX(${Math.round(.6*d)}px)rotate(-360deg)}}`})]})}function rM({text:e,rarity:t="common",onDone:n}){let r="epic"===t?2600:"rare"===t?2200:1800,s="epic"===t?240:"rare"===t?180:140,a=Math.round(360*Math.random()),o=Math.cos(a*Math.PI/180)*s,i=Math.sin(a*Math.PI/180)*s;return(0,x.useEffect)(()=>{if(!n)return;let e=setTimeout(()=>n(),r);return()=>clearTimeout(e)},[n,r]),(0,p.jsxs)("div",{style:{transform:"translate(-50%, -50%)"},className:rk.default.dynamic([["b5570d07322249c3",[.25*o,.25*i,.7*o,.7*i,o,i]]])+" absolute left-1/2 top-1/2 pointer-events-none",children:[(0,p.jsxs)("div",{style:{color:"#fff",background:"rgba(0,0,0,0.45)",borderColor:"rgba(255,255,255,0.2)",animation:`arcFloat ${r}ms cubic-bezier(0.22, 1, 0.36, 1) forwards`},className:rk.default.dynamic([["b5570d07322249c3",[.25*o,.25*i,.7*o,.7*i,o,i]]])+" relative px-3 py-2 rounded-lg border shadow-xl",children:[(0,p.jsx)("span",{className:rk.default.dynamic([["b5570d07322249c3",[.25*o,.25*i,.7*o,.7*i,o,i]]])+" mr-2",children:""}),(0,p.jsx)("span",{style:{color:`hsl(${"epic"===t?52:"rare"===t?200:140} 90% 60%)`},className:rk.default.dynamic([["b5570d07322249c3",[.25*o,.25*i,.7*o,.7*i,o,i]]])+" font-bold",children:e}),(0,p.jsx)("span",{style:{transform:"translate(-50%, -50%)",animation:`landRipple ${Math.min(500,r)}ms ease-out ${r-400}ms forwards`},className:rk.default.dynamic([["b5570d07322249c3",[.25*o,.25*i,.7*o,.7*i,o,i]]])+" absolute left-1/2 top-full",children:(0,p.jsx)("span",{style:{background:"radial-gradient(circle, rgba(255,255,255,0.5) 0%, rgba(255,255,255,0.2) 60%, rgba(255,255,255,0) 100%)"},className:rk.default.dynamic([["b5570d07322249c3",[.25*o,.25*i,.7*o,.7*i,o,i]]])+" block w-6 h-6 rounded-full"})})]}),(0,p.jsx)(rk.default,{id:"b5570d07322249c3",dynamic:[.25*o,.25*i,.7*o,.7*i,o,i],children:`@keyframes arcFloat{0%{opacity:0;transform:translate(-50%,-50%)scale(.8)}20%{transform:translate(calc(-50% + ${.25*o}px),calc(-50% + ${.25*i}px))scale(1.05);opacity:1}60%{transform:translate(calc(-50% + ${.7*o}px),calc(-50% + ${.7*i}px))scale(1);opacity:1}to{transform:translate(calc(-50% + ${o}px),calc(-50% + ${i}px))scale(.98);opacity:0}}@keyframes landRipple{0%{opacity:.8;transform:translate(-50%,-50%)scale(.6)}to{opacity:0;transform:translate(-50%,-50%)scale(1.6)}}`})]})}function rS({gameState:e,setGameState:t,onRollCup:n,onRollAll:r,rollingCups:s,onOpenShop:a,lastRollOverlay:o,achievementPopups:i}){let l,c,d,u,{accountName:h,transactGameAction:f}=(0,rb.useBlockchain)(),[m,g]=(0,x.useState)(()=>{let t=e.cups.find(e=>e.unlocked);return t?.id??e.cups[0]?.id??""}),[b,v]=(0,x.useState)(!1),[y,w]=(0,x.useState)(!1),[j,N]=(0,x.useState)(0),k=function(){let[e,t]=x.useState(void 0);return x.useEffect(()=>{let e=window.matchMedia("(max-width: 767px)"),n=()=>{t(window.innerWidth<768)};return e.addEventListener("change",n),t(window.innerWidth<768),()=>e.removeEventListener("change",n)},[]),!!e}(),[C,M]=(0,x.useState)(1),[S,R]=(0,x.useState)({x:0,y:0}),[P,E]=(0,x.useState)(!1),T=(0,x.useRef)(!1),A=(0,x.useRef)(null),D=(0,x.useRef)(!1),[_,z]=(0,x.useState)(1),F=(0,x.useMemo)(()=>C*_,[C,_]),I=F>1;(0,x.useEffect)(()=>{if(!e.cups.some(e=>e.id===m&&e.unlocked)){let t=e.cups.find(e=>e.unlocked)||e.cups[0];t&&g(t.id)}},[e.cups,m]),(0,x.useEffect)(()=>{let t=Math.max(0,e.cups.filter(e=>e.unlocked).length-3);N(e=>Math.min(Math.max(0,e),t))},[e.cups]);let O=e.cups.find(e=>e.id===m);(0,x.useEffect)(()=>{if(s.has(m)){z(e.reduceGraphics?1:1.05);let t=setTimeout(()=>z(1),220*!e.reduceGraphics);if(e.reduceGraphics)return()=>{clearTimeout(t)};let n={x:S.x,y:S.y},r=[{x:n.x+2,y:n.y},{x:n.x-2,y:n.y},{x:n.x,y:n.y+2},{x:n.x,y:n.y-2},{x:n.x,y:n.y}].map((e,t)=>setTimeout(()=>R(e),40*t));return()=>{clearTimeout(t),r.forEach(clearTimeout)}}},[s,m,e.reduceGraphics]),(0,x.useEffect)(()=>{if(o?.massiveSpike){z(e.reduceGraphics?1:1.12);let t=setTimeout(()=>z(1),480*!e.reduceGraphics);if(e.reduceGraphics)return()=>{clearTimeout(t)};let n={x:S.x,y:S.y},r=[{x:n.x+4,y:n.y},{x:n.x-4,y:n.y},{x:n.x,y:n.y+4},{x:n.x,y:n.y-4},{x:n.x+2,y:n.y+2},{x:n.x-2,y:n.y-2},{x:n.x,y:n.y}].map((e,t)=>setTimeout(()=>R(e),50*t));return()=>{clearTimeout(t),r.forEach(clearTimeout)}}},[o?.massiveSpike,e.reduceGraphics]);let $=(0,x.useMemo)(()=>O?.slots??0,[O?.slots]),B=(0,x.useMemo)(()=>Math.floor(50*Math.pow(1.5,$)),[$]),X=(0,x.useMemo)(()=>Math.floor(300*Math.pow(1.8,Math.floor(((O?.earningMultiplier??1)-1)*10))),[O?.earningMultiplier]),W=(0,x.useMemo)(()=>(e.cups||[]).filter(e=>e.unlocked).reduce((e,t)=>e+t.slots,0),[e.cups]),G=(0,x.useMemo)(()=>e.bag.length>W,[e.bag.length,W]),U=(0,x.useMemo)(()=>e.coins>=B,[e.coins,B]),H=(0,x.useMemo)(()=>G&&U,[G,U]),V=(0,x.useMemo)(()=>e.coins>=X,[e.coins,X]),q=async()=>{if(O&&G&&U){if("ranked"===e.mode&&h&&O){let t=rj(h),n=rN(h,t);if(!await f({type:rv.ActionType.UPGRADE_FACTORY,runId:t,nonce:n,timestamp:Date.now(),params:{cupId:O.id,upgrade:"slot",cost:B}},{token:"WAX"===e.preferredPaymentMethod?"WAX":"PXJ"}))return}t(e=>{let t=e.cups.map(e=>e.id===O.id?{...e,slots:e.slots+1}:e),n=[...e.bag],r=t.map(e=>{if(!e.unlocked)return e;let t=[];for(let r=0;r<e.slots&&0!==n.length;r++){let e=Math.floor(Math.random()*n.length),r={...n[e]};n.splice(e,1),r.currentValue=L(r),t.push(r)}return{...e,dice:t}});return{...e,coins:e.coins-B,cups:r,bag:e.bag}})}},J=async()=>{if(O&&V){if("ranked"===e.mode&&h&&O){let t=rj(h),n=rN(h,t);if(!await f({type:rv.ActionType.UPGRADE_FACTORY,runId:t,nonce:n,timestamp:Date.now(),params:{cupId:O.id,upgrade:"multiplier",cost:X}},{token:"WAX"===e.preferredPaymentMethod?"WAX":"PXJ"}))return}t(e=>({...e,coins:e.coins-X,cups:e.cups.map(e=>e.id===O.id?{...e,earningMultiplier:Math.min(5,(e.earningMultiplier||1)+.1)}:e)}))}},Y=e.cups.filter(e=>e.unlocked).length;return(0,p.jsxs)("div",{className:"relative w-full",children:[(0,p.jsx)("div",{className:`relative flex items-center justify-center ${k?"min-h-[72vh]":"min-h-[76vh]"} md:px-6 px-2`,role:"region","aria-label":"Dice canvas",children:(0,p.jsxs)("div",{className:`relative ${I?P?"cursor-grabbing":"cursor-grab":"cursor-pointer"}`,style:{transform:`translate(${S.x}px, ${S.y}px) scale(${F})`,transformOrigin:"center center",transition:P?"none":"transform 120ms ease-out",willChange:"transform"},onClick:e=>{if(T.current){T.current=!1;return}O&&n(O.id)},onPointerDown:e=>{I&&(A.current={x:e.clientX,y:e.clientY},T.current=!1,E(!0))},onPointerMove:e=>{if(!P||!A.current||!I)return;let t=e.clientX-A.current.x,n=e.clientY-A.current.y;Math.abs(t)+Math.abs(n)>2&&(T.current=!0),A.current={x:e.clientX,y:e.clientY},R(e=>({x:e.x+t,y:e.y+n}))},onPointerUp:()=>{E(!1),A.current=null},onWheel:e=>{if(!e.ctrlKey)return;e.preventDefault(),D.current=!0;let t=e.deltaY>0?-.1:.1;M(e=>Math.min(2,Math.max(.8,e+t)))},children:[o&&(0,p.jsx)("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 z-20",children:(0,p.jsx)(rC,{amount:o.amount,critical:o.critical,rerolls:o.rerolls,comboTypes:o.comboTypes,massiveSpike:o.massiveSpike,comboCount:o.comboCount,label:o.label,onDone:()=>{}})}),i&&i.map(e=>(0,p.jsx)(rM,{text:e.text,rarity:e.rarity,onDone:()=>{}},e.id)),O?(0,p.jsx)(eq,{dice:O.dice,isRolling:s.has(O.id),cupId:O.id,reduceGraphics:e.reduceGraphics}):(0,p.jsx)("div",{className:"text-muted-foreground",children:"No cup selected"})]})}),(0,p.jsx)("div",{className:"fixed top-1/2 -translate-y-1/2 left-4 flex flex-col items-start gap-3",children:!y&&(0,p.jsx)(eV,{size:"icon",variant:"outline",className:"border-casino-gold text-white hover:bg-casino-gold/20 bg-transparent",title:"Cups",onClick:()=>w(!0),children:(0,p.jsx)(e2,{className:"w-5 h-5"})})}),y&&(0,p.jsx)("div",{className:"fixed inset-0 z-20",onClick:()=>w(!1),children:(0,p.jsxs)("div",{className:"absolute bottom-24 left-4 w-24 bg-black/50 backdrop-blur-md border border-white/10 rounded-lg p-2 shadow-xl",onClick:e=>e.stopPropagation(),children:[(c=(l=e.cups.filter(e=>e.unlocked)).slice(j,j+3),d=j>0,u=j<Math.max(0,l.length-3),(0,p.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[l.length>3&&(0,p.jsx)(eV,{size:"icon",variant:"ghost",className:`text-white/80 hover:bg-white/10 ${!d?"opacity-50 cursor-not-allowed":""}`,onClick:()=>d&&N(e=>Math.max(0,e-1)),title:"Previous cups","aria-disabled":!d,children:(0,p.jsx)(e4,{className:"w-4 h-4"})}),(0,p.jsx)("div",{className:"mt-1 flex flex-col items-center gap-3",children:c.map(e=>(0,p.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,p.jsx)(eV,{size:"icon",variant:e.id===m?void 0:"outline",className:e.id===m?"bg-casino-gold text-black":"border-casino-gold text-casino-gold hover:bg-casino-gold/20 bg-transparent",onClick:()=>g(e.id),title:e.id.toUpperCase(),children:(0,p.jsx)(e2,{className:"w-6 h-6"})}),(0,p.jsx)("span",{className:"text-xs text-white/80",children:e.id.toUpperCase()})]},e.id))}),l.length>3&&(0,p.jsx)(eV,{size:"icon",variant:"ghost",className:`text-white/80 hover:bg-white/10 ${!u?"opacity-50 cursor-not-allowed":""}`,onClick:()=>u&&N(e=>Math.min(e+1,l.length-3)),title:"Next cups","aria-disabled":!u,children:(0,p.jsx)(e3,{className:"w-4 h-4"})})]})),(0,p.jsx)("div",{className:"mt-2 flex flex-col items-center gap-1",children:(0,p.jsx)(function({gameState:e,setGameState:t}){let{accountName:n,transactGameAction:r}=(0,rb.useBlockchain)(),s=e.cups.filter(e=>e.unlocked).length,a=Math.floor(200*Math.pow(2,s-1)),o=e.coins>=a;return(0,p.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,p.jsx)(eV,{onClick:()=>{if(!o)return;let i=`cup-${e.cups.length+1}`;if(t(e=>({...e,coins:e.coins-a,cups:[...e.cups,{id:i,slots:1,dice:[],score:0,level:1,unlocked:!0,earningMultiplier:1}]})),"ranked"===e.mode&&n){let t=rj(n),s=rN(n,t);r({type:rv.ActionType.UNLOCK_DIVISION,runId:t,nonce:s,timestamp:Date.now(),params:{newCupId:i,cost:a}},{token:"WAX"===e.preferredPaymentMethod?"WAX":"PXJ"})}g(i),N(Math.max(0,s+1-3))},disabled:!o,size:"lg",className:`px-3 py-2 bg-green-700 text-white border border-green-500 focus:outline-none focus:ring-2 focus:ring-green-500/60 active:scale-[0.98] transition-none duration-0 motion-reduce:transition-none dark:hover:bg-transparent hover:bg-green-700 ${!o?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,title:"Unlock next cup","aria-label":"Unlock next cup",children:(0,p.jsx)(e0,{className:"w-5 h-5"})}),(0,p.jsxs)("span",{className:"text-xs text-white/80",children:["(",a,")"]})]})},{gameState:e,setGameState:t})})]})}),(0,p.jsxs)("div",{className:"fixed bottom-32 right-4 flex gap-2",children:[(0,p.jsx)(eV,{size:"icon",variant:"outline",className:"border-white/20 text-white bg-black/30 hover:bg-black/40",title:"Zoom Out",onClick:()=>M(e=>Math.max(.8,e-.1)),children:(0,p.jsx)(e8,{className:"w-4 h-4"})}),(0,p.jsx)(eV,{size:"icon",variant:"outline",className:"border-white/20 text-white bg-black/30 hover:bg-black/40",title:"Zoom In",onClick:()=>M(e=>Math.min(2,e+.1)),children:(0,p.jsx)(e7,{className:"w-4 h-4"})}),(0,p.jsx)(eV,{size:"icon",variant:"outline",className:"border-white/20 text-white bg-black/30 hover:bg-black/40",title:"Reset View",onClick:()=>{M(1),R({x:0,y:0}),D.current=!1},children:(0,p.jsx)(e6,{className:"w-4 h-4"})})]}),(0,p.jsxs)("div",{className:"fixed bottom-4 right-4 flex gap-3",children:[(0,p.jsxs)(eV,{onClick:J,disabled:!V,className:"bg-casino-pink/30 border border-casino-pink text-white hover:bg-casino-pink/40",children:[(0,p.jsx)(e1,{className:"w-4 h-4 mr-2 rotate-90"})," Cup Mult (",X,")"]}),H?(0,p.jsxs)(eV,{onClick:q,className:"bg-casino-cyan/20 border border-casino-cyan text-white hover:bg-casino-cyan/30",children:[(0,p.jsx)(e0,{className:"w-4 h-4 mr-2"})," Slot (",B,")"]}):(0,p.jsxs)(rp,{children:[(0,p.jsx)(rx,{asChild:!0,children:(0,p.jsx)("span",{children:(0,p.jsxs)(eV,{disabled:!0,className:"bg-casino-cyan/20 border border-casino-cyan text-casino-cyan",children:[(0,p.jsx)(e0,{className:"w-4 h-4 mr-2"})," Slot (",B,")"]})})}),(0,p.jsx)(rg,{className:"flex items-center gap-3",children:G?(0,p.jsxs)("span",{children:["Need ",B," coins"]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("span",{children:"Not enough dice in bag"}),(0,p.jsx)(eV,{size:"sm",onClick:a,className:"bg-casino-gold text-black hover:bg-casino-gold/90",children:"Buy Dice"})]})})]})]}),(0,p.jsxs)("div",{className:"fixed top-1/2 -translate-y-1/2 right-4 flex flex-col items-end gap-3",children:[!b&&(0,p.jsx)(eV,{size:"icon",variant:"outline",className:"border-casino-gold text-white hover:bg-casino-gold/20 bg-transparent",title:"Cup Info",onClick:()=>v(!0),children:(0,p.jsx)(e5,{className:"w-5 h-5"})}),b&&O&&(0,p.jsxs)("div",{className:"w-64 bg-black/50 backdrop-blur-md border border-white/10 rounded-lg p-4 shadow-xl cursor-pointer",onClick:()=>v(!1),role:"button",tabIndex:0,title:"Click to hide",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,p.jsx)("div",{className:"font-bold text-casino-gold",children:"Cup Info"}),(0,p.jsx)("span",{className:"text-xs text-white/60",children:O.id.toUpperCase()})]}),(0,p.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Last Score"}),(0,p.jsxs)("span",{className:"text-casino-gold font-bold",children:["+",O.score]})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Open Slots"}),(0,p.jsx)("span",{className:"text-casino-cyan font-bold",children:O.slots})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Cup Mult"}),(0,p.jsxs)("span",{className:"text-casino-pink font-bold",children:["x",(O.earningMultiplier||1).toFixed(1)]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"text-white/70 mb-1",children:"Dice Values"}),O.dice.length>0?(0,p.jsx)("div",{className:"flex flex-wrap gap-1",children:O.dice.map((e,t)=>(0,p.jsx)("span",{className:"px-2 py-0.5 rounded bg-white/10 text-white/80 text-xs",children:e.currentValue??0},t))}):(0,p.jsx)("div",{className:"text-xs text-white/60",children:"No dice rolled yet"})]})]})]})]}),Y>1&&(0,p.jsx)("div",{className:"fixed bottom-20 md:bottom-10 left-1/2 -translate-x-1/2",children:(0,p.jsxs)(eV,{onClick:r,size:"lg",className:"bg-gradient-to-r from-casino-gold via-casino-pink to-casino-cyan text-black font-bold hover:scale-105 transition-transform shadow-xl",children:[(0,p.jsx)(eQ,{className:"w-5 h-5 mr-2"}),"Roll All Cups"]})})]})}let rR=eZ("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),rP=eZ("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),rE=eZ("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),rT=eZ("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),rA=eZ("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),rD=eZ("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),r_=eZ("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),rz=eZ("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),rL=eZ("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),rF=eZ("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),rI=eZ("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),rO=eZ("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),r$=eZ("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);function rB({onClose:e}){return(0,p.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80",onClick:e,children:(0,p.jsxs)("div",{className:"bg-casino-dark border-2 border-casino-gold rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,p.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-casino-gold/30",children:[(0,p.jsx)("h2",{className:"text-2xl font-bold text-casino-gold",children:"Pixel Journey Ecosystem"}),(0,p.jsx)(eV,{onClick:e,variant:"ghost",size:"icon",className:"text-casino-gold hover:bg-casino-gold/20",children:(0,p.jsx)(rO,{className:"w-6 h-6"})})]}),(0,p.jsx)("div",{className:"p-6 overflow-y-auto custom-scrollbar",style:{maxHeight:"calc(80vh - 140px)"},children:(0,p.jsxs)("div",{className:"space-y-8",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{className:"text-xl font-bold text-casino-cyan mb-4",children:"Mini Apps"}),(0,p.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{name:"PxTD",description:"Tower Defense Game",url:"https://pixeljourney.xyz/PxTD"},{name:"PxTap",description:"Idle Clicker Game",url:"https://pixeljourney.xyz/PxTap"},{name:"PxSim",description:"Simulation Game",url:"https://pixeljourney.xyz/PxSim"},{name:"PxQuest",description:"Quest System",url:"https://pixeljourney.xyz/PxQuest"}].map(e=>(0,p.jsxs)("a",{href:e.url,className:"bg-black/40 border border-casino-cyan/30 rounded-lg p-6 hover:border-casino-cyan transition-colors",children:[(0,p.jsx)("div",{className:"text-4xl mb-2",children:""}),(0,p.jsx)("h4",{className:"text-lg font-bold text-casino-cyan",children:e.name}),(0,p.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]},e.name))})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{className:"text-xl font-bold text-casino-pink mb-4",children:"Platforms"}),(0,p.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{name:"PxMarket",description:"NFT Marketplace (Built on AtomicMarkets)",url:"https://market.pixeljourney.xyz"},{name:"PxSwap",description:"Token Swap (Powered by Alcor)",url:"https://swap.pixeljourney.xyz"},{name:"PxStaking",description:"Staking Platform (Built on WaxDAO)",url:"https://stake.pixeljourney.xyz"}].map(e=>(0,p.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"bg-black/40 border border-casino-pink/30 rounded-lg p-6 hover:border-casino-pink transition-colors",children:[(0,p.jsx)("div",{className:"text-4xl mb-2",children:""}),(0,p.jsx)("h4",{className:"text-lg font-bold text-casino-pink",children:e.name}),(0,p.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]},e.name))})]})]})})]})})}var rX="focusScope.autoFocusOnMount",rW="focusScope.autoFocusOnUnmount",rG={bubbles:!1,cancelable:!0},rU=x.forwardRef((e,t)=>{let{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[i,l]=x.useState(null),c=ts(s),d=ts(a),u=x.useRef(null),h=Z(t,e=>l(e)),f=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let e=function(e){if(f.paused||!i)return;let t=e.target;i.contains(t)?u.current=t:rq(u.current,{select:!0})},t=function(e){if(f.paused||!i)return;let t=e.relatedTarget;null!==t&&(i.contains(t)||rq(u.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let n=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&rq(i)});return i&&n.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[r,i,f.paused]),x.useEffect(()=>{if(i){rJ.add(f);let e=document.activeElement;if(!i.contains(e)){let t=new CustomEvent(rX,rG);i.addEventListener(rX,c),i.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let n=document.activeElement;for(let r of e)if(rq(r,{select:t}),document.activeElement!==n)return}(rH(i).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&rq(i))}return()=>{i.removeEventListener(rX,c),setTimeout(()=>{let t=new CustomEvent(rW,rG);i.addEventListener(rW,d),i.dispatchEvent(t),t.defaultPrevented||rq(e??document.body,{select:!0}),i.removeEventListener(rW,d),rJ.remove(f)},0)}}},[i,c,d,f]);let m=x.useCallback(e=>{if(!n&&!r||f.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,s=document.activeElement;if(t&&s){var a;let t,r=e.currentTarget,[o,i]=[rV(t=rH(a=r),a),rV(t.reverse(),a)];o&&i?e.shiftKey||s!==i?e.shiftKey&&s===o&&(e.preventDefault(),n&&rq(i,{select:!0})):(e.preventDefault(),n&&rq(o,{select:!0})):s===r&&e.preventDefault()}},[n,r,f.paused]);return(0,p.jsx)(tn.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});function rH(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function rV(e,t){for(let n of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(n,{upTo:t}))return n}function rq(e,{select:t=!1}={}){if(e&&e.focus){var n;let r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&(n=e)instanceof HTMLInputElement&&"select"in n&&t&&e.select()}}rU.displayName="FocusScope";var rJ=(a=[],{add(e){let t=a[0];e!==t&&t?.pause(),(a=rY(a,e)).unshift(e)},remove(e){a=rY(a,e),a[0]?.resume()}});function rY(e,t){let n=[...e],r=n.indexOf(t);return -1!==r&&n.splice(r,1),n}var rK=0;function rZ(){x.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??rQ()),document.body.insertAdjacentElement("beforeend",e[1]??rQ()),rK++,()=>{1===rK&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),rK--}},[])}function rQ(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var r0=e.i(80916),r1="right-scroll-bar-position",r2="width-before-scroll-bar";function r5(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var r4="undefined"!=typeof window?x.useLayoutEffect:x.useEffect,r3=new WeakMap,r7=(void 0===o&&(o={}),(void 0===i&&(i=function(e){return e}),l=[],c=!1,d={read:function(){if(c)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return l.length?l[l.length-1]:null},useMedium:function(e){var t=i(e,c);return l.push(t),function(){l=l.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(c=!0;l.length;){var t=l;l=[],t.forEach(e)}l={push:function(t){return e(t)},filter:function(){return l}}},assignMedium:function(e){c=!0;var t=[];if(l.length){var n=l;l=[],n.forEach(e),t=l}var r=function(){var n=t;t=[],n.forEach(e)},s=function(){return Promise.resolve().then(r)};s(),l={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),l}}}}).options=(0,r0.__assign)({async:!0,ssr:!1},o),d),r8=function(){},r6=x.forwardRef(function(e,t){var n,r,s,a,o=x.useRef(null),i=x.useState({onScrollCapture:r8,onWheelCapture:r8,onTouchMoveCapture:r8}),l=i[0],c=i[1],d=e.forwardProps,u=e.children,h=e.className,f=e.removeScrollBar,m=e.enabled,p=e.shards,g=e.sideCar,b=e.noRelative,v=e.noIsolation,y=e.inert,w=e.allowPinchZoom,j=e.as,N=e.gapMode,k=(0,r0.__rest)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=(n=[o,t],r=function(e){return n.forEach(function(t){return r5(t,e)})},(s=(0,x.useState)(function(){return{value:null,callback:r,facade:{get current(){return s.value},set current(value){var e=s.value;e!==value&&(s.value=value,s.callback(value,e))}}}})[0]).callback=r,a=s.facade,r4(function(){var e=r3.get(a);if(e){var t=new Set(e),r=new Set(n),s=a.current;t.forEach(function(e){r.has(e)||r5(e,null)}),r.forEach(function(e){t.has(e)||r5(e,s)})}r3.set(a,n)},[n]),a),M=(0,r0.__assign)((0,r0.__assign)({},k),l);return x.createElement(x.Fragment,null,m&&x.createElement(g,{sideCar:r7,removeScrollBar:f,shards:p,noRelative:b,noIsolation:v,inert:y,setCallbacks:c,allowPinchZoom:!!w,lockRef:o,gapMode:N}),d?x.cloneElement(x.Children.only(u),(0,r0.__assign)((0,r0.__assign)({},M),{ref:C})):x.createElement(void 0===j?"div":j,(0,r0.__assign)({},M,{className:h,ref:C}),u))});r6.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},r6.classNames={fullWidth:r2,zeroRight:r1};var r9=function(e){var t=e.sideCar,n=(0,r0.__rest)(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw Error("Sidecar medium not found");return x.createElement(r,(0,r0.__assign)({},n))};r9.isSideCarExport=!0;var se=function(){var e=0,t=null;return{add:function(n){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=m||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0);return t&&e.setAttribute("nonce",t),e}())){var r,s;(r=t).styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n)),s=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(s)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},st=function(){var e=se();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},sn=function(){var e=st();return function(t){return e(t.styles,t.dynamic),null}},sr={left:0,top:0,right:0,gap:0},ss=function(e){return parseInt(e||"",10)||0},sa=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],s=t["padding"===e?"paddingRight":"marginRight"];return[ss(n),ss(r),ss(s)]},so=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return sr;var t=sa(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},si=sn(),sl="data-scroll-locked",sc=function(e,t,n,r){var s=e.left,a=e.top,o=e.right,i=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(i,"px ").concat(r,";\n  }\n  body[").concat(sl,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(s,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(i,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(r1," {\n    right: ").concat(i,"px ").concat(r,";\n  }\n  \n  .").concat(r2," {\n    margin-right: ").concat(i,"px ").concat(r,";\n  }\n  \n  .").concat(r1," .").concat(r1," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(r2," .").concat(r2," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(sl,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(i,"px;\n  }\n")},sd=function(){var e=parseInt(document.body.getAttribute(sl)||"0",10);return isFinite(e)?e:0},su=function(){x.useEffect(function(){return document.body.setAttribute(sl,(sd()+1).toString()),function(){var e=sd()-1;e<=0?document.body.removeAttribute(sl):document.body.setAttribute(sl,e.toString())}},[])},sh=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=void 0===r?"margin":r;su();var a=x.useMemo(function(){return so(s)},[s]);return x.createElement(si,{styles:sc(a,!t,s,n?"":"!important")})},sf=!1;if("undefined"!=typeof window)try{var sm=Object.defineProperty({},"passive",{get:function(){return sf=!0,!0}});window.addEventListener("test",sm,sm),window.removeEventListener("test",sm,sm)}catch(e){sf=!1}var sp=!!sf&&{passive:!1},sx=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&(n.overflowY!==n.overflowX||"TEXTAREA"===e.tagName||"visible"!==n[t])},sg=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),sb(e,r)){var s=sv(e,r);if(s[1]>s[2])return!0}r=r.parentNode}while(r&&r!==n.body)return!1},sb=function(e,t){return"v"===e?sx(t,"overflowY"):sx(t,"overflowX")},sv=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},sy=function(e,t,n,r,s){var a,o=(a=window.getComputedStyle(t).direction,"h"===e&&"rtl"===a?-1:1),i=o*r,l=n.target,c=t.contains(l),d=!1,u=i>0,h=0,f=0;do{if(!l)break;var m=sv(e,l),p=m[0],x=m[1]-m[2]-o*p;(p||x)&&sb(e,l)&&(h+=x,f+=p);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l))return u&&(s&&1>Math.abs(h)||!s&&i>h)?d=!0:!u&&(s&&1>Math.abs(f)||!s&&-i>f)&&(d=!0),d},sw=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},sj=function(e){return[e.deltaX,e.deltaY]},sN=function(e){return e&&"current"in e?e.current:e},sk=0,sC=[];let sM=(u=function(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),s=x.useState(sk++)[0],a=x.useState(sn)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=(0,r0.__spreadArray)([e.lockRef.current],(e.shards||[]).map(sN),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var i=x.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var s,a=sw(e),i=n.current,l="deltaX"in e?e.deltaX:i[0]-a[0],c="deltaY"in e?e.deltaY:i[1]-a[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var h=sg(u,d);if(!h)return!0;if(h?s=u:(s="v"===u?"h":"v",h=sg(u,d)),!h)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=s),!s)return!0;var f=r.current||s;return sy(f,t,e,"h"===f?l:c,!0)},[]),l=x.useCallback(function(e){if(sC.length&&sC[sC.length-1]===a){var n="deltaY"in e?sj(e):sw(e),r=t.current.filter(function(t){var r;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(r=t.delta,r[0]===n[0]&&r[1]===n[1])})[0];if(r&&r.should){e.cancelable&&e.preventDefault();return}if(!r){var s=(o.current.shards||[]).map(sN).filter(Boolean).filter(function(t){return t.contains(e.target)});(s.length>0?i(e,s[0]):!o.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),c=x.useCallback(function(e,n,r,s){var a={name:e,delta:n,target:r,should:s,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(r)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),d=x.useCallback(function(e){n.current=sw(e),r.current=void 0},[]),u=x.useCallback(function(t){c(t.type,sj(t),t.target,i(t,e.lockRef.current))},[]),h=x.useCallback(function(t){c(t.type,sw(t),t.target,i(t,e.lockRef.current))},[]);x.useEffect(function(){return sC.push(a),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",l,sp),document.addEventListener("touchmove",l,sp),document.addEventListener("touchstart",d,sp),function(){sC=sC.filter(function(e){return e!==a}),document.removeEventListener("wheel",l,sp),document.removeEventListener("touchmove",l,sp),document.removeEventListener("touchstart",d,sp)}},[]);var f=e.removeScrollBar,m=e.inert;return x.createElement(x.Fragment,null,m?x.createElement(a,{styles:"\n  .block-interactivity-".concat(s," {pointer-events: none;}\n  .allow-interactivity-").concat(s," {pointer-events: all;}\n")}):null,f?x.createElement(sh,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},r7.useMedium(u),r9);var sS=x.forwardRef(function(e,t){return x.createElement(r6,(0,r0.__assign)({},e,{ref:t,sideCar:sM}))});sS.classNames=r6.classNames;var sR=new WeakMap,sP=new WeakMap,sE={},sT=0,sA=function(e){return e&&(e.host||sA(e.parentNode))},sD=function(e,t,n,r){var s=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var n=sA(e);return n&&t.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});sE[n]||(sE[n]=new WeakMap);var a=sE[n],o=[],i=new Set,l=new Set(s),c=function(e){!e||i.has(e)||(i.add(e),c(e.parentNode))};s.forEach(c);var d=function(e){!e||l.has(e)||Array.prototype.forEach.call(e.children,function(e){if(i.has(e))d(e);else try{var t=e.getAttribute(r),s=null!==t&&"false"!==t,l=(sR.get(e)||0)+1,c=(a.get(e)||0)+1;sR.set(e,l),a.set(e,c),o.push(e),1===l&&s&&sP.set(e,!0),1===c&&e.setAttribute(n,"true"),s||e.setAttribute(r,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return d(t),i.clear(),sT++,function(){o.forEach(function(e){var t=sR.get(e)-1,s=a.get(e)-1;sR.set(e,t),a.set(e,s),t||(sP.has(e)||e.removeAttribute(r),sP.delete(e)),s||e.removeAttribute(n)}),--sT||(sR=new WeakMap,sR=new WeakMap,sP=new WeakMap,sE={})}},s_=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=t||("undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),sD(r,s,n,"aria-hidden")):function(){return null}},sz="Dialog",[sL,sF]=te(sz),[sI,sO]=sL(sz),s$=e=>{let{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,i=x.useRef(null),l=x.useRef(null),[c=!1,d]=nY({prop:r,defaultProp:s,onChange:a});return(0,p.jsx)(sI,{scope:t,triggerRef:i,contentRef:l,contentId:tf(),titleId:tf(),descriptionId:tf(),open:c,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(e=>!e),[d]),modal:o,children:n})};s$.displayName=sz;var sB="DialogTrigger";x.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,s=sO(sB,n),a=Z(t,s.triggerRef);return(0,p.jsx)(tn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":s4(s.open),...r,ref:a,onClick:e9(e.onClick,s.onOpenToggle)})}).displayName=sB;var sX="DialogPortal",[sW,sG]=sL(sX,{forceMount:void 0}),sU=e=>{let{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=sO(sX,t);return(0,p.jsx)(sW,{scope:t,forceMount:n,children:x.Children.map(r,e=>(0,p.jsx)(nq,{present:n||a.open,children:(0,p.jsx)(nV,{asChild:!0,container:s,children:e})}))})};sU.displayName=sX;var sH="DialogOverlay",sV=x.forwardRef((e,t)=>{let n=sG(sH,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=sO(sH,e.__scopeDialog);return a.modal?(0,p.jsx)(nq,{present:r||a.open,children:(0,p.jsx)(sq,{...s,ref:t})}):null});sV.displayName=sH;var sq=x.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,s=sO(sH,n);return(0,p.jsx)(sS,{as:Q,allowPinchZoom:!0,shards:[s.contentRef],children:(0,p.jsx)(tn.div,{"data-state":s4(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),sJ="DialogContent",sY=x.forwardRef((e,t)=>{let n=sG(sJ,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=sO(sJ,e.__scopeDialog);return(0,p.jsx)(nq,{present:r||a.open,children:a.modal?(0,p.jsx)(sK,{...s,ref:t}):(0,p.jsx)(sZ,{...s,ref:t})})});sY.displayName=sJ;var sK=x.forwardRef((e,t)=>{let n=sO(sJ,e.__scopeDialog),r=x.useRef(null),s=Z(t,n.contentRef,r);return x.useEffect(()=>{let e=r.current;if(e)return s_(e)},[]),(0,p.jsx)(sQ,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:e9(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:e9(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:e9(e.onFocusOutside,e=>e.preventDefault())})}),sZ=x.forwardRef((e,t)=>{let n=sO(sJ,e.__scopeDialog),r=x.useRef(!1),s=x.useRef(!1);return(0,p.jsx)(sQ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||n.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));let a=t.target;n.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),sQ=x.forwardRef((e,t)=>{let{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,i=sO(sJ,n),l=x.useRef(null),c=Z(t,l);return rZ(),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(rU,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:(0,p.jsx)(ti,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":s4(i.open),...o,ref:c,onDismiss:()=>i.onOpenChange(!1)})}),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s6,{titleId:i.titleId}),(0,p.jsx)(s9,{contentRef:l,descriptionId:i.descriptionId})]})]})}),s0="DialogTitle",s1=x.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,s=sO(s0,n);return(0,p.jsx)(tn.h2,{id:s.titleId,...r,ref:t})});s1.displayName=s0;var s2="DialogDescription";x.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,s=sO(s2,n);return(0,p.jsx)(tn.p,{id:s.descriptionId,...r,ref:t})}).displayName=s2;var s5="DialogClose";function s4(e){return e?"open":"closed"}x.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,s=sO(s5,n);return(0,p.jsx)(tn.button,{type:"button",...r,ref:t,onClick:e9(e.onClick,()=>s.onOpenChange(!1))})}).displayName=s5;var s3="DialogTitleWarning",[s7,s8]=(h={contentName:sJ,titleName:s0,docsSlug:"dialog"},r=x.createContext(h),(s=e=>{let{children:t,...n}=e,s=x.useMemo(()=>n,Object.values(n));return(0,p.jsx)(r.Provider,{value:s,children:t})}).displayName=s3+"Provider",[s,function(e){let t=x.useContext(r);if(t)return t;if(void 0!==h)return h;throw Error(`\`${e}\` must be used within \`${s3}\``)}]),s6=({titleId:e})=>{let t=s8(s3),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},s9=({contentRef:e,descriptionId:t})=>{let n=s8("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n.contentName}}.`;return x.useEffect(()=>{let n=e.current?.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null};function ae({...e}){return(0,p.jsx)(s$,{"data-slot":"sheet",...e})}function at({...e}){return(0,p.jsx)(sU,{"data-slot":"sheet-portal",...e})}function an({className:e,...t}){return(0,p.jsx)(sV,{"data-slot":"sheet-overlay",className:eU("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/30 backdrop-blur-md",e),...t})}function ar({className:e,children:t,side:n="right",...r}){return(0,p.jsxs)(at,{children:[(0,p.jsx)(an,{}),(0,p.jsxs)(sY,{"data-slot":"sheet-content",className:eU("bg-black/40 backdrop-blur-md data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===n&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===n&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===n&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===n&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...r,children:[(0,p.jsx)(s1,{className:"sr-only",children:"Sheet"}),t]})]})}function as(e){let t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var aa="Checkbox",[ao,ai]=te(aa),[al,ac]=ao(aa),ad=x.forwardRef((e,t)=>{let{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:o,disabled:i,value:l="on",onCheckedChange:c,form:d,...u}=e,[h,f]=x.useState(null),m=Z(t,e=>f(e)),g=x.useRef(!1),b=!h||d||!!h.closest("form"),[v=!1,y]=nY({prop:s,defaultProp:a,onChange:c}),w=x.useRef(v);return x.useEffect(()=>{let e=h?.form;if(e){let t=()=>y(w.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[h,y]),(0,p.jsxs)(al,{scope:n,state:v,disabled:i,children:[(0,p.jsx)(tn.button,{type:"button",role:"checkbox","aria-checked":am(v)?"mixed":v,"aria-required":o,"data-state":ap(v),"data-disabled":i?"":void 0,disabled:i,value:l,...u,ref:m,onKeyDown:e9(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:e9(e.onClick,e=>{y(e=>!!am(e)||!e),b&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})}),b&&(0,p.jsx)(af,{control:h,bubbles:!g.current,name:r,value:l,checked:v,required:o,disabled:i,form:d,style:{transform:"translateX(-100%)"},defaultChecked:!am(a)&&a})]})});ad.displayName=aa;var au="CheckboxIndicator",ah=x.forwardRef((e,t)=>{let{__scopeCheckbox:n,forceMount:r,...s}=e,a=ac(au,n);return(0,p.jsx)(nq,{present:r||am(a.state)||!0===a.state,children:(0,p.jsx)(tn.span,{"data-state":ap(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});ah.displayName=au;var af=e=>{let{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...a}=e,o=x.useRef(null),i=as(n),l=nR(t);x.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==n&&t){let s=new Event("click",{bubbles:r});e.indeterminate=am(n),t.call(e,!am(n)&&n),e.dispatchEvent(s)}},[i,n,r]);let c=x.useRef(!am(n)&&n);return(0,p.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??c.current,...a,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function am(e){return"indeterminate"===e}function ap(e){return am(e)?"indeterminate":e?"checked":"unchecked"}let ax=eZ("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function ag({className:e,...t}){return(0,p.jsx)(ad,{"data-slot":"checkbox",className:eU("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,p.jsx)(ah,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,p.jsx)(ax,{className:"size-3.5"})})})}function ab({gameState:e,onToggleShop:t,onToggleSettings:n,onToggleAchievements:r,onToggleAdventures:s,onToggleBag:a,onToggleTalents:o,onTogglePrestige:i,onToggleWallet:l,onToggleProfile:c,onToggleMemeCards:d,lastSavedAt:u}){let[h,f]=(0,x.useState)(!1),[m,g]=(0,x.useState)(!1),[b,v]=(0,x.useState)(!1),[y,w]=(0,x.useState)(!1),[j,N]=(0,x.useState)(!1),[k,C]=(0,x.useState)(!1),[M,S]=(0,x.useState)(()=>{try{let e=localStorage.getItem("pinned-actions");return e?JSON.parse(e):["wallet"]}catch{return["wallet"]}});(0,x.useEffect)(()=>{try{localStorage.setItem("pinned-actions",JSON.stringify(M.slice(0,4)))}catch{}},[M]);let R={profile:{onClick:c,icon:rI,border:"border-casino-gold",hover:"hover:bg-casino-gold/20",title:"Profile"},prestige:{onClick:i,icon:r_,border:"border-red-600",hover:"hover:bg-red-600/20",title:"Prestige"},talents:{onClick:o,icon:rD,border:"border-blue-600",hover:"hover:bg-blue-600/20",title:"Talents"},bag:{onClick:a,icon:e2,border:"border-orange-600",hover:"hover:bg-orange-600/20",title:"Dice Bag"},adventures:{onClick:s,icon:rA,border:"border-casino-purple",hover:"hover:bg-casino-purple/20",title:"Adventures"},achievements:{onClick:r,icon:rT,border:"border-casino-gold",hover:"hover:bg-casino-gold/20",title:"Achievements"},memecards:{onClick:d,icon:rP,border:"border-casino-pink",hover:"hover:bg-casino-pink/20",title:"Meme Cards"},shop:{onClick:t,icon:rE,border:"border-lime-400",hover:"hover:bg-lime-400/20",title:"Shop"},settings:{onClick:n,icon:rR,border:"border-casino-purple",hover:"hover:bg-casino-purple/20",title:"Settings"},wallet:{onClick:l,icon:rz,border:"border-casino-cyan",hover:"hover:bg-casino-cyan/20",title:e.walletConnected?"Wallet":"Connect Wallet"}},P=e=>{S(t=>t.includes(e)?t.filter(t=>t!==e):t.length>=4?t:[...t,e])},E=(e.activeAdventures||[]).filter(e=>!e.claimed&&e.endTime<=Date.now()).length;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"bg-black/60 border-b border-casino-gold/20 select-none hidden md:block",children:(0,p.jsx)("div",{className:"container mx-auto px-4 py-2",children:(0,p.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,p.jsxs)("div",{className:"flex items-center gap-4",children:[(0,p.jsxs)("a",{href:"https://pixeljourney.xyz",target:"_blank",rel:"noopener noreferrer",className:"text-casino-gold hover:text-casino-gold/80 flex items-center gap-1",children:["Pixel Journey ",(0,p.jsx)(rL,{className:"w-3 h-3"})]}),(0,p.jsxs)("a",{href:"https://market.pixeljourney.xyz",target:"_blank",rel:"noopener noreferrer",className:"text-casino-cyan hover:text-casino-cyan/80 flex items-center gap-1",children:["PxMarket ",(0,p.jsx)(rL,{className:"w-3 h-3"})]}),(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsxs)("button",{onClick:()=>g(!m),className:"text-casino-pink hover:text-casino-pink/80 flex items-center gap-1",children:["Socials ",(0,p.jsx)(e3,{className:"w-3 h-3"})]}),m&&(0,p.jsxs)("div",{className:"absolute top-full left-0 mt-1 bg-black/90 border border-casino-pink/30 rounded-lg p-2 min-w-[150px] z-50",children:[(0,p.jsx)("a",{href:"http://discord.gg/pixel-journey-1130670500776005734",target:"_blank",rel:"noopener noreferrer",className:"block px-3 py-2 hover:bg-casino-pink/20 rounded",children:"Discord"}),(0,p.jsx)("a",{href:"https://t.me/pixeljourney",target:"_blank",rel:"noopener noreferrer",className:"block px-3 py-2 hover:bg-casino-pink/20 rounded",children:"Telegram"}),(0,p.jsx)("a",{href:"https://t.me/pixel_journey",target:"_blank",rel:"noopener noreferrer",className:"block px-3 py-2 hover:bg-casino-pink/20 rounded",children:"Twitter"})]})]}),(0,p.jsx)("button",{onClick:()=>f(!0),className:"text-casino-purple hover:text-casino-purple/80",children:"More Px-dApps"})]}),(0,p.jsx)("div",{className:"flex items-center gap-2",children:u&&(0,p.jsxs)("span",{className:"text-xs text-white/60",children:["Saved ",new Date(u).toLocaleTimeString()]})})]})})}),(0,p.jsx)("header",{className:"border-b border-casino-gold/20 bg-black/40 backdrop-blur-sm select-none",children:(0,p.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"hidden md:flex items-center gap-3",children:[(0,p.jsx)("img",{src:"https://pixeljourney.xyz/img/toppixals/5.webp",alt:"Platform",className:"w-6 h-6 rounded mr-2"}),(0,p.jsxs)(rp,{children:[(0,p.jsx)(rx,{asChild:!0,children:(0,p.jsx)("span",{className:"text-2xl font-extrabold bg-gradient-to-r from-yellow-300 via-amber-500 to-yellow-200 bg-clip-text text-transparent tracking-tight",children:"Px/Die"})}),(0,p.jsx)(rg,{children:(0,p.jsx)("span",{className:"font-mono text-xs",children:"v1.0.1"})})]})]}),(0,p.jsxs)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[(0,p.jsxs)("div",{className:"md:hidden flex items-center gap-2 w-full",children:[(0,p.jsx)("div",{className:"flex items-center gap-2 mr-auto",children:M.slice(0,4).map(e=>(e=>{let t,n=R[e];if(!n)return null;let r=n.icon,s=y?()=>P(e):n.onClick;return(0,p.jsx)(eV,{onClick:s,variant:"outline",size:"icon",className:`${n.border} text-white ${n.hover} bg-transparent ${y?"ring-2 ring-casino-gold":""}`,title:y?(t=e,M.includes(t))?`Unpin ${n.title}`:`Pin ${n.title}`:n.title,children:(0,p.jsx)(r,{className:"w-5 h-5"})},"pinbtn-"+e)})(e))}),M.length<=2&&(0,p.jsx)("div",{className:"flex-1 flex justify-center",children:(0,p.jsxs)(rp,{children:[(0,p.jsx)(rx,{asChild:!0,children:(0,p.jsx)("span",{className:"text-xl font-extrabold bg-gradient-to-r from-yellow-300 via-amber-500 to-yellow-200 bg-clip-text text-transparent tracking-tight",children:"Px/Die"})}),(0,p.jsx)(rg,{children:(0,p.jsx)("span",{className:"font-mono text-xs",children:"v1.0.1"})})]})}),(0,p.jsx)(eV,{variant:"outline",size:"icon",className:"md:hidden border-casino-purple text-white hover:bg-casino-purple/20 bg-transparent ml-auto",onClick:()=>v(!0),title:"Menu",children:(0,p.jsx)(rF,{className:"w-5 h-5"})})]}),(0,p.jsxs)("div",{className:"hidden md:flex items-center gap-6",children:[(0,p.jsx)(eV,{onClick:c,variant:"outline",size:"icon",className:"border-casino-gold text-white hover:bg-casino-gold/20 bg-transparent",title:"Profile",children:(0,p.jsx)(rI,{className:"w-5 h-5"})}),(0,p.jsxs)(eV,{onClick:o,variant:"outline",size:"icon",className:"border-blue-600 text-white hover:bg-blue-600/20 bg-transparent relative",title:"Talents",children:[(0,p.jsx)(rD,{className:"w-5 h-5"}),e.talentPoints>0&&(0,p.jsx)("span",{className:"absolute -top-1 -right-1 bg-casino-pink text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:e.talentPoints})]}),(0,p.jsx)(eV,{onClick:a,variant:"outline",size:"icon",className:"border-orange-600 text-white hover:bg-orange-600/20 bg-transparent",title:"Dice Bag",children:(0,p.jsx)(e2,{className:"w-5 h-5"})}),(0,p.jsx)(eV,{onClick:t,variant:"outline",size:"icon",className:"border-lime-400 text-white hover:bg-lime-400/20 bg-transparent",title:"Shop",children:(0,p.jsx)(rE,{className:"w-5 h-5"})}),(0,p.jsxs)(eV,{onClick:s,variant:"outline",size:"icon",className:"relative border-casino-purple text-white hover:bg-casino-purple/20 bg-transparent",title:"Adventures",children:[(0,p.jsx)(rA,{className:"w-5 h-5"}),E>0&&(0,p.jsx)("span",{className:"absolute -top-1 -right-1 bg-casino-purple text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:E})]}),(0,p.jsx)(eV,{onClick:d,variant:"outline",size:"icon",className:"border-casino-pink text-white hover:bg-casino-pink/20 bg-transparent",title:"Meme Cards",children:(0,p.jsx)(rP,{className:"w-5 h-5"})}),(0,p.jsx)(eV,{onClick:i,variant:"outline",size:"icon",className:"border-red-600 text-white hover:bg-red-600/20 bg-transparent",title:"Prestige",children:(0,p.jsx)(r_,{className:"w-5 h-5"})}),(0,p.jsx)(eV,{onClick:r,variant:"outline",size:"icon",className:"border-casino-gold text-white hover:bg-casino-gold/20 bg-transparent",title:"Achievements",children:(0,p.jsx)(rT,{className:"w-5 h-5"})}),(0,p.jsx)(eV,{onClick:n,variant:"outline",size:"icon",className:"border-casino-purple text-white hover:bg-casino-purple/20 bg-transparent",title:"Settings",children:(0,p.jsx)(rR,{className:"w-5 h-5"})}),(0,p.jsx)(eV,{onClick:l,variant:"outline",size:"icon",className:"border-casino-cyan text-white hover:bg-casino-cyan/20 bg-transparent",title:e.walletConnected?"Wallet":"Connect Wallet",children:(0,p.jsx)(rz,{className:"w-5 h-5"})})]})]})]})})}),(0,p.jsx)(ae,{open:b,onOpenChange:v,children:(0,p.jsxs)(ar,{side:"top",className:"bg-black/60 backdrop-blur-md border-b border-white/10 h-screen max-h-screen overflow-y-auto",children:[(0,p.jsxs)("div",{className:"relative w-full px-4 pt-4 pb-2",children:[(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,p.jsx)("img",{src:"https://pixeljourney.xyz/img/toppixals/5.webp",alt:"Platform",className:"w-6 h-6 rounded"}),(0,p.jsx)("span",{className:"text-2xl font-extrabold bg-gradient-to-r from-yellow-300 via-amber-500 to-yellow-200 bg-clip-text text-transparent tracking-tight",children:"Px/Die"})]}),(0,p.jsx)("div",{className:"text-xs text-white/70 mt-1",children:"by Pixel Journey"})]}),(0,p.jsx)("div",{className:"absolute top-4 right-4",children:(0,p.jsx)(eV,{onClick:()=>v(!1),variant:"ghost",size:"icon",className:"text-casino-gold hover:bg-casino-gold/20",children:(0,p.jsx)(rO,{className:"w-5 h-5"})})})]}),(0,p.jsx)("div",{className:"flex items-center justify-center gap-2 px-4",children:(0,p.jsxs)(eV,{variant:y?"default":"outline",size:"sm",className:y?"bg-casino-gold text-black":"border-casino-gold text-white hover:bg-casino-gold/20 bg-transparent",onClick:()=>w(e=>!e),title:y?"Done Pinning":"Pin Mode",children:[(0,p.jsx)(r$,{className:"w-4 h-4 mr-2"})," ",y?"Done":"Pin Mode"]})}),(0,p.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 p-4 max-w-md mx-auto",children:["wallet","shop","profile","prestige","achievements","settings","talents","bag","adventures","memecards"].map(e=>{let t=R[e],n=t.icon;if(y){let r,s=(r=e,M.includes(r));return(0,p.jsxs)("div",{onClick:()=>P(e),className:`min-w-[140px] px-3 py-2 border rounded-md cursor-pointer flex items-center gap-2 ${s?"border-casino-gold bg-casino-gold/10":"border-white/10 hover:bg-white/5"}`,title:s?`Unpin ${t.title}`:`Pin ${t.title}`,children:[(0,p.jsx)(ag,{checked:s,onCheckedChange:()=>P(e),"aria-label":`Pin ${t.title}`}),(0,p.jsx)(n,{className:"w-4 h-4"}),(0,p.jsx)("span",{className:"text-sm",children:t.title})]},`tile-${e}`)}return(0,p.jsxs)(eV,{onClick:()=>{t.onClick(),v(!1)},variant:"outline",className:`${t.border} ${t.hover} text-white min-w-[140px]`,title:t.title,children:[(0,p.jsx)(n,{className:"w-4 h-4 mr-2"})," ",t.title]},`btn-${e}`)})}),(0,p.jsxs)("div",{className:"border-t border-white/10 pt-4 mt-4 px-4",children:[(0,p.jsxs)("div",{className:"flex items-center justify-center gap-4 text-sm mb-2",children:[(0,p.jsx)("a",{href:"https://pixeljourney.io",target:"_blank",rel:"noopener noreferrer",className:"text-casino-gold hover:text-casino-gold/80",children:"Pixel Journey"}),(0,p.jsx)("a",{href:"https://pxmarket.io",target:"_blank",rel:"noopener noreferrer",className:"text-casino-cyan hover:text-casino-cyan/80",children:"PxMarket"})]}),(0,p.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,p.jsxs)(eV,{variant:"ghost",size:"sm",className:"text-casino-pink hover:bg-casino-pink/20",onClick:()=>N(e=>!e),children:["Socials ",(0,p.jsx)(e3,{className:"w-3 h-3 ml-2"})]}),j&&(0,p.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,p.jsx)("a",{href:"https://discord.gg/pixeljourney",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white/80",children:"Discord"}),(0,p.jsx)("a",{href:"https://twitter.com/pixeljourney",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white/80",children:"TwitterX"}),(0,p.jsx)("a",{href:"https://t.me/pixeljourney",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white/80",children:"Telegram"})]}),(0,p.jsxs)(eV,{variant:"ghost",size:"sm",className:"text-casino-purple hover:bg-casino-purple/20",onClick:()=>C(e=>!e),children:["More Px-dApps ",(0,p.jsx)(e3,{className:"w-3 h-3 ml-2"})]}),k&&(0,p.jsxs)("div",{className:"text-center text-sm",children:[(0,p.jsx)("div",{className:"text-white/70 mb-2",children:"Explore our dApps"}),(0,p.jsx)(eV,{size:"sm",className:"bg-casino-purple text-white hover:bg-casino-purple/80",onClick:()=>f(!0),children:"Open Ecosystem"})]})]})]})]})}),h&&(0,p.jsx)(rB,{onClose:()=>f(!1)})]})}let av=eZ("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function ay({gameState:e,setGameState:t,onClose:n,embedded:r=!1}){let{accountName:s,transactGameAction:a}=(0,rb.useBlockchain)(),o=q(e.shopRefreshCount),i=(0,p.jsxs)("div",{className:"p-6 space-y-6 overflow-y-auto custom-scrollbar",style:{maxHeight:"90vh"},children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,p.jsx)("h3",{className:"text-xl font-bold text-casino-cyan",children:"Available Dice"}),(0,p.jsx)("div",{className:"flex items-center gap-3",children:(0,p.jsxs)(eV,{onClick:()=>{if(!(e.coins<o)&&(t(e=>({...e,coins:e.coins-o,shopDice:B(),shopRefreshCost:q(e.shopRefreshCount+1),shopRefreshCount:e.shopRefreshCount+1})),"ranked"===e.mode&&s)){let t=rj(s),n=rN(s,t);a({type:rv.ActionType.BUY_BOOSTER,runId:t,nonce:n,timestamp:Date.now(),params:{cost:o}},{token:"WAX"===e.preferredPaymentMethod?"WAX":"PXJ"})}},disabled:e.coins<o,className:"bg-casino-purple text-white hover:bg-casino-purple/80",children:[(0,p.jsx)(av,{className:"w-4 h-4 mr-2"}),"Refresh (",o,")"]})})]}),(0,p.jsx)("div",{className:"grid grid-cols-1 gap-3",children:e.shopDice.map((n,r)=>{let o=J(n,e.dicePurchaseCount[n.rarity]);return(0,p.jsx)("div",{className:"bg-black/40 rounded-lg p-4 border border-white/10",children:(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"flex items-center gap-4",children:[(0,p.jsx)(eq,{dice:[n],cupId:`shop-${r}`,isRolling:!1,compact:!0}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"font-bold text-casino-gold capitalize",children:[n.rarity," Die"]}),(0,p.jsxs)("div",{className:"text-sm text-white/70",children:["Multiplier: x",n.multiplier]}),(0,p.jsxs)("div",{className:"text-xs text-casino-cyan",children:["Type: ",n.type]}),(0,p.jsxs)("div",{className:"text-xs text-white/60",children:["Purchased: ",e.dicePurchaseCount[n.rarity]]})]})]}),(0,p.jsxs)(eV,{onClick:()=>(n=>{let r=J(n,e.dicePurchaseCount[n.rarity]);if(!(e.coins<r)&&(t(e=>({...e,coins:e.coins-r,bag:[...e.bag,{...n,id:`die-${e.bag.length}-${Date.now()}`}],shopDice:B(),dicePurchaseCount:{...e.dicePurchaseCount,[n.rarity]:e.dicePurchaseCount[n.rarity]+1}})),"ranked"===e.mode&&s)){let t=rj(s),o=rN(s,t);a({type:rv.ActionType.PURCHASE_CAPSULE,runId:t,nonce:o,timestamp:Date.now(),params:{rarity:n.rarity,multiplier:n.multiplier,cost:r}},{token:"WAX"===e.preferredPaymentMethod?"WAX":"PXJ"})}})(n),disabled:e.coins<o,className:"bg-casino-gold text-black hover:bg-casino-gold/80",children:[(0,p.jsx)(rE,{className:"w-4 h-4 mr-2"}),o," coins"]})]})},r)})})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{className:"text-xl font-bold text-casino-cyan mb-4",children:"Current Stats"}),(0,p.jsxs)("div",{className:"bg-black/40 rounded-lg p-4 border border-white/10 space-y-2",children:[(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Dice in Bag:"}),(0,p.jsx)("span",{className:"text-casino-gold font-bold",children:e.bag.length})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Active Cups:"}),(0,p.jsx)("span",{className:"text-casino-gold font-bold",children:e.cups.length})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Unlocked Dice Slots:"}),(0,p.jsx)("span",{className:"text-casino-gold font-bold",children:(e.cups||[]).reduce((e,t)=>e+(t.slots||0),0)})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Idle Rate:"}),(0,p.jsxs)("span",{className:"text-casino-cyan font-bold",children:[e.idleRate.toFixed(1),"/s"]})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Shop Refreshes:"}),(0,p.jsx)("span",{className:"text-casino-pink font-bold",children:e.shopRefreshCount})]})]})]})]});return r?(0,p.jsxs)("div",{className:"bg-black/40 backdrop-blur-md border-t border-white/10 rounded-t-lg",children:[(0,p.jsxs)("div",{className:"bg-black/30 border-b border-white/10 p-4 flex items-center justify-between",children:[(0,p.jsx)("h2",{className:"text-xl font-bold",children:"Dice Shop"}),(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsxs)("span",{className:"text-sm text-white/80",children:["Coins: ",(0,p.jsx)("span",{className:"text-casino-gold font-bold",children:e.coins.toFixed(2)})]}),(0,p.jsx)(eV,{onClick:n,variant:"ghost",size:"icon",className:"text-white/80 hover:bg-white/10",children:(0,p.jsx)(rO,{className:"w-5 h-5"})})]})]}),i]}):(0,p.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:n,children:(0,p.jsxs)("div",{className:"bg-gradient-to-br from-casino-dark to-casino-purple border-2 border-casino-gold rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,p.jsxs)("div",{className:"sticky top-0 bg-black/90 backdrop-blur-sm border-b border-casino-gold/30 p-4 flex items-center justify-between",children:[(0,p.jsx)("h2",{className:"text-2xl font-bold text-casino-gold",children:"Dice Shop"}),(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsxs)("span",{className:"text-sm text-white/90",children:["Coins: ",(0,p.jsx)("span",{className:"text-casino-gold font-bold",children:e.coins.toFixed(2)})]}),(0,p.jsx)(eV,{onClick:n,variant:"ghost",size:"icon",className:"text-casino-pink hover:bg-casino-pink/20",children:(0,p.jsx)(rO,{className:"w-5 h-5"})})]})]}),i]})})}let aw=eZ("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),aj=eZ("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function aN({gameState:e,setGameState:t,onClose:n,onResetGame:r,embedded:s=!1,onOpenTutorial:a,pwaInstallAvailable:o=!1,onInstallApp:i}){let[l,c]=(0,x.useState)(!1),d=(0,p.jsxs)("div",{className:"p-6 space-y-6 overflow-y-auto custom-scrollbar",style:{maxHeight:"90vh"},children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{className:"text-lg font-bold text-casino-cyan mb-3",children:"Preferences"}),(0,p.jsxs)("div",{className:"bg-black/40 rounded-lg p-4 border border-white/10 space-y-3",children:[(0,p.jsxs)("label",{className:"flex items-center justify-between cursor-pointer",children:[(0,p.jsx)("span",{className:"text-sm text-white/80",children:"Show boss reward modal"}),(0,p.jsx)("input",{type:"checkbox",checked:e.showBossRewardOnDefeat,onChange:()=>{t(e=>({...e,showBossRewardOnDefeat:!e.showBossRewardOnDefeat}))},className:"w-5 h-5 accent-casino-gold"})]}),(0,p.jsx)("p",{className:"text-xs text-white/60",children:"When disabled, free die picks accumulate for your next shop refresh"}),(0,p.jsxs)("label",{className:"flex items-center justify-between cursor-pointer",children:[(0,p.jsx)("span",{className:"text-sm text-white/80",children:"Reduce graphics (lower animations)"}),(0,p.jsx)("input",{type:"checkbox",checked:e.reduceGraphics,onChange:()=>{t(e=>({...e,reduceGraphics:!e.reduceGraphics}))},className:"w-5 h-5 accent-casino-gold"})]}),(0,p.jsx)("p",{className:"text-xs text-white/60",children:"Helpful on slower devices; disables some camera shakes and dice spins."})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{className:"text-lg font-bold text-casino-cyan mb-3",children:"Install App"}),(0,p.jsxs)("div",{className:"bg-black/40 rounded-lg p-4 border border-white/10",children:[(0,p.jsx)(eV,{onClick:()=>i?.(),disabled:!o,className:"w-full bg-casino-gold text-black hover:bg-casino-gold/90 disabled:opacity-50 disabled:cursor-not-allowed",children:"Install Px/Die"}),(0,p.jsx)("p",{className:"text-xs text-white/60 mt-2",children:o?"Installs Px/Die to your device for fullscreen and quick launch.":"Install is unavailable. Try using Chrome or Edge, and ensure you are not in private mode."})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{className:"text-lg font-bold text-casino-cyan mb-3",children:"Help & Tutorial"}),(0,p.jsxs)("div",{className:"bg-black/40 rounded-lg p-4 border border-white/10",children:[(0,p.jsx)(eV,{onClick:()=>{a(),n()},className:"w-full bg-casino-gold text-black hover:bg-casino-gold/90",children:"View Tutorial"}),(0,p.jsx)("p",{className:"text-xs text-white/60 mt-2",children:"Reopen the tutorial anytime from here."})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{className:"text-lg font-bold text-casino-cyan mb-3",children:"Game Info"}),(0,p.jsxs)("div",{className:"bg-black/40 rounded-lg p-4 border border-white/10 space-y-2 text-sm",children:[(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Mode:"}),(0,p.jsx)("span",{className:"text-casino-gold font-bold capitalize",children:e.mode})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Level:"}),(0,p.jsx)("span",{className:"text-casino-gold font-bold",children:e.level})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Bosses Defeated:"}),(0,p.jsx)("span",{className:"text-casino-pink font-bold",children:e.bossesDefeated})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Total Rolls:"}),(0,p.jsx)("span",{className:"text-casino-cyan font-bold",children:e.stats.totalRolls})]})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{className:"text-lg font-bold text-casino-cyan mb-3",children:"Danger Zone"}),l?(0,p.jsxs)("div",{className:"bg-casino-pink/10 border border-casino-pink rounded-lg p-4 space-y-3",children:[(0,p.jsxs)("div",{className:"flex items-start gap-2",children:[(0,p.jsx)(aj,{className:"w-5 h-5 text-casino-pink flex-shrink-0 mt-0.5"}),(0,p.jsx)("div",{className:"text-sm text-casino-pink",children:"Are you sure? This will delete all your progress and cannot be undone!"})]}),(0,p.jsxs)("div",{className:"flex gap-2",children:[(0,p.jsx)(eV,{onClick:()=>{r(),n()},className:"flex-1 bg-casino-pink text-white hover:bg-casino-pink/80",children:"Yes, Reset"}),(0,p.jsx)(eV,{onClick:()=>c(!1),variant:"outline",className:"flex-1 border-casino-cyan text-casino-cyan hover:bg-casino-cyan/20",children:"Cancel"})]})]}):(0,p.jsxs)(eV,{onClick:()=>c(!0),variant:"outline",className:"w-full border-casino-pink text-casino-pink hover:bg-casino-pink/20",children:[(0,p.jsx)(aw,{className:"w-4 h-4 mr-2"}),"Reset Game"]})]})]});return s?(0,p.jsxs)("div",{className:"bg-black/40 backdrop-blur-md border-t border-white/10 rounded-t-lg",children:[(0,p.jsxs)("div",{className:"bg-black/30 border-b border-white/10 p-4 flex items-center justify-between",children:[(0,p.jsx)("h2",{className:"text-xl font-bold",children:"Settings"}),(0,p.jsx)(eV,{onClick:n,variant:"ghost",size:"icon",className:"text-white/80 hover:bg-white/10",children:(0,p.jsx)(rO,{className:"w-5 h-5"})})]}),d]}):(0,p.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-50 flex items-center justify-center p-4",onClick:n,children:(0,p.jsxs)("div",{className:"bg-black/40 backdrop-blur-md border border-white/10 rounded-lg max-w-md w-full max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,p.jsxs)("div",{className:"bg-black/30 border-b border-white/10 p-4 flex items-center justify-between",children:[(0,p.jsx)("h2",{className:"text-2xl font-bold",children:"Settings"}),(0,p.jsx)(eV,{onClick:n,variant:"ghost",size:"icon",className:"text-white/80 hover:bg-white/10",children:(0,p.jsx)(rO,{className:"w-5 h-5"})})]}),d]})})}let ak=eZ("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),aC=[{id:"first_roll",name:"First Roll",description:"Roll your first dice",requirement:1,stat:"totalRolls"},{id:"roll_100",name:"Century",description:"Roll 100 times",requirement:100,stat:"totalRolls"},{id:"roll_1000",name:"Millennium",description:"Roll 1000 times",requirement:1e3,stat:"totalRolls"},{id:"boss_1",name:"First Victory",description:"Defeat your first boss",requirement:1,stat:"bossesDefeated"},{id:"boss_10",name:"Boss Slayer",description:"Defeat 10 bosses",requirement:10,stat:"bossesDefeated"},{id:"level_10",name:"Rising Star",description:"Reach level 10",requirement:10,stat:"level"},{id:"level_50",name:"Legendary",description:"Reach level 50",requirement:50,stat:"level"},{id:"high_single_100",name:"High Roller",description:"Score 100+ in a single cup",requirement:100,stat:"highestScore"},{id:"all_cups_1000",name:"Across-the-Board",description:"Score 1000+ across all cups",requirement:1e3,stat:"highestAllCupsRoll"},{id:"roll_10_plus_dice",name:"Ten-Dice Roller",description:"Roll 10+ dice at once",requirement:1,stat:"tenDiceRoll10Count"},{id:"slots_10",name:"Builder I",description:"Unlock 10 dice slots",requirement:10,stat:"totalUnlockedSlots"},{id:"slots_25",name:"Builder II",description:"Unlock 25 dice slots",requirement:25,stat:"totalUnlockedSlots"},{id:"slots_50",name:"Builder III",description:"Unlock 50 dice slots",requirement:50,stat:"totalUnlockedSlots"},{id:"adventures_3",name:"Explorer I",description:"Complete 3 adventures",requirement:3,stat:"adventuresCompleted"},{id:"adventures_10",name:"Explorer II",description:"Complete 10 adventures",requirement:10,stat:"adventuresCompleted"},{id:"adventures_25",name:"Explorer III",description:"Complete 25 adventures",requirement:25,stat:"adventuresCompleted"}];function aM({gameState:e,onClose:t,embedded:n=!1}){let r=(0,p.jsx)("div",{className:"p-6 space-y-3 overflow-y-auto custom-scrollbar",style:{maxHeight:"90vh"},children:aC.map(t=>{let n,r="totalRolls"===(n=t.stat)?e.stats.totalRolls:"bossesDefeated"===n?e.bossesDefeated:"level"===n?e.level:"highestScore"===n?e.stats.highestScore:"highestAllCupsRoll"===n?e.stats.highestAllCupsRoll||0:"tenDiceRoll10Count"===n?e.stats.tenDiceRoll10Count||0:"totalUnlockedSlots"===n?(e.cups||[]).reduce((e,t)=>e+(t.slots||0),0):"adventuresCompleted"===n?e.adventuresCompleted||0:"cupsUnlocked"===n?(e.cups||[]).filter(e=>e.unlocked).length:0,s=r>=t.requirement,a=Math.min(r/t.requirement*100,100);return(0,p.jsx)("div",{className:`bg-black/40 rounded-lg p-4 border transition-all ${s?"border-casino-gold":"border-white/10"}`,children:(0,p.jsxs)("div",{className:"flex items-start gap-4",children:[(0,p.jsx)("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${s?"bg-casino-gold text-black":"bg-black/60 text-casino-gold/30"}`,children:s?(0,p.jsx)(rT,{className:"w-6 h-6"}):(0,p.jsx)(ak,{className:"w-6 h-6"})}),(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,p.jsx)("h3",{className:`font-bold ${s?"text-casino-gold":"text-white/80"}`,children:t.name}),(0,p.jsxs)("span",{className:"text-sm text-casino-cyan",children:[r,"/",t.requirement]})]}),(0,p.jsx)("p",{className:"text-sm text-white/70 mb-2",children:t.description}),(0,p.jsx)("div",{className:"w-full bg-black/60 rounded-full h-2 overflow-hidden",children:(0,p.jsx)("div",{className:"h-full bg-gradient-to-r from-casino-gold to-casino-pink transition-all duration-500",style:{width:`${a}%`}})})]})]})},t.id)})});return n?(0,p.jsxs)("div",{className:"bg-black/40 backdrop-blur-md border-t border-white/10 rounded-t-lg",children:[(0,p.jsxs)("div",{className:"bg-black/30 border-b border-white/10 p-4 flex items-center justify-between",children:[(0,p.jsx)("h2",{className:"text-xl font-bold",children:"Achievements"}),(0,p.jsx)(eV,{onClick:t,variant:"ghost",size:"icon",className:"text-white/80 hover:bg-white/10",children:(0,p.jsx)(rO,{className:"w-5 h-5"})})]}),r]}):(0,p.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-50 flex items-center justify-center p-4",onClick:t,children:(0,p.jsxs)("div",{className:"bg-black/40 backdrop-blur-md border border-white/10 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,p.jsxs)("div",{className:"sticky top-0 bg-black/30 border-b border-white/10 p-4 flex items-center justify-between",children:[(0,p.jsx)("h2",{className:"text-2xl font-bold",children:"Achievements"}),(0,p.jsx)(eV,{onClick:t,variant:"ghost",size:"icon",className:"text-white/80 hover:bg-white/10",children:(0,p.jsx)(rO,{className:"w-5 h-5"})})]}),r]})})}let aS=[{id:"quick_mine",name:"Quick Mine",description:"A short mining expedition",duration:60,cost:100,reward:500},{id:"deep_cave",name:"Deep Cave",description:"Explore dangerous caves",duration:300,cost:500,reward:3e3},{id:"ancient_ruins",name:"Ancient Ruins",description:"Discover ancient treasures",duration:600,cost:2e3,reward:15e3}];function aR({gameState:e,setGameState:t,onClose:n,embedded:r=!1}){let{accountName:s,transactGameAction:a}=(0,rb.useBlockchain)(),[o,i]=(0,x.useState)(Date.now()),[l,c]=(0,x.useState)(null);(0,x.useEffect)(()=>{let e=setInterval(()=>i(Date.now()),1e3);return()=>clearInterval(e)},[]);let d=async()=>{l&&(await f(l),c(null))},u=()=>c(null),h=async n=>{let r=aS.find(e=>e.id===n);if(!r)return;let o=Math.pow(1.2,(e.adventureRepeatCounts||{})[n]||0),i=Math.ceil(r.duration*o),l=Math.ceil(r.cost*o),c=Math.ceil(r.reward*o);if(e.coins<l||(e.activeAdventures||[]).some(e=>e.id===n&&!e.claimed&&e.endTime>Date.now()))return;let d=new Set(e.inactiveDiceIds||[]),u=e.bag.filter(e=>!d.has(e.id)),h=u.length>0?u[Math.floor(Math.random()*u.length)]:null;if("ranked"===e.mode&&s){let t=rj(s),r=rN(s,t);if(!await a({type:rv.ActionType.START_GAME,runId:t,nonce:r,timestamp:Date.now(),params:{adventureId:n,duration:i,cost:l,reward:c,lockedDieId:h?.id}},{token:"WAX"===e.preferredPaymentMethod?"WAX":"PXJ"}))return}t(e=>({...e,coins:e.coins-l,inactiveDiceIds:h?[...e.inactiveDiceIds||[],h.id]:e.inactiveDiceIds||[],activeAdventures:[...e.activeAdventures||[],{id:r.id,name:r.name,description:r.description,duration:i,cost:l,reward:c,startTime:Date.now(),endTime:Date.now()+1e3*i,claimed:!1,lockedDieId:h?.id,randomDieChance:.2}]}))},f=async n=>{let r=(e.activeAdventures||[]).find(e=>e.id===n&&!e.claimed);if(!r||r.endTime>Date.now())return;if("ranked"===e.mode&&s){let t=rj(s),o=rN(s,t);if(!await a({type:rv.ActionType.CLAIM_REWARD,runId:t,nonce:o,timestamp:Date.now(),params:{adventureId:n,reward:r.reward}},{token:"WAX"===e.preferredPaymentMethod?"WAX":"PXJ"}))return}let o=Math.random()<(r.randomDieChance||0)?$(`adv-${Date.now()}`):null;t(e=>({...e,coins:e.coins+r.reward,adventuresCompleted:(e.adventuresCompleted||0)+1,bag:o?[...e.bag,o]:e.bag,inactiveDiceIds:r.lockedDieId?(e.inactiveDiceIds||[]).filter(e=>e!==r.lockedDieId):e.inactiveDiceIds||[],activeAdventures:(e.activeAdventures||[]).map(e=>e.id===r.id?{...e,claimed:!0}:e),adventureRepeatCounts:{...e.adventureRepeatCounts||{},[r.id]:((e.adventureRepeatCounts||{})[r.id]||0)+1}}))},m=(0,p.jsxs)("div",{className:"p-6 space-y-4 overflow-y-auto custom-scrollbar",style:{maxHeight:"90vh"},children:[(0,p.jsx)("p",{className:"text-sm text-white/70",children:"Send your dice on adventures to earn bonus coins. One die is locked per adventure until completion."}),aS.map(t=>{let n,r,s,a,i,l,d,u,f,m;return(0,p.jsx)("div",{className:"bg-black/40 rounded-lg p-4 border border-white/10",children:(0,p.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,p.jsx)(rA,{className:"w-5 h-5 text-casino-cyan"}),(0,p.jsx)("h3",{className:"font-bold text-casino-gold",children:t.name})]}),(0,p.jsx)("p",{className:"text-sm text-white/70 mb-3",children:t.description}),(0,p.jsx)("div",{className:"flex gap-4 text-sm",children:(r=Math.pow(1.2,n=e.adventureRepeatCounts?.[t.id]||0),s=Math.ceil(t.duration*r),a=Math.ceil(t.cost*r),i=Math.ceil(t.reward*r),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-white/70",children:"Duration:"})," ",(0,p.jsxs)("span",{className:"text-casino-cyan",children:[s,"s"]}),n>0&&(0,p.jsxs)("span",{className:"text-white/40 ml-1",children:["(base ",t.duration,"s)"]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-white/70",children:"Cost:"})," ",(0,p.jsx)("span",{className:"text-casino-pink",children:a}),n>0&&(0,p.jsxs)("span",{className:"text-white/40 ml-1",children:["(base ",t.cost,")"]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-white/70",children:"Reward:"})," ",(0,p.jsx)("span",{className:"text-casino-gold",children:i}),n>0&&(0,p.jsxs)("span",{className:"text-white/40 ml-1",children:["(base ",t.reward,")"]})]})]}))}),(()=>{let n,r,s=(e.activeAdventures||[]).find(e=>e.id===t.id&&!e.claimed);if(!s)return null;let a=Math.max(0,Math.ceil((s.endTime-o)/1e3));return(0,p.jsx)("div",{className:"mt-2 text-xs text-white/70",children:a>0?(0,p.jsxs)("div",{children:[(0,p.jsxs)("span",{children:["In progress  ",a,"s remaining"]}),(n=s.endTime-s.startTime,r=Math.min(100,Math.max(0,Math.round(Math.max(0,o-s.startTime)/n*100))),(0,p.jsx)("div",{className:"mt-2",children:(0,p.jsxs)("div",{className:"h-8 bg-black/40 border border-white/10 rounded relative overflow-hidden",children:[(0,p.jsx)("div",{className:"h-full bg-casino-cyan/40",style:{width:`${r}%`}}),(0,p.jsx)(eQ,{className:"w-6 h-6 text-casino-cyan absolute -top-2",style:{left:`${r}%`,transform:"translateX(-50%)"}})]})}))]}):(0,p.jsx)("span",{className:"text-casino-gold",children:"Ready to claim"})})})()]}),(l=(e.activeAdventures||[]).find(e=>e.id===t.id&&!e.claimed),d=Math.pow(1.2,e.adventureRepeatCounts?.[t.id]||0),u=Math.ceil(t.cost*d),f=!l&&e.coins>=u,m=l&&l.endTime<=o,(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsxs)(eV,{onClick:()=>h(t.id),disabled:!f,className:"bg-casino-cyan text-black hover:bg-casino-cyan/80",children:[(0,p.jsx)(e1,{className:"w-4 h-4 mr-2"}),"Start"]}),(0,p.jsx)(eV,{onClick:()=>c(t.id),disabled:!m,className:"bg-casino-gold text-black hover:bg-casino-gold/80",children:"Claim"})]})),"          "]})},t.id)})]});return r?(0,p.jsxs)("div",{className:"bg-black/40 backdrop-blur-md border-t border-white/10 rounded-t-lg",children:[(0,p.jsxs)("div",{className:"bg-black/30 border-b border-white/10 p-4 flex items-center justify-between",children:[(0,p.jsx)("h2",{className:"text-xl font-bold",children:"Adventures"}),(0,p.jsx)(eV,{onClick:n,variant:"ghost",size:"icon",className:"text-white/80 hover:bg-white/10",children:(0,p.jsx)(rO,{className:"w-5 h-5"})})]}),m,l&&(0,p.jsx)("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",onClick:u,children:(0,p.jsxs)("div",{className:"bg-black/60 border border-white/10 rounded-lg max-w-md w-full p-6",onClick:e=>e.stopPropagation(),children:[(0,p.jsx)("h3",{className:"text-xl font-bold text-casino-gold mb-2",children:"Adventure Complete"}),(0,p.jsx)("p",{className:"text-white/80 mb-4",children:"Claim your reward and unlock your die."}),(0,p.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,p.jsx)(eV,{variant:"ghost",onClick:u,className:"text-white/80 hover:bg-white/10",children:"Cancel"}),(0,p.jsx)(eV,{onClick:d,className:"bg-casino-gold text-black hover:bg-casino-gold/80",children:"Claim"})]})]})})]}):(0,p.jsxs)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-50 flex items-center justify-center p-4",onClick:n,children:[(0,p.jsxs)("div",{className:"bg-black/40 backdrop-blur-md border border-white/10 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,p.jsxs)("div",{className:"sticky top-0 bg-black/30 border-b border-white/10 p-4 flex items-center justify-between",children:[(0,p.jsx)("h2",{className:"text-2xl font-bold",children:"Adventures"}),(0,p.jsx)(eV,{onClick:n,variant:"ghost",size:"icon",className:"text-white/80 hover:bg-white/10",children:(0,p.jsx)(rO,{className:"w-5 h-5"})})]}),m]}),l&&(0,p.jsx)("div",{className:"fixed inset-0 bg-black/70 z-[60] flex items-center justify-center p-4",onClick:u,children:(0,p.jsxs)("div",{className:"bg-black/60 border border-white/10 rounded-lg max-w-md w-full p-6",onClick:e=>e.stopPropagation(),children:[(0,p.jsx)("h3",{className:"text-xl font-bold text-casino-gold mb-2",children:"Adventure Complete"}),(0,p.jsx)("p",{className:"text-white/80 mb-4",children:"Claim your reward and unlock your die."}),(0,p.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,p.jsx)(eV,{variant:"ghost",onClick:u,className:"text-white/80 hover:bg-white/10",children:"Cancel"}),(0,p.jsx)(eV,{onClick:d,className:"bg-casino-gold text-black hover:bg-casino-gold/80",children:"Claim"})]})]})})]})}let aP=eZ("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function aE({gameState:e,setGameState:t,onClose:n,embedded:r=!1}){let s=e.bag.length,a=V(e.diceRemovalCount),o=!!t,i=["common","uncommon","rare","epic","legendary","mythic"],[l,c]=(0,x.useState)(()=>{let e={};return i.forEach(t=>e[t]=!0),e}),d=(0,x.useMemo)(()=>{let t={};for(let n of e.bag){let e=n.type,r=n.rarity;t[e]??={},t[e][r]??=[],t[e][r].push(n)}return t},[e.bag]),u=(0,p.jsxs)("div",{className:"p-6 space-y-4 overflow-y-auto custom-scrollbar select-none",style:{maxHeight:"90vh"},children:[(0,p.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)(e2,{className:"w-5 h-5 text-casino-cyan"}),(0,p.jsx)("h3",{className:"font-bold text-casino-gold",children:"Dice Bag"})]})}),(0,p.jsxs)("p",{className:"text-sm text-white/70",children:["Total dice in bag: ",s]}),(0,p.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[(0,p.jsx)("span",{className:"text-xs text-white/70",children:"Filter rarities:"}),i.map(e=>(0,p.jsxs)("label",{className:"flex items-center gap-2 text-xs",children:[(0,p.jsx)(ag,{checked:l[e],onCheckedChange:()=>c(t=>({...t,[e]:!t[e]})),className:"border-casino-gold data-[state=checked]:bg-casino-gold"}),(0,p.jsx)("span",{className:`capitalize ${!l[e]?"opacity-50 line-through":""}`,children:e})]},e))]}),Object.keys(d).length>0?Object.entries(d).map(([n,r])=>(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("div",{className:"text-sm font-semibold text-white/90 mb-2 flex items-center justify-between",children:[(0,p.jsx)("span",{className:"uppercase",children:n}),(0,p.jsxs)("span",{className:"text-xs text-white/60",children:[Object.values(r).reduce((e,t)=>e+t.length,0)," dice"]})]}),["common","uncommon","rare","epic","legendary","mythic"].filter(e=>l[e]).map(s=>{let i=r[s]||[];return i.length?(0,p.jsxs)("div",{className:"mb-2",children:[(0,p.jsx)("div",{className:"text-xs text-white/70 capitalize mb-1",children:s}),(0,p.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:i.map(n=>(0,p.jsxs)("div",{className:"bg-black/40 rounded-lg p-4 border border-white/10",children:[(0,p.jsx)("div",{className:"mb-3 flex justify-center",children:(0,p.jsx)(eq,{dice:[n],cupId:`bag-${n.id}`,isRolling:!1,compact:!0})}),(0,p.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"font-semibold text-white/90",children:n.type.toUpperCase()}),(0,p.jsx)("div",{className:"text-xs text-white/70",children:n.rarity})]}),(0,p.jsxs)("span",{className:"text-xs text-white/60",children:["x",n.multiplier]})]}),(0,p.jsxs)(eV,{variant:"outline",className:"w-full border-casino-pink text-casino-pink hover:bg-casino-pink/10 disabled:opacity-50",disabled:!o||e.coins<a,onClick:()=>{var e;return e=n.id,void(t&&t(t=>{let n=V(t.diceRemovalCount);if(t.coins<n)return t;let r=t.bag.findIndex(t=>t.id===e);if(-1===r)return t;let s=[...t.bag];return s.splice(r,1),{...t,coins:t.coins-n,diceRemovalCount:t.diceRemovalCount+1,bag:s}}))},title:o?e.coins>=a?`Remove for ${a}`:`Need ${a} coins`:"Editing disabled",children:[(0,p.jsx)(aP,{className:"w-4 h-4 mr-2"})," Remove (-",a,")"]})]},n.id))})]},`${n}-${s}`):null})]},n)):(0,p.jsx)("div",{className:"text-sm text-muted-foreground",children:"Your bag is empty. Visit the Shop to buy dice."})]});return r?(0,p.jsxs)("div",{className:"bg-black/40 backdrop-blur-md border-t border-white/10 rounded-t-lg",children:[(0,p.jsxs)("div",{className:"bg-black/30 border-b border-white/10 p-4 flex items-center justify-between select-none",children:[(0,p.jsx)("h2",{className:"text-xl font-bold",children:"Bag"}),(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsxs)("span",{className:"text-sm text-white/80",children:["Coins: ",(0,p.jsx)("span",{className:"text-casino-gold font-bold",children:e.coins.toFixed(2)})]}),(0,p.jsx)(eV,{onClick:n,variant:"ghost",size:"icon",className:"text-white/80 hover:bg-white/10",children:(0,p.jsx)(rO,{className:"w-5 h-5"})})]})]}),u]}):(0,p.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-50 flex items-center justify-center p-4",onClick:n,children:(0,p.jsxs)("div",{className:"bg-black/40 backdrop-blur-md border border-white/10 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,p.jsxs)("div",{className:"sticky top-0 bg-black/30 border-b border-white/10 p-4 flex items-center justify-between select-none",children:[(0,p.jsx)("h2",{className:"text-2xl font-bold",children:"Bag"}),(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsxs)("span",{className:"text-sm text-white/80",children:["Coins: ",(0,p.jsx)("span",{className:"text-casino-gold font-bold",children:e.coins.toFixed(2)})]}),(0,p.jsx)(eV,{onClick:n,variant:"ghost",size:"icon",className:"text-white/80 hover:bg-white/10",children:(0,p.jsx)(rO,{className:"w-5 h-5"})})]})]}),u]})})}let aT=eZ("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]),aA=eZ("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);var aD=e.i(75234);function a_({gameState:e,setGameState:t,onClose:n,embedded:r=!1}){let{accountName:s,connect:a,transactGameAction:o}=(0,rb.useBlockchain)(),i=Object.entries(e.talents);Date.now(),e.lastTalentAdAt;let l=Math.floor(1e5*Math.pow(3,e.talentCoinPurchases||0));async function c(){aD.toast.info("Ad rewards coming soon")}async function d(){let n=e.preferredPaymentMethod||"PXJ";if(s||(aD.toast.info(`Connect wallet to spend ${n}`),await a(),s)){if("ranked"===e.mode&&s){let e=rj(s),t=rN(s,e);if(!await o({type:rv.ActionType.UPGRADE_TALENT,runId:e,nonce:t,timestamp:Date.now(),params:{purchaseTalentPoint:1,pricePXJ:25e3}},{token:"WAX"===n?"WAX":"PXJ",amountPXJ:25e3}))return}t(e=>({...e,talentPoints:e.talentPoints+1})),aD.toast.success("Purchased +1 Talent Point")}}function u(){(e.coins||0)<l?aD.toast.error(`Need ${l.toLocaleString()} coins`):(t(e=>({...e,coins:(e.coins||0)-l,talentPoints:e.talentPoints+1,talentCoinPurchases:(e.talentCoinPurchases||0)+1})),aD.toast.success("Bought +1 Talent Point with coins"))}let h=(0,p.jsxs)("div",{className:"p-6 space-y-4 overflow-y-auto custom-scrollbar select-none",style:{maxHeight:"90vh"},children:[(0,p.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,p.jsx)(aT,{className:"w-5 h-5 text-casino-cyan"}),(0,p.jsx)("h3",{className:"font-bold text-casino-gold",children:"Talent Skill Upgrades"})]}),(0,p.jsx)("p",{className:"text-sm text-white/70",children:"Allocate points to improve your dice and rewards."}),(0,p.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:i.map(([n,r])=>{let a=Number(r)||0,i=a+1,l=e.talentPoints>=i;return(0,p.jsxs)("div",{className:"bg-black/40 rounded-lg p-4 border border-white/10",children:[(0,p.jsx)("div",{className:"font-semibold text-white/90",children:n.replace(/([A-Z])/g," $1").replace(/\b([a-z])/g,e=>e.toUpperCase()).trim()}),(0,p.jsxs)("div",{className:"text-sm text-white/70 mb-2",children:["Level: ",a]}),(0,p.jsxs)(eV,{disabled:!l,variant:"outline",className:"border-casino-gold text-casino-gold hover:bg-casino-gold/10 disabled:opacity-50",onClick:async()=>{if("ranked"===e.mode&&s){let t=rj(s),r=rN(s,t);if(!await o({type:rv.ActionType.UPGRADE_TALENT,runId:t,nonce:r,timestamp:Date.now(),params:{talent:n,newLevel:a+1,cost:i}},{token:"WAX"===e.preferredPaymentMethod?"WAX":"PXJ"}))return}t(e=>({...e,talentPoints:e.talentPoints-i,talents:{...e.talents,[n]:a+1}}))},title:l?`Spend ${i} talent point${i>1?"s":""}`:`Need ${i} talent point${i>1?"s":""}`,children:["Upgrade (-",i,")"]})]},n)})})]});return r?(0,p.jsxs)("div",{className:"bg-black/40 backdrop-blur-md border-t border-white/10 rounded-t-lg",children:[(0,p.jsxs)("div",{className:"bg-black/30 border-b border-white/10 p-4 flex items-center justify-between select-none",children:[(0,p.jsx)("h2",{className:"text-xl font-bold",children:"Talent Skill Upgrades"}),(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsxs)("div",{className:"hidden md:flex items-center gap-2 mr-2",children:[(0,p.jsxs)(eV,{size:"sm",variant:"outline",className:"text-white/80 border-white/20 hover:bg-white/10",onClick:c,disabled:!0,title:"Ad rewards coming soon",children:[(0,p.jsx)(aA,{className:"w-4 h-4 mr-1"})," Ad"]}),(0,p.jsxs)(eV,{size:"sm",variant:"outline",className:"text-white/80 border-white/20 hover:bg-white/10",onClick:d,title:`Buy +1 TP for ${25e3.toLocaleString()} ${e.preferredPaymentMethod}`,children:[(0,p.jsx)(rz,{className:"w-4 h-4 mr-1"})," ",e.preferredPaymentMethod]}),(0,p.jsxs)(eV,{size:"sm",variant:"outline",className:"text-white/80 border-white/20 hover:bg-white/10",onClick:u,title:`Buy +1 TP for ${l.toLocaleString()} coins`,children:[(0,p.jsx)(rP,{className:"w-4 h-4 mr-1"})," Coins"]})]}),(0,p.jsxs)("span",{className:"text-sm text-white/70",children:["Available points: ",(0,p.jsx)("span",{className:"text-casino-gold font-bold",children:e.talentPoints})]}),(0,p.jsx)(eV,{onClick:n,variant:"ghost",size:"icon",className:"text-white/80 hover:bg-white/10",children:(0,p.jsx)(rO,{className:"w-5 h-5"})})]})]}),h]}):(0,p.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-50 flex items-center justify-center p-4",onClick:n,children:(0,p.jsxs)("div",{className:"bg-black/40 backdrop-blur-md border border-white/10 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,p.jsxs)("div",{className:"sticky top-0 bg-black/30 border-b border-white/10 p-4 flex items-center justify-between select-none",children:[(0,p.jsx)("h2",{className:"text-2xl font-bold",children:"Talent Skill Upgrades"}),(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsxs)("div",{className:"hidden md:flex items-center gap-2 mr-2",children:[(0,p.jsxs)(eV,{size:"sm",variant:"outline",className:"text-white/80 border-white/20 hover:bg-white/10",onClick:c,disabled:!0,title:"Ad rewards coming soon",children:[(0,p.jsx)(aA,{className:"w-4 h-4 mr-1"})," Ad"]}),(0,p.jsxs)(eV,{size:"sm",variant:"outline",className:"text-white/80 border-white/20 hover:bg-white/10",onClick:d,title:`Buy +1 TP for ${25e3.toLocaleString()} ${e.preferredPaymentMethod}`,children:[(0,p.jsx)(rz,{className:"w-4 h-4 mr-1"})," ",e.preferredPaymentMethod]}),(0,p.jsxs)(eV,{size:"sm",variant:"outline",className:"text-white/80 border-white/20 hover:bg-white/10",onClick:u,title:`Buy +1 TP for ${l.toLocaleString()} coins`,children:[(0,p.jsx)(rP,{className:"w-4 h-4 mr-1"})," Coins"]})]}),(0,p.jsxs)("span",{className:"text-sm text-white/70",children:["Available points: ",(0,p.jsx)("span",{className:"text-casino-gold font-bold",children:e.talentPoints})]}),(0,p.jsx)(eV,{onClick:n,variant:"ghost",size:"icon",className:"text-white/80 hover:bg-white/10",children:(0,p.jsx)(rO,{className:"w-5 h-5"})})]})]}),h]})})}let az={startingCoins:"+ coins at start of each run",startingDice:"+ dice placed automatically at start",xpGainBonus:"+% XP gain from rolls and bosses",autoRollUnlocked:"Unlocks auto-roll feature permanently",permanentScoreBonus:"+% permanent score multiplier",prestigeXPGain:"+% prestige XP earned when prestiging",idleRateBonus:"+% idle coin rate bonus",standardD6AlwaysX10:"Standard d6 dice values score x10 (1 upgrade)",manualSingleCupX10Mult:"Manual single-cup rolls score x10 (1 upgrade)"};function aL({gameState:e,setGameState:t,onClose:n,embedded:r=!1}){let[s,a]=(0,x.useState)(!1),{accountName:o,transactGameAction:i}=(0,rb.useBlockchain)(),l=1+.05*(e.prestigeLevel||0),c=100*(e.prestigeLevel+1),d=Object.values(e.talents).reduce((e,t)=>e+t,0),u=Math.floor(10*e.bossesDefeated+5*d),h=async()=>{if("ranked"===e.mode&&o){let t=rj(o),n=rN(o,t);if(!await i({type:rv.ActionType.PRESTIGE,runId:t,nonce:n,timestamp:Date.now(),params:{newLevel:e.prestigeLevel+1,xpGain:u}},{token:"WAX"===e.preferredPaymentMethod?"WAX":"PXJ"}))return}t({...X(),mode:e.mode,prestigeLevel:e.prestigeLevel+1,prestigeXP:e.prestigeXP+u,prestigeTalents:e.prestigeTalents,prestigePoints:e.prestigePoints+Math.floor(u/100),walletConnected:e.walletConnected,walletAddress:e.walletAddress,waxBalance:e.waxBalance,pxjBalance:e.pxjBalance,hasSeenTutorial:e.hasSeenTutorial??!1}),n()},f=(0,p.jsxs)("div",{className:"p-6 space-y-6 overflow-y-auto custom-scrollbar",style:{maxHeight:"90vh"},children:[(0,p.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,p.jsx)(r_,{className:"w-5 h-5 text-casino-gold"}),(0,p.jsx)("h3",{className:"font-bold text-casino-gold",children:"Prestige"})]}),(0,p.jsx)("p",{className:"text-sm text-white/70",children:"Prestige resets your current run but grants permanent bonuses via prestige XP and points."}),(0,p.jsxs)("div",{className:"bg-black/40 rounded-lg p-4 border border-white/10",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"space-y-1",children:[(0,p.jsxs)("div",{className:"text-white/80",children:["Prestige Level: ",(0,p.jsx)("span",{className:"font-bold text-casino-gold",children:e.prestigeLevel})]}),(0,p.jsxs)("div",{className:"text-white/80",children:["Global Multiplier: ",(0,p.jsxs)("span",{className:"font-bold text-casino-cyan",children:["x",l.toFixed(2)]})]})]}),(0,p.jsxs)("div",{className:"text-white/80",children:["Prestige Points: ",(0,p.jsx)("span",{className:"font-bold text-casino-gold",children:e.prestigePoints})]})]}),(0,p.jsxs)("div",{className:"mt-3",children:[(0,p.jsx)("div",{className:"text-xs text-white/70 mb-1",children:"Prestige XP Progress"}),(0,p.jsx)("div",{className:"w-full h-2 bg-white/10 rounded",children:(0,p.jsx)("div",{className:"h-2 bg-casino-gold rounded",style:{width:`${Math.min(100,Math.floor(e.prestigeXP%c/c*100))}%`}})}),(0,p.jsxs)("div",{className:"text-xs text-white/60 mt-1",children:[e.prestigeXP%c," / ",c]})]})]}),(0,p.jsxs)("div",{className:"bg-black/40 rounded-lg p-4 border border-white/10",children:[(0,p.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,p.jsx)(aj,{className:"w-5 h-5 text-casino-pink"}),(0,p.jsx)("span",{className:"font-semibold text-white/90",children:"Warning"})]}),(0,p.jsx)("p",{className:"text-sm text-white/70",children:"You will lose your current progress, coins, and dice placements. Your prestige level and points will increase."})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"text-white/80",children:["Potential Prestige XP: ",(0,p.jsx)("span",{className:"text-casino-gold font-bold",children:u})]}),(0,p.jsx)(eV,{onClick:()=>a(!0),className:"bg-casino-gold text-black hover:bg-casino-gold/80",children:"Confirm Prestige"})]}),s&&(0,p.jsxs)("div",{className:"bg-black/60 border border-casino-gold/30 rounded-lg p-4",children:[(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsx)(aj,{className:"w-5 h-5 text-casino-pink"}),(0,p.jsx)("div",{className:"text-sm text-white/80",children:"Prestige will reset your run. Proceed?"})]}),(0,p.jsxs)("div",{className:"mt-3 flex gap-2 justify-end",children:[(0,p.jsx)(eV,{variant:"outline",onClick:()=>a(!1),className:"border-casino-gold text-casino-gold hover:bg-casino-gold/10",children:"Cancel"}),(0,p.jsx)(eV,{onClick:h,className:"bg-casino-gold text-black hover:bg-casino-gold/80",children:"Confirm"})]})]}),(0,p.jsx)("div",{className:"space-y-4",children:G.map((n,r)=>(0,p.jsxs)("div",{className:"space-y-2",children:[(0,p.jsxs)("div",{className:"text-xs uppercase tracking-wide text-white/60",children:["Row ",r+1]}),(0,p.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:n.map((n,s)=>{let a=e.prestigeTalents[n],l=U[n],c="boolean"==typeof a?+!!a:a??0,d=H(n,c),u=function(e,t){let n=G.findIndex(e=>e.includes(t));if(-1===n)return!1;let r=G[n].indexOf(t);if(n>0&&r>=0){let t,s=G[n-1][r];if(s&&(t=e.prestigeTalents[s],!(("boolean"==typeof t?+!!t:t??0)>=U[s])))return!1}let s=e.prestigeTalents[t],a=U[t],o="boolean"==typeof s?+!!s:s??0,i=H(t,o);return o<a&&e.prestigePoints>=i}(e,n),h=String(n).replace(/([A-Z])/g," $1").replace(/^([a-z])/,e=>e.toUpperCase()).trim(),f=az[n],m=r>0?G[r-1][s]:void 0,x=!m||("boolean"==typeof e.prestigeTalents[m]?!0===e.prestigeTalents[m]:e.prestigeTalents[m]>=U[m]);return(0,p.jsxs)("div",{className:"relative bg-black/30 rounded-lg p-3 border border-white/10",children:[!x&&(0,p.jsx)("div",{className:"absolute inset-0 bg-black/50 rounded-lg flex items-center justify-center",children:(0,p.jsx)("span",{className:"text-xs text-white/70",children:"Max the node above to unlock"})}),(0,p.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,p.jsx)("div",{className:"font-semibold text-white/90",children:h}),(0,p.jsx)("div",{className:"text-xs text-white/60",children:"boolean"==typeof a?a?"Unlocked":"Locked":`Lv ${c}/${l}`})]}),(0,p.jsx)("div",{className:"text-xs text-white/70 mb-2",children:f}),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"text-xs text-white/60",children:["Cost: ",(0,p.jsxs)("span",{className:"text-casino-gold font-bold",children:[d," pt"]})]}),(0,p.jsx)(eV,{size:"sm",disabled:!u||!x,onClick:async()=>{if(!u||!x)return;let r=e.prestigeTalents[n],s="boolean"==typeof r?1:Math.min(("boolean"==typeof r?+!!r:r??0)+1,l);if("ranked"===e.mode&&o){let t=rj(o),r=rN(o,t);if(!await i({type:rv.ActionType.UPGRADE_TALENT,runId:t,nonce:r,timestamp:Date.now(),params:{tree:"prestige",talent:String(n),newLevel:s,cost:d}},{token:"WAX"===e.preferredPaymentMethod?"WAX":"PXJ"}))return}t({...e,prestigePoints:e.prestigePoints-d,prestigeTalents:{...e.prestigeTalents,[n]:"boolean"==typeof r||s}})},className:"bg-casino-gold text-black hover:bg-casino-gold/80",children:"Upgrade"})]})]},String(n))})})]},r))})]});return r?(0,p.jsxs)("div",{className:"bg-black/40 backdrop-blur-md border-t border-white/10 rounded-t-lg",children:[(0,p.jsxs)("div",{className:"bg-black/30 border-b border-white/10 p-4 flex items-center justify-between",children:[(0,p.jsx)("h2",{className:"text-xl font-bold",children:"Prestige"}),(0,p.jsx)(eV,{onClick:n,variant:"ghost",size:"icon",className:"text-white/80 hover:bg-white/10",children:(0,p.jsx)(rO,{className:"w-5 h-5"})})]}),f]}):(0,p.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80",onClick:n,children:(0,p.jsxs)("div",{className:"bg-casino-dark border-2 border-casino-gold rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,p.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-casino-gold/30",children:[(0,p.jsx)("h2",{className:"text-2xl font-bold text-casino-gold",children:"Prestige"}),(0,p.jsx)(eV,{onClick:n,variant:"ghost",size:"icon",className:"text-casino-gold hover:bg-casino-gold/20",children:(0,p.jsx)(rO,{className:"w-6 h-6"})})]}),f]})})}function aF({gameState:e,setGameState:t,onClose:n}){let{accountName:r,transactGameAction:s}=(0,rb.useBlockchain)(),a=async a=>{let o=e.shopDice[a];if("ranked"===e.mode&&r){let t=rj(r),n=rN(r,t);if(!await s({type:rv.ActionType.CLAIM_REWARD,runId:t,nonce:n,timestamp:Date.now(),params:{dieId:o.id,rarity:o.rarity,multiplier:o.multiplier}},{token:"WAX"===e.preferredPaymentMethod?"WAX":"PXJ"}))return}t(e=>({...e,bag:[...e.bag,o],pendingBossRewards:Math.max(0,e.pendingBossRewards-1),shopDice:B()})),n()};return(0,p.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80",onClick:n,children:(0,p.jsxs)("div",{className:"bg-casino-dark border-2 border-casino-gold rounded-lg max-w-2xl w-full",onClick:e=>e.stopPropagation(),children:[(0,p.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-casino-gold/30",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)(rT,{className:"w-6 h-6 text-casino-gold"}),(0,p.jsx)("h2",{className:"text-2xl font-bold text-casino-gold",children:"Boss Defeated!"})]}),(0,p.jsx)(eV,{onClick:n,variant:"ghost",size:"icon",className:"text-casino-gold hover:bg-casino-gold/20",children:(0,p.jsx)(rO,{className:"w-6 h-6"})})]}),(0,p.jsxs)("div",{className:"p-6 space-y-6",children:[(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("p",{className:"text-lg text-casino-cyan mb-4",children:"Choose your reward die!"}),(0,p.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Pending rewards: ",e.pendingBossRewards]})]}),(0,p.jsx)("div",{className:"grid grid-cols-3 gap-4",children:e.shopDice.map((e,t)=>(0,p.jsxs)("div",{className:"bg-black/40 border border-casino-cyan/30 rounded-lg p-4 text-center",children:[(0,p.jsx)("div",{className:"mb-3 flex items-center justify-center",children:(0,p.jsx)("div",{className:"w-40 h-28",children:(0,p.jsx)(eq,{dice:[e],cupId:`boss-${t}`,isRolling:!1,compact:!0})})}),(0,p.jsx)("div",{className:"text-sm text-casino-cyan capitalize mb-1",children:e.rarity}),(0,p.jsxs)("div",{className:"text-xs text-muted-foreground mb-3",children:["x",e.multiplier," multiplier"]}),(0,p.jsx)(eV,{onClick:()=>a(t),className:"w-full bg-casino-gold hover:bg-casino-gold/80 text-black font-bold",children:"Claim"})]},e.id))})]})]})})}var aI="Switch",[aO,a$]=te(aI),[aB,aX]=aO(aI),aW=x.forwardRef((e,t)=>{let{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:o,disabled:i,value:l="on",onCheckedChange:c,form:d,...u}=e,[h,f]=x.useState(null),m=Z(t,e=>f(e)),g=x.useRef(!1),b=!h||d||!!h.closest("form"),[v=!1,y]=nY({prop:s,defaultProp:a,onChange:c});return(0,p.jsxs)(aB,{scope:n,checked:v,disabled:i,children:[(0,p.jsx)(tn.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":aV(v),"data-disabled":i?"":void 0,disabled:i,value:l,...u,ref:m,onClick:e9(e.onClick,e=>{y(e=>!e),b&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})}),b&&(0,p.jsx)(aH,{control:h,bubbles:!g.current,name:r,value:l,checked:v,required:o,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});aW.displayName=aI;var aG="SwitchThumb",aU=x.forwardRef((e,t)=>{let{__scopeSwitch:n,...r}=e,s=aX(aG,n);return(0,p.jsx)(tn.span,{"data-state":aV(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});aU.displayName=aG;var aH=e=>{let{control:t,checked:n,bubbles:r=!0,...s}=e,a=x.useRef(null),o=as(n),i=nR(t);return x.useEffect(()=>{let e=a.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==n&&t){let s=new Event("click",{bubbles:r});t.call(e,n),e.dispatchEvent(s)}},[o,n,r]),(0,p.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function aV(e){return e?"checked":"unchecked"}function aq({className:e,...t}){return(0,p.jsx)(aW,{"data-slot":"switch",className:eU("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,p.jsx)(aU,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}var aJ=x.forwardRef((e,t)=>(0,p.jsx)(tn.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));function aY({className:e,...t}){return(0,p.jsx)(aJ,{"data-slot":"label",className:eU("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function aK({gameState:e,setGameState:t,onClose:n,onOpenInventory:r,onOpenMemecards:s,onOpenTalents:a}){let{session:o,isConnected:i,accountName:l,connect:c,disconnect:d,isLoading:u,refreshBalancesAndPrices:h}=(0,rb.useBlockchain)();(0,x.useEffect)(()=>{i&&l?(t(e=>e.walletConnected&&e.walletAddress===l?e:{...e,walletConnected:!0,walletAddress:l}),h?.()):t(e=>e.walletConnected||void 0!==e.walletAddress?{...e,walletConnected:!1,walletAddress:void 0}:e)},[i,l]);let f=async()=>{await c()},m=async()=>{await d()},g=()=>{t(e=>({...e,preferredPaymentMethod:"PXJ"===e.preferredPaymentMethod?"WAX":"PXJ"}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"md:hidden fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80",onClick:n,children:(0,p.jsxs)("div",{className:"bg-black/40 backdrop-blur-md border border-white/10 rounded-lg max-w-md w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,p.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)(rz,{className:"w-6 h-6 text-casino-gold"}),(0,p.jsx)("h2",{className:"text-2xl font-bold text-casino-gold",children:"Wallet"})]}),(0,p.jsx)(eV,{onClick:n,variant:"ghost",size:"icon",className:"text-casino-gold hover:bg-casino-gold/20",children:(0,p.jsx)(rO,{className:"w-6 h-6"})})]}),(0,p.jsx)("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6",children:(0,p.jsx)(aZ,{gameState:e,setGameState:t,handleConnectWallet:f,handleDisconnect:m,isLoading:u,togglePaymentMethod:g,onOpenInventory:r,onOpenMemecards:s,onOpenTalents:a})})]})}),(0,p.jsxs)("div",{className:"hidden md:block fixed top-16 right-4 z-50 w-96 bg-black/40 backdrop-blur-md border border-white/10 rounded-lg shadow-2xl",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)(rz,{className:"w-5 h-5 text-casino-gold"}),(0,p.jsx)("h2",{className:"text-xl font-bold text-casino-gold",children:"Wallet"})]}),(0,p.jsx)(eV,{onClick:n,variant:"ghost",size:"icon",className:"text-casino-gold hover:bg-casino-gold/20",children:(0,p.jsx)(rO,{className:"w-5 h-5"})})]}),(0,p.jsx)("div",{className:"max-h-[90vh] overflow-y-auto custom-scrollbar p-4",children:(0,p.jsx)(aZ,{gameState:e,setGameState:t,handleConnectWallet:f,handleDisconnect:m,isLoading:u,togglePaymentMethod:g,onOpenInventory:r,onOpenMemecards:s,onOpenTalents:a})})]})]})}function aZ({gameState:e,setGameState:t,handleConnectWallet:n,handleDisconnect:r,isLoading:s,togglePaymentMethod:a,onOpenInventory:o,onOpenMemecards:i,onOpenTalents:l}){let{accountName:c,isConnected:d,transactGameAction:u,waxBalance:h,pxjBalance:f,usdPrices:m,pfpCount:g,ingredientCount:b,assetGlobalMultiplier:v,tokenBalances:y,pfpAssets:w,ingredientAssets:j}=(0,rb.useBlockchain)(),[N,k]=(0,x.useState)(!1),C=m?.PXJ&&m?.WAX?50*m.PXJ/m.WAX:null,M=Object.entries(y||{}).map(([e,t])=>{let n=t*(m?.[e]||0),r=0,s="none";return n>=1e3?(r=.1,s="legendary"):n>=250?(r=.05,s="epic"):n>=50?(r=.02,s="rare"):n>=10?(r=.01,s="uncommon"):n>0&&(r=.005,s="common"),{symbol:e,amount:t,usd:n,inc:r,tier:s}}),S=1+M.reduce((e,t)=>e+t.inc,0),[R,P]=(0,x.useState)(!1),[E,T]=(0,x.useState)(!1);(0,x.useEffect)(()=>{if(d&&c){let e=`die-to-die-save:ranked:${c}`;k(!!localStorage.getItem(e))}else k(!1)},[d,c]);let A=!e.walletConnected;return(0,p.jsxs)("div",{className:"space-y-4",children:[A&&(0,p.jsxs)("div",{className:"text-center space-y-4",children:[(0,p.jsx)("p",{className:"text-muted-foreground text-sm",children:"Connect your WAX wallet to enable on-chain features"}),(0,p.jsxs)(eV,{onClick:n,disabled:s,className:"w-full bg-casino-gold hover:bg-casino-gold/80 text-black font-bold",children:[(0,p.jsx)(rz,{className:"w-5 h-5 mr-2"}),s?"Connecting...":"Connect Wallet"]})]}),e.walletConnected&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"bg-black/40 border border-white/10 rounded-lg p-3",children:[(0,p.jsx)("div",{className:"text-xs text-muted-foreground",children:"Pixel Journey NFTs + FTs"}),(0,p.jsxs)("div",{className:"mt-1 text-sm space-y-1",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("span",{className:"text-muted-foreground",children:"PFPs"}),(0,p.jsx)("span",{className:"font-bold",children:g||0})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("span",{className:"text-muted-foreground",children:"Ingredients"}),(0,p.jsx)("span",{className:"font-bold",children:b||0})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("span",{className:"text-muted-foreground",children:"NFT Multiplier"}),(0,p.jsxs)("span",{className:"font-bold text-casino-gold",children:[(v||1).toFixed(3),"x"]})]}),(0,p.jsx)("button",{type:"button",className:"text-xs text-casino-gold hover:underline",onClick:()=>P(e=>!e),children:R?"Hide breakdown":"Show breakdown"}),R&&(0,p.jsxs)("div",{className:"mt-1 text-xs text-white/70 space-y-1",children:[(0,p.jsxs)("div",{children:["PFPs contribute +0.1 each (",g||0," total)"]}),(0,p.jsxs)("div",{children:["Ingredients contribute +0.0001 each (",b||0," total)"]})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,p.jsx)("span",{className:"text-muted-foreground",children:"FT Multiplier"}),(0,p.jsxs)("span",{className:"font-bold text-casino-cyan",children:[(S||1).toFixed(3),"x"]})]}),(0,p.jsx)("button",{type:"button",className:"text-xs text-casino-cyan hover:underline",onClick:()=>T(e=>!e),children:E?"Hide FT breakdown":"Show FT breakdown"}),E&&(0,p.jsxs)("div",{className:"mt-1 text-xs text-white/70 space-y-1",children:[M.filter(e=>e.usd>0).map(e=>(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsxs)("span",{children:[e.symbol," ($",e.usd.toFixed(2),")"]}),(0,p.jsxs)("span",{children:["+",(100*e.inc).toFixed(1),"% (",e.tier,")"]})]},e.symbol)),M.every(e=>e.usd<=0)&&(0,p.jsx)("div",{children:"No FT balances detected."})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,p.jsx)("span",{className:"text-muted-foreground",children:"Total Asset Multiplier"}),(0,p.jsxs)("span",{className:"font-bold text-casino-gold",children:[(v*S).toFixed(3),"x"]})]})]})]}),(0,p.jsxs)("div",{className:"bg-black/40 border border-white/10 rounded-lg p-3",children:[(0,p.jsx)("div",{className:"text-xs text-muted-foreground",children:"Dice Summary"}),(0,p.jsxs)("div",{className:"mt-1 text-sm space-y-1",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("span",{className:"text-muted-foreground",children:"Owned (bag)"}),(0,p.jsx)("span",{className:"font-bold",children:(e.bag||[]).length})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("span",{className:"text-muted-foreground",children:"Locked (adventure)"}),(0,p.jsx)("span",{className:"font-bold",children:(e.inactiveDiceIds||[]).length})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("span",{className:"text-muted-foreground",children:"Active"}),(0,p.jsx)("span",{className:"font-bold",children:Math.max(0,(e.bag||[]).length-(e.inactiveDiceIds||[]).length)})]})]})]}),(0,p.jsxs)("div",{className:"bg-black/40 border border-white/10 rounded-lg p-3",children:[(0,p.jsx)("div",{className:"text-xs text-muted-foreground",children:"Run Info"}),(0,p.jsxs)("div",{className:"mt-1 text-sm space-y-1",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("span",{className:"text-muted-foreground",children:"Clicks / Rolls"}),(0,p.jsx)("span",{className:"font-bold",children:e.stats.totalRolls||0})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("span",{className:"text-muted-foreground",children:"Cups Unlocked"}),(0,p.jsx)("span",{className:"font-bold",children:(e.cups||[]).filter(e=>e.unlocked).length})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("span",{className:"text-muted-foreground",children:"Dice in Bag"}),(0,p.jsx)("span",{className:"font-bold",children:(e.bag||[]).length})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("span",{className:"text-muted-foreground",children:"Unlocked Dice Slots"}),(0,p.jsx)("span",{className:"font-bold",children:(e.cups||[]).reduce((e,t)=>e+(t.slots||0),0)})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("span",{className:"text-muted-foreground",children:"Level"}),(0,p.jsxs)("span",{className:"font-bold flex items-center gap-2",children:[e.playerLevel||e.level,e.talentPoints>0&&(0,p.jsx)("button",{type:"button",title:"Open talents",onClick:l,className:"text-casino-gold leading-none",children:""})]})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("span",{className:"text-muted-foreground",children:"Bosses Defeated"}),(0,p.jsx)("span",{className:"font-bold",children:e.bossesDefeated||0})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("span",{className:"text-muted-foreground",children:"Highest Roll (cup)"}),(0,p.jsx)("span",{className:"font-bold",children:e.stats.highestScore||0})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("span",{className:"text-muted-foreground",children:"Adventures Completed"}),(0,p.jsx)("span",{className:"font-bold",children:e.adventuresCompleted||0})]})]})]})]}),(0,p.jsxs)("div",{className:"bg-black/40 border border-casino-gold/30 rounded-lg p-3 space-y-3",children:[(0,p.jsx)("div",{className:"text-xs text-muted-foreground",children:"Game Mode"}),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)(aY,{htmlFor:"game-mode",className:"text-sm",children:"ranked"===e.mode?(0,p.jsx)("span",{className:"text-casino-gold font-bold",children:"Ranked (On-Chain)"}):(0,p.jsx)("span",{className:"text-muted-foreground font-bold",children:"Demo (Offline)"})}),(0,p.jsx)(aq,{id:"game-mode",checked:"ranked"===e.mode,disabled:!d,onCheckedChange:e=>t(t=>({...t,mode:e?"ranked":"demo"}))})]}),d?"ranked"===e.mode&&(0,p.jsxs)("div",{className:"space-y-2",children:[N?(0,p.jsxs)("div",{className:"text-xs text-casino-gold",children:["Found a ranked run for ",c,"."]}):(0,p.jsxs)("div",{className:"text-xs text-muted-foreground",children:["No ranked run found for ",c,". Starting ranked will create a new run."]}),(0,p.jsxs)("div",{className:"flex gap-2",children:[(0,p.jsx)(eV,{onClick:()=>{if(!c)return;let e=`die-to-die-save:ranked:${c}`,n=localStorage.getItem(e);if(n)try{let e=JSON.parse(n);t(t=>({...t,...e,mode:"ranked",walletConnected:!0,walletAddress:c||t.walletAddress}))}catch(e){console.error("Failed to load ranked run",e)}},className:"bg-casino-gold text-black hover:bg-casino-gold/80",children:"Continue Ranked Run"}),(0,p.jsx)(eV,{onClick:async()=>{if(!c)return;let n=X();try{let r=rj(c),s=rN(c,r);if(!await u({type:rv.ActionType.START_GAME,runId:r,nonce:s,timestamp:Date.now(),params:{prestige:n.prestigeLevel||0}},{token:"WAX"===e.preferredPaymentMethod?"WAX":"PXJ"}))return;t({...n,mode:"ranked",walletConnected:!0,walletAddress:c})}catch(e){console.error("Failed to log START_GAME",e)}},variant:"outline",className:"border-casino-gold text-casino-gold hover:bg-casino-gold/20",children:"Start New"})]})]}):(0,p.jsx)("div",{className:"text-xs text-muted-foreground",children:"Connect wallet to enable ranked mode."})]}),e.walletConnected&&(0,p.jsxs)("div",{className:"bg-black/40 border border-casino-purple/30 rounded-lg p-3 space-y-3",children:[(0,p.jsx)("div",{className:"text-xs text-muted-foreground",children:"Preferred Payment Method"}),(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)(aY,{htmlFor:"payment-method",className:"text-sm",children:"PXJ"===e.preferredPaymentMethod?(0,p.jsx)("span",{className:"text-casino-pink font-bold",children:"PXJ (~50 per action)"}):(0,p.jsxs)("span",{className:"text-casino-cyan font-bold",children:["WAX (~",C?C.toFixed(4):"..."," per action)"]})}),(0,p.jsx)(aq,{id:"payment-method",checked:"PXJ"===e.preferredPaymentMethod,onCheckedChange:a})]}),(0,p.jsx)("div",{className:"text-xs text-muted-foreground",children:"PXJ"===e.preferredPaymentMethod?"Using PXJ tokens for transactions":"Using WAX for transactions (price calculated dynamically)"})]}),e.walletConnected&&(0,p.jsx)(eV,{onClick:o,variant:"outline",className:"w-full border-casino-gold text-white hover:bg-casino-gold/20 bg-transparent",children:"View Inventory (NFTs)"}),e.walletConnected&&(0,p.jsx)(eV,{onClick:r,variant:"outline",size:"sm",className:"w-full border-red-500 text-red-500 hover:bg-red-500/20 bg-transparent",children:"Disconnect Wallet"})]})}aJ.displayName="Label";let aQ=eZ("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);function a0({onClose:e,embedded:t=!1}){let{isConnected:n,nfts:r,isLoading:s,mintDiceNFT:a,loadNFTs:o,pfpAssets:i,ingredientAssets:l}=(0,rb.useBlockchain)(),[c,d]=(0,x.useState)("dice");(0,x.useEffect)(()=>{n&&o()},[n]);let u=async e=>{await a(e)};return t?(0,p.jsxs)("div",{className:"bg-black/40 backdrop-blur-md border-t border-white/10 rounded-t-lg",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)(aQ,{className:"w-5 h-5 text-casino-gold"}),(0,p.jsx)("h2",{className:"text-lg font-bold text-casino-gold",children:"Inventory"})]}),(0,p.jsx)(eV,{onClick:e,variant:"ghost",size:"icon",className:"text-white/80 hover:bg-white/10",children:(0,p.jsx)(rO,{className:"w-5 h-5"})})]}),(0,p.jsx)("div",{className:"max-h-[90vh] overflow-y-auto custom-scrollbar p-4",children:n?s?(0,p.jsxs)("div",{className:"text-center text-muted-foreground py-12",children:[(0,p.jsx)("div",{className:"animate-spin w-12 h-12 border-4 border-casino-gold border-t-transparent rounded-full mx-auto mb-4"}),(0,p.jsx)("p",{children:"Loading your inventory..."})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a1,{selectedCategory:c,onSelectCategory:d}),"dice"===c&&0===r.length?(0,p.jsxs)("div",{className:"text-center text-muted-foreground py-12",children:[(0,p.jsx)(aQ,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),(0,p.jsx)("p",{className:"text-lg mb-4",children:"You don't have any Dice NFTs yet"}),(0,p.jsx)(eV,{onClick:()=>u("common"),className:"bg-casino-gold hover:bg-casino-gold/80 text-black font-bold",children:"Mint Your First NFT"})]}):(0,p.jsx)(p.Fragment,{children:"pfp"===c?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"text-sm text-muted-foreground mb-4",children:["Your Pixal PFPs (",i.length,")"]}),(0,p.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:i.map(e=>(0,p.jsxs)("div",{className:"bg-black/40 border border-casino-gold/30 rounded-lg p-4 hover:border-casino-gold/60 transition-all",children:[(0,p.jsx)("div",{className:"aspect-square bg-casino-purple/20 rounded-lg mb-3 flex items-center justify-center overflow-hidden",children:(0,p.jsx)("img",{src:e.image||"/placeholder.svg",alt:e.name,className:"w-full h-full object-cover"})}),(0,p.jsx)("div",{className:"text-sm font-bold text-casino-gold truncate",children:e.name}),(0,p.jsx)("div",{className:"text-xs text-casino-cyan",children:"PFP"})]},e.asset_id))})]}):"ingredients"===c?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"text-sm text-muted-foreground mb-4",children:["Your Ingredients (",l.length,")"]}),(0,p.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:l.map(e=>(0,p.jsxs)("div",{className:"bg-black/40 border border-casino-gold/30 rounded-lg p-4 hover:border-casino-gold/60 transition-all",children:[(0,p.jsx)("div",{className:"aspect-square bg-casino-purple/20 rounded-lg mb-3 flex items-center justify-center overflow-hidden",children:(0,p.jsx)("img",{src:e.image||"/placeholder.svg",alt:e.name,className:"w-full h-full object-cover"})}),(0,p.jsx)("div",{className:"text-sm font-bold text-casino-gold truncate",children:e.name}),(0,p.jsx)("div",{className:"text-xs text-casino-cyan",children:"Ingredient"})]},e.asset_id))})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"text-sm text-muted-foreground mb-4",children:["Your Dice NFTs (",r.length,")"]}),(0,p.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.map(e=>(0,p.jsxs)("div",{className:"bg-black/40 border border-casino-gold/30 rounded-lg p-4 hover:border-casino-gold/60 transition-all",children:[(0,p.jsx)("div",{className:"aspect-square bg-casino-purple/20 rounded-lg mb-3 flex items-center justify-center overflow-hidden",children:e.image?(0,p.jsx)("img",{src:e.image||"/placeholder.svg",alt:e.name,className:"w-full h-full object-cover"}):(0,p.jsx)("div",{className:"text-6xl",children:""})}),(0,p.jsx)("div",{className:"text-sm font-bold text-casino-gold truncate",children:e.name}),(0,p.jsx)("div",{className:"text-xs text-casino-cyan capitalize",children:e.rarity}),(0,p.jsxs)("div",{className:"text-xs text-casino-pink mt-1",children:["Bonus: ",e.bonus_multiplier,"x"]})]},e.asset_id))}),(0,p.jsx)("div",{className:"mt-6 flex justify-center",children:(0,p.jsxs)(eV,{onClick:()=>u("common"),variant:"outline",className:"border-casino-gold text-casino-gold hover:bg-casino-gold/20 bg-transparent",children:[(0,p.jsx)(aQ,{className:"w-4 h-4 mr-2"}),"Mint New NFT"]})})]})})]}):(0,p.jsxs)("div",{className:"text-center text-muted-foreground py-12",children:[(0,p.jsx)(aQ,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),(0,p.jsx)("p",{className:"text-lg",children:"Connect your wallet to view your inventory"})]})})]}):(0,p.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80",onClick:e,children:(0,p.jsxs)("div",{className:"bg-casino-dark border-2 border-casino-gold rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,p.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-casino-gold/30",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)(aQ,{className:"w-6 h-6 text-casino-gold"}),(0,p.jsx)("h2",{className:"text-2xl font-bold text-casino-gold",children:"Inventory"})]}),(0,p.jsx)(eV,{onClick:e,variant:"ghost",size:"icon",className:"text-casino-gold hover:bg-casino-gold/20",children:(0,p.jsx)(rO,{className:"w-6 h-6"})})]}),(0,p.jsx)("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6",children:n?s?(0,p.jsxs)("div",{className:"text-center text-muted-foreground py-12",children:[(0,p.jsx)("div",{className:"animate-spin w-12 h-12 border-4 border-casino-gold border-t-transparent rounded-full mx-auto mb-4"}),(0,p.jsx)("p",{children:"Loading your inventory..."})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a1,{selectedCategory:c,onSelectCategory:d}),"dice"===c&&0===r.length?(0,p.jsxs)("div",{className:"text-center text-muted-foreground py-12",children:[(0,p.jsx)(aQ,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),(0,p.jsx)("p",{className:"text-lg mb-4",children:"You don't have any Dice NFTs yet"}),(0,p.jsx)(eV,{onClick:()=>u("common"),className:"bg-casino-gold hover:bg-casino-gold/80 text-black font-bold",children:"Mint Your First NFT"})]}):(0,p.jsx)(p.Fragment,{children:"pfp"===c?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"text-sm text-muted-foreground mb-4",children:["Your Pixal PFPs (",i.length,")"]}),(0,p.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:i.map(e=>(0,p.jsxs)("div",{className:"bg-black/40 border border-casino-gold/30 rounded-lg p-4 hover:border-casino-gold/60 transition-all",children:[(0,p.jsx)("div",{className:"aspect-square bg-casino-purple/20 rounded-lg mb-3 flex items-center justify-center overflow-hidden",children:(0,p.jsx)("img",{src:e.image||"/placeholder.svg",alt:e.name,className:"w-full h-full object-cover"})}),(0,p.jsx)("div",{className:"text-sm font-bold text-casino-gold truncate",children:e.name}),(0,p.jsx)("div",{className:"text-xs text-casino-cyan",children:"PFP"})]},e.asset_id))})]}):"ingredients"===c?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"text-sm text-muted-foreground mb-4",children:["Your Ingredients (",l.length,")"]}),(0,p.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:l.map(e=>(0,p.jsxs)("div",{className:"bg-black/40 border border-casino-gold/30 rounded-lg p-4 hover:border-casino-gold/60 transition-all",children:[(0,p.jsx)("div",{className:"aspect-square bg-casino-purple/20 rounded-lg mb-3 flex items-center justify-center overflow-hidden",children:(0,p.jsx)("img",{src:e.image||"/placeholder.svg",alt:e.name,className:"w-full h-full object-cover"})}),(0,p.jsx)("div",{className:"text-sm font-bold text-casino-gold truncate",children:e.name}),(0,p.jsx)("div",{className:"text-xs text-casino-cyan",children:"Ingredient"})]},e.asset_id))})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"text-sm text-muted-foreground mb-4",children:["Your Dice NFTs (",r.length,")"]}),(0,p.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.map(e=>(0,p.jsxs)("div",{className:"bg-black/40 border border-casino-gold/30 rounded-lg p-4 hover:border-casino-gold/60 transition-all",children:[(0,p.jsx)("div",{className:"aspect-square bg-casino-purple/20 rounded-lg mb-3 flex items-center justify-center overflow-hidden",children:e.image?(0,p.jsx)("img",{src:e.image||"/placeholder.svg",alt:e.name,className:"w-full h-full object-cover"}):(0,p.jsx)("div",{className:"text-6xl",children:""})}),(0,p.jsx)("div",{className:"text-sm font-bold text-casino-gold truncate",children:e.name}),(0,p.jsx)("div",{className:"text-xs text-casino-cyan capitalize",children:e.rarity}),(0,p.jsxs)("div",{className:"text-xs text-casino-pink mt-1",children:["Bonus: ",e.bonus_multiplier,"x"]})]},e.asset_id))}),(0,p.jsx)("div",{className:"mt-6 flex justify-center",children:(0,p.jsxs)(eV,{onClick:()=>u("common"),variant:"outline",className:"border-casino-gold text-casino-gold hover:bg-casino-gold/20 bg-transparent",children:[(0,p.jsx)(aQ,{className:"w-4 h-4 mr-2"}),"Mint New NFT"]})})]})})]}):(0,p.jsxs)("div",{className:"text-center text-muted-foreground py-12",children:[(0,p.jsx)(aQ,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),(0,p.jsx)("p",{className:"text-lg",children:"Connect your wallet to view your inventory"})]})})]})})}function a1({selectedCategory:e,onSelectCategory:t}){let{pfpCount:n,ingredientCount:r,assetGlobalMultiplier:s,isLoading:a,loadNFTs:o,nfts:i}=(0,rb.useBlockchain)();if(a)return(0,p.jsxs)("div",{className:"text-center text-muted-foreground py-6",children:[(0,p.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-casino-gold border-t-transparent rounded-full mx-auto mb-3"}),(0,p.jsx)("p",{children:"Refreshing inventory..."})]});let l=1+.1*n,c=1+1e-4*r,d=i.length;return(0,p.jsxs)("div",{className:"mb-6",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,p.jsx)("h3",{className:"text-sm font-semibold text-white/80",children:"Pixel Journey NFT Collectibles Owned:"}),(0,p.jsx)(eV,{onClick:o,variant:"outline",size:"sm",className:"border-casino-gold text-casino-gold hover:bg-casino-gold/20",children:"Refresh"})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,p.jsxs)("button",{onClick:()=>t("pfp"),className:`bg-black/40 border ${"pfp"===e?"border-casino-gold":"border-white/10"} rounded-lg p-4 text-left`,children:[(0,p.jsx)("div",{className:"text-xs text-white/60",children:"Pixal PFPs"}),(0,p.jsx)("div",{className:"text-lg font-bold text-casino-gold",children:n}),(0,p.jsxs)("div",{className:"text-xs text-white/70",children:["Multiplier: x",l.toFixed(2)]})]}),(0,p.jsxs)("button",{onClick:()=>t("ingredients"),className:`bg-black/40 border ${"ingredients"===e?"border-casino-gold":"border-white/10"} rounded-lg p-4 text-left`,children:[(0,p.jsx)("div",{className:"text-xs text-white/60",children:"Ingredients"}),(0,p.jsx)("div",{className:"text-lg font-bold text-casino-gold",children:r}),(0,p.jsxs)("div",{className:"text-xs text-white/70",children:["Multiplier: x",c.toFixed(4)]})]}),(0,p.jsxs)("button",{onClick:()=>t("dice"),className:`bg-black/40 border ${"dice"===e?"border-casino-gold":"border-white/10"} rounded-lg p-4 text-left`,children:[(0,p.jsx)("div",{className:"text-xs text-white/60",children:"Dice Owned"}),(0,p.jsx)("div",{className:"text-lg font-bold text-casino-gold",children:d}),(0,p.jsx)("div",{className:"text-xs text-white/70",children:"Mintable collectibles"})]})]}),(0,p.jsx)("div",{className:"mt-3",children:(0,p.jsxs)("div",{className:"bg-black/40 border border-white/10 rounded-lg p-4 text-center max-w-xs mx-auto",children:[(0,p.jsx)("div",{className:"text-xs text-white/60",children:"Global NFT asset mult"}),(0,p.jsxs)("div",{className:"text-lg font-bold text-casino-pink",children:["x",s.toFixed(4)]}),(0,p.jsx)("div",{className:"text-xs text-white/70",children:"(PFP  Ingredient)"})]})})]})}let a2=eZ("Dice6",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);function a5({gameState:e,onClose:t,onOpenInventory:n,onOpenMemecards:r}){let[s,a]=(0,x.useState)(!1),[o,i]=(0,x.useState)(!1),[l,c]=(0,x.useState)(!1),{isConnected:d,accountName:u,pfpCount:h,ingredientCount:f,assetGlobalMultiplier:m,tokenBalances:g,usdPrices:b}=(0,rb.useBlockchain)(),v=Object.entries(g||{}).map(([e,t])=>{let n=t*(b?.[e]||0),r=0,s="none";return n>=1e3?(r=.1,s="legendary"):n>=250?(r=.05,s="epic"):n>=50?(r=.02,s="rare"):n>=10?(r=.01,s="uncommon"):n>0&&(r=.005,s="common"),{symbol:e,usd:n,inc:r,tier:s}}),y=1+v.reduce((e,t)=>e+t.inc,0);return(0,p.jsxs)("div",{className:"p-4 select-none",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between border-b border-white/10 pb-3 mb-4",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)(rI,{className:"w-5 h-5 text-casino-gold"}),(0,p.jsx)("h2",{className:"text-xl font-bold",children:"Profile"})]}),(0,p.jsx)(eV,{onClick:t,variant:"ghost",size:"icon",className:"text-white/80 hover:bg-white/10",children:(0,p.jsx)(rO,{className:"w-5 h-5"})})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,p.jsxs)("div",{className:"bg-black/30 backdrop-blur-md border border-white/10 rounded-lg p-4",children:[(0,p.jsx)("h3",{className:"text-sm font-semibold text-white/80 mb-2",children:"Current Run"}),(0,p.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Level"}),(0,p.jsx)("span",{className:"text-casino-gold font-bold",children:e.level})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Bosses Defeated"}),(0,p.jsxs)("span",{className:"text-casino-pink font-bold",children:[(0,p.jsx)(r_,{className:"inline w-4 h-4 mr-1"}),e.bossesDefeated]})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Total Rolls"}),(0,p.jsxs)("span",{className:"text-casino-cyan font-bold",children:[(0,p.jsx)(a2,{className:"inline w-4 h-4 mr-1"}),e.stats.totalRolls]})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Highest Score"}),(0,p.jsxs)("span",{className:"text-casino-gold font-bold",children:[(0,p.jsx)(rT,{className:"inline w-4 h-4 mr-1"}),e.stats.highestScore]})]})]})]}),(0,p.jsxs)("div",{className:"bg-black/30 backdrop-blur-md border border-white/10 rounded-lg p-4",children:[(0,p.jsx)("h3",{className:"text-sm font-semibold text-white/80 mb-2",children:"Wallet / NFTs + FTs"}),d?(0,p.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2 text-white/80",children:[(0,p.jsx)(rz,{className:"w-4 h-4"})," Connected: ",u]}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[(0,p.jsxs)("div",{className:"bg-black/40 border border-white/10 rounded-lg p-3",children:[(0,p.jsx)("div",{className:"text-xs text-white/60",children:"Pixal PFPs"}),(0,p.jsx)("div",{className:"text-base font-bold text-casino-gold",children:h}),(0,p.jsxs)("div",{className:"text-xs text-white/70",children:["PFP Mult: x",(1+.1*h).toFixed(2)]})]}),(0,p.jsxs)("div",{className:"bg-black/40 border border-white/10 rounded-lg p-3",children:[(0,p.jsx)("div",{className:"text-xs text-white/60",children:"Ingredients"}),(0,p.jsx)("div",{className:"text-base font-bold text-casino-gold",children:f}),(0,p.jsxs)("div",{className:"text-xs text-white/70",children:["Ingredient Mult: x",(1+1e-4*f).toFixed(4)]})]})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center mt-2 cursor-pointer hover:bg-white/5 rounded px-2 py-1",onClick:()=>i(e=>!e),children:[(0,p.jsx)("span",{className:"text-white/70",children:"Global NFT Asset Mult"}),(0,p.jsxs)("span",{className:"text-casino-pink font-bold",children:["x",m.toFixed(4)]})]}),o&&(0,p.jsxs)("div",{className:"mt-2 text-xs text-white/70 space-y-1",children:[(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{children:"Pixal PFPs"}),(0,p.jsxs)("span",{children:["+x",(1+.1*h).toFixed(2)]})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{children:"Ingredients"}),(0,p.jsxs)("span",{children:["+x",(1+1e-4*f).toFixed(4)]})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{children:"Total"}),(0,p.jsxs)("span",{children:["x",m.toFixed(4)]})]})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center mt-2 cursor-pointer hover:bg-white/5 rounded px-2 py-1",onClick:()=>c(e=>!e),children:[(0,p.jsx)("span",{className:"text-white/70",children:"Global FT Asset Mult"}),(0,p.jsxs)("span",{className:"text-casino-cyan font-bold",children:["x",y.toFixed(3)]})]}),l&&(0,p.jsxs)("div",{className:"mt-2 text-xs text-white/70 space-y-1",children:[v.filter(e=>e.usd>0).map(e=>(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsxs)("span",{children:[e.symbol," ($",e.usd.toFixed(2),")"]}),(0,p.jsxs)("span",{children:["+",(100*e.inc).toFixed(1),"% (",e.tier,")"]})]},e.symbol)),v.every(e=>e.usd<=0)&&(0,p.jsx)("div",{children:"No FT balances detected."}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{children:"Total"}),(0,p.jsxs)("span",{children:["x",y.toFixed(3)]})]})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Global Total Mult"}),(0,p.jsxs)("span",{className:"text-casino-gold font-bold",children:["x",(m*y).toFixed(3)]})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Dice Owned (Bag)"}),(0,p.jsx)("span",{className:"text-white/80 font-bold",children:(e.bag||[]).length})]}),n&&(0,p.jsxs)("div",{className:"flex justify-end pt-3 gap-2",children:[(0,p.jsx)(eV,{onClick:n,className:"bg-casino-gold text-white hover:bg-casino-gold/80",children:"Open Inventory"}),(0,p.jsx)(eV,{onClick:r,className:"bg-casino-cyan text-white hover:bg-casino-cyan/80",children:"Open Memecards"})]})]}):(0,p.jsx)("div",{className:"text-white/60",children:"Connect your wallet to view linked NFTs and history."})]}),(0,p.jsxs)("div",{className:"bg-black/30 backdrop-blur-md border border-white/10 rounded-lg p-4",children:[(0,p.jsx)("h3",{className:"text-sm font-semibold text-white/80 mb-2",children:"Accumulated Mults"}),(0,p.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Global Prestige"}),(0,p.jsxs)("span",{className:"text-casino-gold font-bold",children:["x",(1+.05*(e.prestigeLevel||0)).toFixed(2)]})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Coin Gain"}),(0,p.jsxs)("span",{className:"text-casino-gold font-bold",children:["x",(1+.1*(e.talents?.coinMultiplier||0)).toFixed(2)]})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Idle Total"}),(0,p.jsxs)("span",{className:"text-casino-gold font-bold",children:["x",(e.upgrades.idleMultiplier*(1+.1*(e.talents?.idleBoost||0))*(1+.1*(e.prestigeTalents?.idleRateBonus||0))).toFixed(2)]})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"XP Gain"}),(0,p.jsxs)("span",{className:"text-casino-gold font-bold",children:["x",(1+.1*(e.prestigeTalents?.xpGainBonus||0)).toFixed(2)]})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Standard d6 x10"}),(0,p.jsx)("span",{className:"text-white/80",children:e.prestigeTalents?.standardD6AlwaysX10?"Enabled":"Disabled"})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Manual single-cup x10"}),(0,p.jsx)("span",{className:"text-white/80",children:e.prestigeTalents?.manualSingleCupX10Mult?"Enabled":"Disabled"})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{className:"text-white/70",children:"Avg Cup Mult"}),(0,p.jsxs)("span",{className:"text-casino-pink font-bold",children:["x",(e.cups.length>0?e.cups.reduce((e,t)=>e+(t.earningMultiplier||1),0)/e.cups.length:1).toFixed(2)]})]}),(0,p.jsx)("div",{className:"flex justify-center pt-2",children:(0,p.jsx)(eV,{variant:"outline",className:"border-white/20 text-white/80 hover:bg-white/10",onClick:()=>a(e=>!e),children:s?"Hide Cup Mult Breakdown":"Show Cup Mult Breakdown"})}),s&&(0,p.jsx)("div",{className:"mt-2 space-y-1 text-xs",children:e.cups.map(e=>(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsxs)("span",{className:"text-white/60",children:["Cup ",e.id]}),(0,p.jsxs)("span",{className:"text-casino-pink font-bold",children:["x",(e.earningMultiplier||1).toFixed(1)]})]},e.id))})]})]})]})]})}let a4=eZ("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);function a3({gameState:e,setGameState:t,onClose:n,embedded:r=!1}){let[s,a]=(0,x.useState)(0),[o,i]=(0,x.useState)(!1),l=()=>{o&&t(e=>({...e,hasSeenTutorial:!0})),n()},c=[{title:"Demo vs Logged-In",icon:(0,p.jsx)(rz,{className:"w-5 h-5 text-casino-cyan"}),content:(0,p.jsxs)("div",{className:"space-y-2 text-sm text-white/80",children:[(0,p.jsx)("p",{children:"In demo mode, your progress is saved locally and you can explore gameplay freely."}),(0,p.jsxs)("p",{children:["Logged-in mode will record each action on-chain via transfers to ",(0,p.jsx)("span",{className:"text-casino-cyan font-semibold",children:"dice.pxj"})," ","with codified memos. These memos are parsed to validate and update your gameplay state securely."]}),(0,p.jsx)("p",{children:"Well add wallet and transaction flows next. For now, enjoy the demo mode and plan strategies."})]})},{title:"Core Strategies",icon:(0,p.jsx)(a4,{className:"w-5 h-5 text-casino-gold"}),content:(0,p.jsx)("div",{className:"space-y-2 text-sm text-white/80",children:(0,p.jsxs)("ul",{className:"list-disc pl-4 space-y-1",children:[(0,p.jsx)("li",{children:"Roll cups frequently and chain combos for big scores."}),(0,p.jsx)("li",{children:"Upgrade slots and multipliers to increase per-roll earnings."}),(0,p.jsx)("li",{children:"Manage your bag and refresh the shop to find strong dice."}),(0,p.jsx)("li",{children:"Use auto-roll when unlocked to automate progression."}),(0,p.jsx)("li",{children:"Prestige to gain permanent bonuses and invest points in the talent tree."}),(0,p.jsx)("li",{children:"Track Cup Stats to understand multipliers and optimize placement."})]})})},{title:"NFT Multipliers",icon:(0,p.jsx)(rD,{className:"w-5 h-5 text-casino-pink"}),content:(0,p.jsxs)("div",{className:"space-y-2 text-sm text-white/80",children:[(0,p.jsx)("p",{children:"Owning Pixel Journey NFTs (and potentially supported partner collections) can grant game-wide percentage multipliers."}),(0,p.jsx)("p",{children:"When connected, your holdings are verified on-chain and applied as boosters to earnings, XP, and more."}),(0,p.jsx)("p",{children:"Build your collection to stack benefits and power up runs across the ecosystem."})]})}],d=(0,p.jsxs)("div",{className:"p-6 space-y-6 overflow-y-auto custom-scrollbar",style:{maxHeight:"90vh"},children:[(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[c[s].icon,(0,p.jsx)("h3",{className:"font-bold text-casino-gold",children:c[s].title})]}),c[s].content,(0,p.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)("input",{id:"dont-show-again",type:"checkbox",checked:o,onChange:e=>i(e.target.checked)}),(0,p.jsx)("label",{htmlFor:"dont-show-again",className:"text-sm text-white/80",children:"Don't show again"})]}),(0,p.jsxs)("div",{className:"flex gap-2",children:[(0,p.jsx)(eV,{variant:"outline",className:"border-white/20 text-white/90",onClick:()=>a(e=>Math.max(0,e-1)),disabled:0===s,children:"Back"}),s<c.length-1?(0,p.jsx)(eV,{className:"bg-casino-gold text-black hover:bg-casino-gold/80",onClick:()=>a(e=>Math.min(c.length-1,e+1)),children:"Next"}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(eV,{className:"bg-casino-gold text-black hover:bg-casino-gold/80",onClick:l,children:"Finish"}),(0,p.jsx)(eV,{variant:"outline",className:"border-casino-gold text-casino-gold hover:bg-casino-gold/20",onClick:()=>{window.dispatchEvent(new Event("start-guided-walkthrough")),l()},children:"Walk me through the game"})]})]})]})]});return r?(0,p.jsxs)("div",{className:"bg-black/40 backdrop-blur-md border-t border-white/10 rounded-t-lg",children:[(0,p.jsxs)("div",{className:"bg-black/30 border-b border-white/10 p-4 flex items-center justify-between",children:[(0,p.jsx)("h2",{className:"text-xl font-bold",children:"Tutorial"}),(0,p.jsx)(eV,{onClick:l,variant:"ghost",size:"icon",className:"text-white/80 hover:bg-white/10",children:(0,p.jsx)(rO,{className:"w-5 h-5"})})]}),d]}):(0,p.jsx)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:l,children:(0,p.jsxs)("div",{className:"bg-casino-dark border-2 border-casino-gold rounded-lg max-w-2xl w-full max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,p.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-casino-gold/30",children:[(0,p.jsx)("h2",{className:"text-2xl font-bold text-casino-gold",children:"Tutorial"}),(0,p.jsx)(eV,{onClick:l,variant:"ghost",size:"icon",className:"text-casino-gold hover:bg-casino-gold/20",children:(0,p.jsx)(rO,{className:"w-6 h-6"})})]}),d]})})}function a7({gameState:e,setGameState:t,onClose:n}){let{accountName:r,transactGameAction:s,isConnected:a}=(0,rb.useBlockchain)(),o=async()=>{if(!r)return;let a=X();try{let o=rj(r),i=rN(r,o);if(!await s({type:rv.ActionType.START_GAME,runId:o,nonce:i,timestamp:Date.now(),params:{prestige:a.prestigeLevel||0}},{token:"WAX"===e.preferredPaymentMethod?"WAX":"PXJ"}))return;t({...a,mode:"ranked",walletConnected:!0,walletAddress:r}),n()}catch(e){console.error("Failed to log START_GAME",e)}};return(0,p.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80",onClick:n,children:(0,p.jsxs)("div",{className:"bg-casino-dark border-2 border-casino-gold rounded-lg max-w-md w-full overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,p.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-casino-gold/30",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)(rT,{className:"w-5 h-5 text-casino-gold"}),(0,p.jsx)("h2",{className:"text-xl font-bold text-casino-gold",children:"Choose Game Mode"})]}),(0,p.jsx)(eV,{onClick:n,variant:"ghost",size:"icon",className:"text-casino-gold hover:bg-casino-gold/20",children:(0,p.jsx)(rO,{className:"w-5 h-5"})})]}),(0,p.jsxs)("div",{className:"p-4 space-y-4",children:[(0,p.jsx)("p",{className:"text-sm text-white/80",children:a?"You're connected. Start a ranked on-chain run or continue offline demo mode.":"Connect a wallet to enable ranked on-chain runs, or play offline demo mode."}),(0,p.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,p.jsxs)(eV,{onClick:o,disabled:!a||!r,className:"bg-casino-gold hover:bg-casino-gold/80 text-black font-bold",children:[(0,p.jsx)(rz,{className:"w-4 h-4 mr-2"}),"Start Ranked"]}),(0,p.jsx)(eV,{onClick:()=>{t({...X(),mode:"demo",walletConnected:!!r,walletAddress:r||void 0}),n()},variant:"outline",className:"border-casino-gold text-casino-gold hover:bg-casino-gold/20",children:"Play Demo"})]})]})]})})}function a8({open:e,steps:t,stepIndex:n,onAdvance:r,onClose:s,onSkip:a}){if((0,x.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s]),!e||0===t.length||n<0||n>=t.length)return null;let o=t[n];return(0,p.jsx)("div",{className:"fixed inset-0 z-40 flex items-center justify-center p-4 pointer-events-none",children:(0,p.jsxs)("div",{className:"pointer-events-auto w-full max-w-md rounded-xl border border-white/20 bg-neutral-900/90 shadow-xl",children:[(0,p.jsxs)("div",{className:"px-4 py-3 border-b border-white/10 flex items-center justify-between",children:[(0,p.jsx)("div",{className:"text-white font-semibold text-lg",children:o.title??"Walkthrough"}),(0,p.jsxs)("div",{className:"text-white/60 text-sm",children:["Step ",n+1," / ",t.length]})]}),(0,p.jsx)("div",{className:"px-4 py-4 text-neutral-200",children:o.body}),(0,p.jsxs)("div",{className:"flex items-center justify-between gap-2 px-4 pb-4",children:[(0,p.jsx)("button",{className:"px-3 py-2 rounded-md border border-white/30 text-white/90 hover:bg-white/10",onClick:a??s,children:"Skip"}),(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)("button",{className:"px-3 py-2 rounded-md border border-white/30 text-white/90 hover:bg-white/10",onClick:s,children:"Close"}),n<t.length-1?(0,p.jsx)("button",{className:"px-3 py-2 rounded-md bg-casino-gold text-black border border-casino-gold hover:bg-casino-gold/80",onClick:r,children:"Next"}):(0,p.jsx)("button",{className:"px-3 py-2 rounded-md bg-casino-gold text-black border border-casino-gold hover:bg-casino-gold/80",onClick:s,children:"Done"})]})]})]})})}let a6=eZ("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);function a9(e){return"[object Object]"===Object.prototype.toString.call(e)||Array.isArray(e)}function oe(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&JSON.stringify(Object.keys(e.breakpoints||{}))===JSON.stringify(Object.keys(t.breakpoints||{}))&&n.every(n=>{let r=e[n],s=t[n];return"function"==typeof r?`${r}`==`${s}`:a9(r)&&a9(s)?oe(r,s):r===s})}function ot(e){return e.concat().sort((e,t)=>e.name>t.name?1:-1).map(e=>e.options)}function on(e){return"number"==typeof e}function or(e){return"string"==typeof e}function os(e){return"boolean"==typeof e}function oa(e){return"[object Object]"===Object.prototype.toString.call(e)}function oo(e){return Math.abs(e)}function oi(e){return Math.sign(e)}function ol(e){return oh(e).map(Number)}function oc(e){return e[od(e)]}function od(e){return Math.max(0,e.length-1)}function ou(e,t=0){return Array.from(Array(e),(e,n)=>t+n)}function oh(e){return Object.keys(e)}function of(e,t){return void 0!==t.MouseEvent&&e instanceof t.MouseEvent}function om(){let e=[],t={add:function(n,r,s,a={passive:!0}){let o;return"addEventListener"in n?(n.addEventListener(r,s,a),o=()=>n.removeEventListener(r,s,a)):(n.addListener(s),o=()=>n.removeListener(s)),e.push(o),t},clear:function(){e=e.filter(e=>e())}};return t}function op(e=0,t=0){let n=oo(e-t);function r(n){return n<e||n>t}return{length:n,max:t,min:e,constrain:function(n){return r(n)?n<e?e:t:n},reachedAny:r,reachedMax:function(e){return e>t},reachedMin:function(t){return t<e},removeOffset:function(e){return n?e-n*Math.ceil((e-t)/n):e}}}function ox(e){let t=e;function n(e){return on(e)?e:e.get()}return{get:function(){return t},set:function(e){t=n(e)},add:function(e){t+=n(e)},subtract:function(e){t-=n(e)}}}function og(e,t){let n="x"===e.scroll?function(e){return`translate3d(${e}px,0px,0px)`}:function(e){return`translate3d(0px,${e}px,0px)`},r=t.style,s=null,a=!1;return{clear:function(){!a&&(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))},to:function(t){if(a)return;let o=Math.round(100*e.direction(t))/100;o!==s&&(r.transform=n(o),s=o)},toggleActive:function(e){a=!e}}}let ob={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function ov(e,t,n){let r,s,a,o,i,l,c,d,u=e.ownerDocument,h=u.defaultView,f=function(e){function t(e,t){return function e(t,n){return[t,n].reduce((t,n)=>(oh(n).forEach(r=>{let s=t[r],a=n[r],o=oa(s)&&oa(a);t[r]=o?e(s,a):a}),t),{})}(e,t||{})}return{mergeOptions:t,optionsAtMedia:function(n){let r=n.breakpoints||{},s=oh(r).filter(t=>e.matchMedia(t).matches).map(e=>r[e]).reduce((e,n)=>t(e,n),{});return t(n,s)},optionsMediaQueries:function(t){return t.map(e=>oh(e.breakpoints||{})).reduce((e,t)=>e.concat(t),[]).map(e.matchMedia)}}}(h),m=(d=[],{init:function(e,t){return(d=t.filter(({options:e})=>!1!==f.optionsAtMedia(e).active)).forEach(t=>t.init(e,f)),t.reduce((e,t)=>Object.assign(e,{[t.name]:t}),{})},destroy:function(){d=d.filter(e=>e.destroy())}}),p=om(),x=(s={},a={init:function(e){r=e},emit:function(e){return(s[e]||[]).forEach(t=>t(r,e)),a},off:function(e,t){return s[e]=(s[e]||[]).filter(e=>e!==t),a},on:function(e,t){return s[e]=(s[e]||[]).concat([t]),a},clear:function(){s={}}}),{mergeOptions:g,optionsAtMedia:b,optionsMediaQueries:v}=f,{on:y,off:w,emit:j}=x,N=!1,k=g(ob,ov.globalOptions),C=g(k),M=[];function S(t,n){N||(C=b(k=g(k,t)),M=n||M,function(){let{container:t,slides:n}=C;l=(or(t)?e.querySelector(t):t)||e.children[0];let r=or(n)?l.querySelectorAll(n):n;c=[].slice.call(r||l.children)}(),o=function t(n){let r=function(e,t,n,r,s,a,o){var i,l;let c,d,u,h,f,m,p,x,g,b,v,y,w,j,{align:N,axis:k,direction:C,startIndex:M,loop:S,duration:R,dragFree:P,dragThreshold:E,inViewThreshold:T,slidesToScroll:A,skipSnaps:D,containScroll:_,watchResize:z,watchSlides:L,watchDrag:F,watchFocus:I}=a,O={measure:function(e){let{offsetTop:t,offsetLeft:n,offsetWidth:r,offsetHeight:s}=e;return{top:t,right:n+r,bottom:t+s,left:n,width:r,height:s}}},$=O.measure(t),B=n.map(O.measure),X=(d="rtl"===C,h=(u="y"===k)||!d?1:-1,f=u?"top":d?"right":"left",m=u?"bottom":d?"left":"right",{scroll:u?"y":"x",cross:u?"x":"y",startEdge:f,endEdge:m,measureSize:function(e){let{height:t,width:n}=e;return u?t:n},direction:function(e){return e*h}}),W=X.measureSize($),G={measure:function(e){return e/100*W}},U=(i=N,l=W,c={start:function(){return 0},center:function(e){return(l-e)/2},end:function(e){return l-e}},{measure:function(e,t){return or(i)?c[i](e):i(l,e,t)}}),H=!S&&!!_,{slideSizes:V,slideSizesWithGaps:q,startGap:J,endGap:Y}=function(e,t,n,r,s,a){let{measureSize:o,startEdge:i,endEdge:l}=e,c=n[0]&&s,d=function(){if(!c)return 0;let e=n[0];return oo(t[i]-e[i])}(),u=c?parseFloat(a.getComputedStyle(oc(r)).getPropertyValue(`margin-${l}`)):0,h=n.map(o),f=n.map((e,t,n)=>{let r=t===od(n);return t?r?h[t]+u:n[t+1][i]-e[i]:h[t]+d}).map(oo);return{slideSizes:h,slideSizesWithGaps:f,startGap:d,endGap:u}}(X,$,B,n,S||!!_,s),K=function(e,t,n,r,s,a,o,i,l){let{startEdge:c,endEdge:d,direction:u}=e,h=on(n);return{groupSlides:function(e){return h?ol(e).filter(e=>e%n==0).map(t=>e.slice(t,t+n)):e.length?ol(e).reduce((n,l,h)=>{let f=oc(n)||0,m=l===od(e),p=s[c]-a[f][c],x=s[c]-a[l][d],g=r||0!==f?0:u(o),b=oo(x-(!r&&m?u(i):0)-(p+g));return h&&b>t+2&&n.push(l),m&&n.push(e.length),n},[]).map((t,n,r)=>{let s=Math.max(r[n-1]||0);return e.slice(s,t)}):[]}}}(X,W,A,S,$,B,J,Y,0),{snaps:Z,snapsAligned:Q}=function(e,t,n,r,s){let{startEdge:a,endEdge:o}=e,{groupSlides:i}=s,l=i(r).map(e=>oc(e)[o]-e[0][a]).map(oo).map(t.measure),c=r.map(e=>n[a]-e[a]).map(e=>-oo(e)),d=i(c).map(e=>e[0]).map((e,t)=>e+l[t]);return{snaps:c,snapsAligned:d}}(X,U,$,B,K),ee=-oc(Z)+oc(q),{snapsContained:et,scrollContainLimit:en}=function(e,t,n,r,s){let a,o,i=op(-t+e,0),l=n.map((e,t)=>{let{min:r,max:s}=i,a=i.constrain(e),o=t===od(n);return t?o||function(e,t){return 1>oo(e-t)}(r,a)?r:function(e,t){return 1>oo(e-t)}(s,a)?s:a:s}).map(e=>parseFloat(e.toFixed(3))),c=(a=l[0],o=oc(l),op(l.lastIndexOf(a),l.indexOf(o)+1));return{snapsContained:function(){if(t<=e+2)return[i.max];if("keepSnaps"===r)return l;let{min:n,max:s}=c;return l.slice(n,s)}(),scrollContainLimit:c}}(W,ee,Q,_,0),er=H?et:Q,{limit:es}=(p=er[0],{limit:op(S?p-ee:oc(er),p)}),ea=function e(t,n,r){let{constrain:s}=op(0,t),a=t+1,o=i(n);function i(e){return r?oo((a+e)%a):s(e)}function l(){return e(t,o,r)}let c={get:function(){return o},set:function(e){return o=i(e),c},add:function(e){return l().set(o+e)},clone:l};return c}(od(er),M,S),eo=ea.clone(),ei=ol(n),el=function(e,t,n,r){let s=om(),a=1e3/60,o=null,i=0,l=0;function c(e){if(!l)return;o||(o=e);let s=e-o;for(o=e,i+=s;i>=a;)n(),i-=a;r(i/a),l&&(l=t.requestAnimationFrame(c))}function d(){t.cancelAnimationFrame(l),o=null,i=0,l=0}return{init:function(){s.add(e,"visibilitychange",()=>{e.hidden&&(o=null,i=0)})},destroy:function(){d(),s.clear()},start:function(){l||(l=t.requestAnimationFrame(c))},stop:d,update:n,render:r}}(r,s,()=>(({dragHandler:e,scrollBody:t,scrollBounds:n,options:{loop:r}})=>{r||n.constrain(e.pointerDown()),t.seek()})(ej),e=>(({scrollBody:e,translate:t,location:n,offsetLocation:r,previousLocation:s,scrollLooper:a,slideLooper:o,dragHandler:i,animation:l,eventHandler:c,scrollBounds:d,options:{loop:u}},h)=>{let f=e.settled(),m=!d.shouldConstrain(),p=u?f:f&&m;p&&!i.pointerDown()&&(l.stop(),c.emit("settle")),p||c.emit("scroll");let x=n.get()*h+s.get()*(1-h);r.set(x),u&&(a.loop(e.direction()),o.loop()),t.to(r.get())})(ej,e)),ec=er[ea.get()],ed=ox(ec),eu=ox(ec),eh=ox(ec),ef=ox(ec),em=function(e,t,n,r,s,a){let o=0,i=0,l=s,c=.68,d=e.get(),u=0;function h(e){return l=e,m}function f(e){return c=e,m}let m={direction:function(){return i},duration:function(){return l},velocity:function(){return o},seek:function(){let t=r.get()-e.get(),s=0;return l?(n.set(e),o+=t/l,o*=c,d+=o,e.add(o),s=d-u):(o=0,n.set(r),e.set(r),s=t),i=oi(s),u=d,m},settled:function(){return .001>oo(r.get()-t.get())},useBaseFriction:function(){return f(.68)},useBaseDuration:function(){return h(s)},useFriction:f,useDuration:h};return m}(ed,eh,eu,ef,R,0),ep=function(e,t,n,r,s){let{reachedAny:a,removeOffset:o,constrain:i}=r;function l(e){return e.concat().sort((e,t)=>oo(e)-oo(t))[0]}function c(t,r){let s=[t,t+n,t-n];if(!e)return t;if(!r)return l(s);let a=s.filter(e=>oi(e)===r);return a.length?l(a):oc(s)-n}return{byDistance:function(n,r){let l=s.get()+n,{index:d,distance:u}=function(n){let r=e?o(n):i(n),{index:s}=t.map((e,t)=>({diff:c(e-r,0),index:t})).sort((e,t)=>oo(e.diff)-oo(t.diff))[0];return{index:s,distance:r}}(l),h=!e&&a(l);if(!r||h)return{index:d,distance:n};let f=n+c(t[d]-u,0);return{index:d,distance:f}},byIndex:function(e,n){let r=c(t[e]-s.get(),n);return{index:e,distance:r}},shortcut:c}}(S,er,ee,es,ef),ex=function(e,t,n,r,s,a,o){function i(s){let i=s.distance,l=s.index!==t.get();a.add(i),i&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),l&&(n.set(t.get()),t.set(s.index),o.emit("select"))}return{distance:function(e,t){i(s.byDistance(e,t))},index:function(e,n){let r=t.clone().set(e);i(s.byIndex(r.get(),n))}}}(el,ea,eo,em,ep,ef,o),eg=function(e){let{max:t,length:n}=e;return{get:function(e){return n?-((e-t)/n):0}}}(es),eb=om(),ev=(g={},b=null,v=null,y=!1,{init:function(){x=new IntersectionObserver(e=>{y||(e.forEach(e=>{g[n.indexOf(e.target)]=e}),b=null,v=null,o.emit("slidesInView"))},{root:t.parentElement,threshold:T}),n.forEach(e=>x.observe(e))},destroy:function(){x&&x.disconnect(),y=!0},get:function(e=!0){if(e&&b)return b;if(!e&&v)return v;let t=oh(g).reduce((t,n)=>{let r=parseInt(n),{isIntersecting:s}=g[r];return(e&&s||!e&&!s)&&t.push(r),t},[]);return e&&(b=t),e||(v=t),t}}),{slideRegistry:ey}=function(e,t,n,r,s,a){let o,{groupSlides:i}=s,{min:l,max:c}=r;return{slideRegistry:(o=i(a),1===n.length?[a]:e&&"keepSnaps"!==t?o.slice(l,c).map((e,t,n)=>{let r=t===od(n);return t?r?ou(od(a)-oc(n)[0]+1,oc(n)[0]):e:ou(oc(n[0])+1)}):o)}}(H,_,er,en,K,ei),ew=function(e,t,n,r,s,a,o,i){let l={passive:!0,capture:!0},c=0;function d(e){"Tab"===e.code&&(c=new Date().getTime())}return{init:function(u){i&&(a.add(document,"keydown",d,!1),t.forEach((t,d)=>{a.add(t,"focus",t=>{(os(i)||i(u,t))&&function(t){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;let a=n.findIndex(e=>e.includes(t));on(a)&&(s.useDuration(0),r.index(a,0),o.emit("slideFocus"))}(d)},l)}))}}}(e,n,ey,ex,em,eb,o,I),ej={ownerDocument:r,ownerWindow:s,eventHandler:o,containerRect:$,slideRects:B,animation:el,axis:X,dragHandler:function(e,t,n,r,s,a,o,i,l,c,d,u,h,f,m,p,x,g,b){let{cross:v,direction:y}=e,w=["INPUT","SELECT","TEXTAREA"],j={passive:!1},N=om(),k=om(),C=op(50,225).constrain(f.measure(20)),M={mouse:300,touch:400},S={mouse:500,touch:600},R=m?43:25,P=!1,E=0,T=0,A=!1,D=!1,_=!1,z=!1;function L(e){if(!of(e,r)&&e.touches.length>=2)return F(e);let t=a.readPoint(e),n=a.readPoint(e,v),o=oo(t-E),l=oo(n-T);if(!D&&!z&&(!e.cancelable||!(D=o>l)))return F(e);let d=a.pointerMove(e);o>p&&(_=!0),c.useFriction(.3).useDuration(.75),i.start(),s.add(y(d)),e.preventDefault()}function F(e){var t;let n,r,s=d.byDistance(0,!1).index!==u.get(),o=a.pointerUp(e)*(m?S:M)[z?"mouse":"touch"],i=(t=y(o),n=u.add(-1*oi(t)),r=d.byDistance(t,!m).distance,m||oo(t)<C?r:x&&s?.5*r:d.byIndex(n.get(),0).distance),f=function(e,t){var n,r;if(0===e||0===t||oo(e)<=oo(t))return 0;let s=(n=oo(e),r=oo(t),oo(n-r));return oo(s/e)}(o,i);D=!1,A=!1,k.clear(),c.useDuration(R-10*f).useFriction(.68+f/50),l.distance(i,!m),z=!1,h.emit("pointerUp")}function I(e){_&&(e.stopPropagation(),e.preventDefault(),_=!1)}return{init:function(e){b&&N.add(t,"dragstart",e=>e.preventDefault(),j).add(t,"touchmove",()=>void 0,j).add(t,"touchend",()=>void 0).add(t,"touchstart",i).add(t,"mousedown",i).add(t,"touchcancel",F).add(t,"contextmenu",F).add(t,"click",I,!0);function i(i){(os(b)||b(e,i))&&function(e){let i,l=of(e,r);if((z=l,_=m&&l&&!e.buttons&&P,P=oo(s.get()-o.get())>=2,!l||0===e.button)&&(i=e.target.nodeName||"",!w.includes(i))){let r;A=!0,a.pointerDown(e),c.useFriction(0).useDuration(0),s.set(o),r=z?n:t,k.add(r,"touchmove",L,j).add(r,"touchend",F).add(r,"mousemove",L,j).add(r,"mouseup",F),E=a.readPoint(e),T=a.readPoint(e,v),h.emit("pointerDown")}}(i)}},destroy:function(){N.clear(),k.clear()},pointerDown:function(){return A}}}(X,e,r,s,ef,function(e,t){let n,r;function s(e){return e.timeStamp}function a(n,r){let s=r||e.scroll,a=`client${"x"===s?"X":"Y"}`;return(of(n,t)?n:n.touches[0])[a]}return{pointerDown:function(e){return n=e,r=e,a(e)},pointerMove:function(e){let t=a(e)-a(r),o=s(e)-s(n)>170;return r=e,o&&(n=e),t},pointerUp:function(e){if(!n||!r)return 0;let t=a(r)-a(n),o=s(e)-s(n),i=s(e)-s(r)>170,l=t/o;return o&&!i&&oo(l)>.1?l:0},readPoint:a}}(X,s),ed,el,ex,em,ep,ea,o,G,P,E,D,0,F),eventStore:eb,percentOfView:G,index:ea,indexPrevious:eo,limit:es,location:ed,offsetLocation:eh,previousLocation:eu,options:a,resizeHandler:function(e,t,n,r,s,a,o){let i,l,c=[e].concat(r),d=[],u=!1;function h(e){return s.measureSize(o.measure(e))}return{init:function(s){a&&(l=h(e),d=r.map(h),i=new ResizeObserver(n=>{(os(a)||a(s,n))&&function(n){for(let a of n){if(u)return;let n=a.target===e,o=r.indexOf(a.target),i=n?l:d[o];if(oo(h(n?e:r[o])-i)>=.5){s.reInit(),t.emit("resize");break}}}(n)}),n.requestAnimationFrame(()=>{c.forEach(e=>i.observe(e))}))},destroy:function(){u=!0,i&&i.disconnect()}}}(t,o,s,n,X,z,O),scrollBody:em,scrollBounds:function(e,t,n,r,s){let a=s.measure(10),o=s.measure(50),i=op(.1,.99),l=!1;function c(){return!l&&!!e.reachedAny(n.get())&&!!e.reachedAny(t.get())}return{shouldConstrain:c,constrain:function(s){if(!c())return;let l=e.reachedMin(t.get())?"min":"max",d=oo(e[l]-t.get()),u=n.get()-t.get(),h=i.constrain(d/o);n.subtract(u*h),!s&&oo(u)<a&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())},toggleActive:function(e){l=!e}}}(es,eh,ef,em,G),scrollLooper:function(e,t,n,r){let{reachedMin:s,reachedMax:a}=op(t.min+.1,t.max+.1);return{loop:function(t){if(!(1===t?a(n.get()):-1===t&&s(n.get())))return;let o=-1*t*e;r.forEach(e=>e.add(o))}}}(ee,es,eh,[ed,eh,eu,ef]),scrollProgress:eg,scrollSnapList:er.map(eg.get),scrollSnaps:er,scrollTarget:ep,scrollTo:ex,slideLooper:function(e,t,n,r,s,a,o,i,l){let c=ol(s),d=ol(s).reverse(),u=m(f(d,o[0]),n,!1).concat(m(f(c,t-o[0]-1),-n,!0));function h(e,t){return e.reduce((e,t)=>e-s[t],t)}function f(e,t){return e.reduce((e,n)=>h(e,t)>0?e.concat([n]):e,[])}function m(s,o,c){let d=a.map((e,n)=>({start:e-r[n]+.5+o,end:e+t-.5+o}));return s.map(t=>{let r=c?0:-n,s=c?n:0,a=d[t][c?"end":"start"];return{index:t,loopPoint:a,slideLocation:ox(-1),translate:og(e,l[t]),target:()=>i.get()>a?r:s}})}return{canLoop:function(){return u.every(({index:e})=>.1>=h(c.filter(t=>t!==e),t))},clear:function(){u.forEach(e=>e.translate.clear())},loop:function(){u.forEach(e=>{let{target:t,translate:n,slideLocation:r}=e,s=t();s!==r.get()&&(n.to(s),r.set(s))})},loopPoints:u}}(X,W,ee,V,q,Z,er,eh,n),slideFocus:ew,slidesHandler:(j=!1,{init:function(e){L&&(w=new MutationObserver(t=>{!j&&(os(L)||L(e,t))&&function(t){for(let n of t)if("childList"===n.type){e.reInit(),o.emit("slidesChanged");break}}(t)})).observe(t,{childList:!0})},destroy:function(){w&&w.disconnect(),j=!0}}),slidesInView:ev,slideIndexes:ei,slideRegistry:ey,slidesToScroll:K,target:ef,translate:og(X,t)};return ej}(e,l,c,u,h,n,x);return n.loop&&!r.slideLooper.canLoop()?t(Object.assign({},n,{loop:!1})):r}(C),v([k,...M.map(({options:e})=>e)]).forEach(e=>p.add(e,"change",R)),C.active&&(o.translate.to(o.location.get()),o.animation.init(),o.slidesInView.init(),o.slideFocus.init(A),o.eventHandler.init(A),o.resizeHandler.init(A),o.slidesHandler.init(A),o.options.loop&&o.slideLooper.loop(),l.offsetParent&&c.length&&o.dragHandler.init(A),i=m.init(A,M)))}function R(e,t){let n=T();P(),S(g({startIndex:n},e),t),x.emit("reInit")}function P(){o.dragHandler.destroy(),o.eventStore.clear(),o.translate.clear(),o.slideLooper.clear(),o.resizeHandler.destroy(),o.slidesHandler.destroy(),o.slidesInView.destroy(),o.animation.destroy(),m.destroy(),p.clear()}function E(e,t,n){C.active&&!N&&(o.scrollBody.useBaseFriction().useDuration(!0===t?0:C.duration),o.scrollTo.index(e,n||0))}function T(){return o.index.get()}let A={canScrollNext:function(){return o.index.add(1).get()!==T()},canScrollPrev:function(){return o.index.add(-1).get()!==T()},containerNode:function(){return l},internalEngine:function(){return o},destroy:function(){N||(N=!0,p.clear(),P(),x.emit("destroy"),x.clear())},off:w,on:y,emit:j,plugins:function(){return i},previousScrollSnap:function(){return o.indexPrevious.get()},reInit:R,rootNode:function(){return e},scrollNext:function(e){E(o.index.add(1).get(),e,-1)},scrollPrev:function(e){E(o.index.add(-1).get(),e,1)},scrollProgress:function(){return o.scrollProgress.get(o.location.get())},scrollSnapList:function(){return o.scrollSnapList},scrollTo:E,selectedScrollSnap:T,slideNodes:function(){return c},slidesInView:function(){return o.slidesInView.get()},slidesNotInView:function(){return o.slidesInView.get(!1)}};return S(t,n),setTimeout(()=>x.emit("init"),0),A}function oy(e={},t=[]){let n=(0,x.useRef)(e),r=(0,x.useRef)(t),[s,a]=(0,x.useState)(),[o,i]=(0,x.useState)(),l=(0,x.useCallback)(()=>{s&&s.reInit(n.current,r.current)},[s]);return(0,x.useEffect)(()=>{oe(n.current,e)||(n.current=e,l())},[e,l]),(0,x.useEffect)(()=>{!function(e,t){if(e.length!==t.length)return!1;let n=ot(e),r=ot(t);return n.every((e,t)=>oe(e,r[t]))}(r.current,t)&&(r.current=t,l())},[t,l]),(0,x.useEffect)(()=>{if("undefined"!=typeof window&&window.document&&window.document.createElement&&o){ov.globalOptions=oy.globalOptions;let e=ov(o,n.current,r.current);return a(e),()=>e.destroy()}a(void 0)},[o,a]),[i,s]}ov.globalOptions=void 0,oy.globalOptions=void 0;let ow=eZ("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),oj=eZ("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),oN=x.createContext(null);function ok(){let e=x.useContext(oN);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}function oC({orientation:e="horizontal",opts:t,setApi:n,plugins:r,className:s,children:a,...o}){let[i,l]=oy({...t,axis:"horizontal"===e?"x":"y"},r),[c,d]=x.useState(!1),[u,h]=x.useState(!1),f=x.useCallback(e=>{e&&(d(e.canScrollPrev()),h(e.canScrollNext()))},[]),m=x.useCallback(()=>{l?.scrollPrev()},[l]),g=x.useCallback(()=>{l?.scrollNext()},[l]),b=x.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),m()):"ArrowRight"===e.key&&(e.preventDefault(),g())},[m,g]);return x.useEffect(()=>{l&&n&&n(l)},[l,n]),x.useEffect(()=>{if(l)return f(l),l.on("reInit",f),l.on("select",f),()=>{l?.off("select",f)}},[l,f]),(0,p.jsx)(oN.Provider,{value:{carouselRef:i,api:l,opts:t,orientation:e||(t?.axis==="y"?"vertical":"horizontal"),scrollPrev:m,scrollNext:g,canScrollPrev:c,canScrollNext:u},children:(0,p.jsx)("div",{onKeyDownCapture:b,className:eU("relative",s),role:"region","aria-roledescription":"carousel","data-slot":"carousel",...o,children:a})})}function oM({className:e,...t}){let{carouselRef:n,orientation:r}=ok();return(0,p.jsx)("div",{ref:n,className:"overflow-hidden","data-slot":"carousel-content",children:(0,p.jsx)("div",{className:eU("flex","horizontal"===r?"-ml-4":"-mt-4 flex-col",e),...t})})}function oS({className:e,...t}){let{orientation:n}=ok();return(0,p.jsx)("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:eU("min-w-0 shrink-0 grow-0 basis-full","horizontal"===n?"pl-4":"pt-4",e),...t})}function oR({className:e,variant:t="outline",size:n="icon",...r}){let{orientation:s,scrollPrev:a,canScrollPrev:o}=ok();return(0,p.jsxs)(eV,{"data-slot":"carousel-previous",variant:t,size:n,className:eU("absolute size-8 rounded-full","horizontal"===s?"top-1/2 -left-12 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!o,onClick:a,...r,children:[(0,p.jsx)(ow,{}),(0,p.jsx)("span",{className:"sr-only",children:"Previous slide"})]})}function oP({className:e,variant:t="outline",size:n="icon",...r}){let{orientation:s,scrollNext:a,canScrollNext:o}=ok();return(0,p.jsxs)(eV,{"data-slot":"carousel-next",variant:t,size:n,className:eU("absolute size-8 rounded-full","horizontal"===s?"top-1/2 -right-12 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!o,onClick:a,...r,children:[(0,p.jsx)(oj,{}),(0,p.jsx)("span",{className:"sr-only",children:"Next slide"})]})}function oE(e){let t=e+"CollectionProvider",[n,r]=te(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=e=>{let{scope:t,children:n}=e,r=x.default.useRef(null),a=x.default.useRef(new Map).current;return(0,p.jsx)(s,{scope:t,itemMap:a,collectionRef:r,children:n})};o.displayName=t;let i=e+"CollectionSlot",l=x.default.forwardRef((e,t)=>{let{scope:n,children:r}=e,s=Z(t,a(i,n).collectionRef);return(0,p.jsx)(Q,{ref:s,children:r})});l.displayName=i;let c=e+"CollectionItemSlot",d="data-radix-collection-item",u=x.default.forwardRef((e,t)=>{let{scope:n,children:r,...s}=e,o=x.default.useRef(null),i=Z(t,o),l=a(c,n);return x.default.useEffect(()=>(l.itemMap.set(o,{ref:o,...s}),()=>void l.itemMap.delete(o))),(0,p.jsx)(Q,{...{[d]:""},ref:i,children:r})});return u.displayName=c,[{Provider:o,Slot:l,ItemSlot:u},function(t){let n=a(e+"CollectionConsumer",t);return x.default.useCallback(()=>{let e=n.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${d}]`));return Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[n.collectionRef,n.itemMap])},r]}var oT=x.createContext(void 0);function oA(e){let t=x.useContext(oT);return e||t||"ltr"}var oD="rovingFocusGroup.onEntryFocus",o_={bubbles:!1,cancelable:!0},oz="RovingFocusGroup",[oL,oF,oI]=oE(oz),[oO,o$]=te(oz,[oI]),[oB,oX]=oO(oz),oW=x.forwardRef((e,t)=>(0,p.jsx)(oL.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,p.jsx)(oL.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,p.jsx)(oG,{...e,ref:t})})}));oW.displayName=oz;var oG=x.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...u}=e,h=x.useRef(null),f=Z(t,h),m=oA(a),[g=null,b]=nY({prop:o,defaultProp:i,onChange:l}),[v,y]=x.useState(!1),w=ts(c),j=oF(n),N=x.useRef(!1),[k,C]=x.useState(0);return x.useEffect(()=>{let e=h.current;if(e)return e.addEventListener(oD,w),()=>e.removeEventListener(oD,w)},[w]),(0,p.jsx)(oB,{scope:n,orientation:r,dir:m,loop:s,currentTabStopId:g,onItemFocus:x.useCallback(e=>b(e),[b]),onItemShiftTab:x.useCallback(()=>y(!0),[]),onFocusableItemAdd:x.useCallback(()=>C(e=>e+1),[]),onFocusableItemRemove:x.useCallback(()=>C(e=>e-1),[]),children:(0,p.jsx)(tn.div,{tabIndex:v||0===k?-1:0,"data-orientation":r,...u,ref:f,style:{outline:"none",...e.style},onMouseDown:e9(e.onMouseDown,()=>{N.current=!0}),onFocus:e9(e.onFocus,e=>{let t=!N.current;if(e.target===e.currentTarget&&t&&!v){let t=new CustomEvent(oD,o_);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=j().filter(e=>e.focusable);oq([e.find(e=>e.active),e.find(e=>e.id===g),...e].filter(Boolean).map(e=>e.ref.current),d)}}N.current=!1}),onBlur:e9(e.onBlur,()=>y(!1))})})}),oU="RovingFocusGroupItem",oH=x.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,...o}=e,i=tf(),l=a||i,c=oX(oU,n),d=c.currentTabStopId===l,u=oF(n),{onFocusableItemAdd:h,onFocusableItemRemove:f}=c;return x.useEffect(()=>{if(r)return h(),()=>f()},[r,h,f]),(0,p.jsx)(oL.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:(0,p.jsx)(tn.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:t,onMouseDown:e9(e.onMouseDown,e=>{r?c.onItemFocus(l):e.preventDefault()}),onFocus:e9(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:e9(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void c.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,n){var r;let s=(r=e.key,"rtl"!==n?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return oV[s]}(e,c.orientation,c.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=u().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){var n,r;"prev"===t&&s.reverse();let a=s.indexOf(e.currentTarget);s=c.loop?(n=s,r=a+1,n.map((e,t)=>n[(r+t)%n.length])):s.slice(a+1)}setTimeout(()=>oq(s))}})})})});oH.displayName=oU;var oV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oq(e,t=!1){let n=document.activeElement;for(let r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}var oJ=["Enter"," "],oY=["ArrowUp","PageDown","End"],oK=["ArrowDown","PageUp","Home",...oY],oZ={ltr:[...oJ,"ArrowRight"],rtl:[...oJ,"ArrowLeft"]},oQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},o0="Menu",[o1,o2,o5]=oE(o0),[o4,o3]=te(o0,[o5,nT,o$]),o7=nT(),o8=o$(),[o6,o9]=o4(o0),[ie,it]=o4(o0),ir=e=>{let{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:a,modal:o=!0}=e,i=o7(t),[l,c]=x.useState(null),d=x.useRef(!1),u=ts(a),h=oA(s);return x.useEffect(()=>{let e=()=>{d.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>d.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,p.jsx)(n_,{...i,children:(0,p.jsx)(o6,{scope:t,open:n,onOpenChange:u,content:l,onContentChange:c,children:(0,p.jsx)(ie,{scope:t,onClose:x.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};ir.displayName=o0;var is=x.forwardRef((e,t)=>{let{__scopeMenu:n,...r}=e,s=o7(n);return(0,p.jsx)(nL,{...s,...r,ref:t})});is.displayName="MenuAnchor";var ia="MenuPortal",[io,ii]=o4(ia,{forceMount:void 0}),il=e=>{let{__scopeMenu:t,forceMount:n,children:r,container:s}=e,a=o9(ia,t);return(0,p.jsx)(io,{scope:t,forceMount:n,children:(0,p.jsx)(nq,{present:n||a.open,children:(0,p.jsx)(nV,{asChild:!0,container:s,children:r})})})};il.displayName=ia;var ic="MenuContent",[id,iu]=o4(ic),ih=x.forwardRef((e,t)=>{let n=ii(ic,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=o9(ic,e.__scopeMenu),o=it(ic,e.__scopeMenu);return(0,p.jsx)(o1.Provider,{scope:e.__scopeMenu,children:(0,p.jsx)(nq,{present:r||a.open,children:(0,p.jsx)(o1.Slot,{scope:e.__scopeMenu,children:o.modal?(0,p.jsx)(im,{...s,ref:t}):(0,p.jsx)(ip,{...s,ref:t})})})})}),im=x.forwardRef((e,t)=>{let n=o9(ic,e.__scopeMenu),r=x.useRef(null),s=Z(t,r);return x.useEffect(()=>{let e=r.current;if(e)return s_(e)},[]),(0,p.jsx)(ix,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:e9(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),ip=x.forwardRef((e,t)=>{let n=o9(ic,e.__scopeMenu);return(0,p.jsx)(ix,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),ix=x.forwardRef((e,t)=>{let{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:f,disableOutsideScroll:m,...g}=e,b=o9(ic,n),v=it(ic,n),y=o7(n),w=o8(n),j=o2(n),[N,k]=x.useState(null),C=x.useRef(null),M=Z(t,C,b.onContentChange),S=x.useRef(0),R=x.useRef(""),P=x.useRef(0),E=x.useRef(null),T=x.useRef("right"),A=x.useRef(0),D=m?sS:x.Fragment,_=m?{as:Q,allowPinchZoom:!0}:void 0;x.useEffect(()=>()=>window.clearTimeout(S.current),[]),rZ();let z=x.useCallback(e=>{var t,n;return T.current===E.current?.side&&(t=e,!!(n=E.current?.area)&&function(e,t){let{x:n,y:r}=e,s=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let o=t[e].x,i=t[e].y,l=t[a].x,c=t[a].y;i>r!=c>r&&n<(l-o)*(r-i)/(c-i)+o&&(s=!s)}return s}({x:t.clientX,y:t.clientY},n))},[]);return(0,p.jsx)(id,{scope:n,searchRef:R,onItemEnter:x.useCallback(e=>{z(e)&&e.preventDefault()},[z]),onItemLeave:x.useCallback(e=>{z(e)||(C.current?.focus(),k(null))},[z]),onTriggerLeave:x.useCallback(e=>{z(e)&&e.preventDefault()},[z]),pointerGraceTimerRef:P,onPointerGraceIntentChange:x.useCallback(e=>{E.current=e},[]),children:(0,p.jsx)(D,{..._,children:(0,p.jsx)(rU,{asChild:!0,trapped:s,onMountAutoFocus:e9(a,e=>{e.preventDefault(),C.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:(0,p.jsx)(ti,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,onDismiss:f,children:(0,p.jsx)(oW,{asChild:!0,...w,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:k,onEntryFocus:e9(l,e=>{v.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,p.jsx)(n$,{role:"menu","aria-orientation":"vertical","data-state":iX(b.open),"data-radix-menu-content":"",dir:v.dir,...y,...g,ref:M,style:{outline:"none",...g.style},onKeyDown:e9(g.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,n=e.ctrlKey||e.altKey||e.metaKey,r=1===e.key.length;if(t){var s;let t,a,o,i,l,c;"Tab"===e.key&&e.preventDefault(),!n&&r&&(s=e.key,t=R.current+s,a=j().filter(e=>!e.disabled),o=document.activeElement,i=a.find(e=>e.ref.current===o)?.textValue,l=function(e,t,n){var r;let s=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=n?e.indexOf(n):-1,o=(r=Math.max(a,0),e.map((t,n)=>e[(r+n)%e.length]));1===s.length&&(o=o.filter(e=>e!==n));let i=o.find(e=>e.toLowerCase().startsWith(s.toLowerCase()));return i!==n?i:void 0}(a.map(e=>e.textValue),t,i),c=a.find(e=>e.textValue===l)?.ref.current,function e(t){R.current=t,window.clearTimeout(S.current),""!==t&&(S.current=window.setTimeout(()=>e(""),1e3))}(t),c&&setTimeout(()=>c.focus()))}let a=C.current;if(e.target!==a||!oK.includes(e.key))return;e.preventDefault();let o=j().filter(e=>!e.disabled).map(e=>e.ref.current);oY.includes(e.key)&&o.reverse(),function(e){let t=document.activeElement;for(let n of e)if(n===t||(n.focus(),document.activeElement!==t))return}(o)}),onBlur:e9(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(S.current),R.current="")}),onPointerMove:e9(e.onPointerMove,iU(e=>{let t=e.target,n=A.current!==e.clientX;e.currentTarget.contains(t)&&n&&(T.current=e.clientX>A.current?"right":"left",A.current=e.clientX)}))})})})})})})});ih.displayName=ic;var ig=x.forwardRef((e,t)=>{let{__scopeMenu:n,...r}=e;return(0,p.jsx)(tn.div,{role:"group",...r,ref:t})});ig.displayName="MenuGroup";var ib=x.forwardRef((e,t)=>{let{__scopeMenu:n,...r}=e;return(0,p.jsx)(tn.div,{...r,ref:t})});ib.displayName="MenuLabel";var iv="MenuItem",iy="menu.itemSelect",iw=x.forwardRef((e,t)=>{let{disabled:n=!1,onSelect:r,...s}=e,a=x.useRef(null),o=it(iv,e.__scopeMenu),i=iu(iv,e.__scopeMenu),l=Z(t,a),c=x.useRef(!1);return(0,p.jsx)(ij,{...s,ref:l,disabled:n,onClick:e9(e.onClick,()=>{let e=a.current;if(!n&&e){let t=new CustomEvent(iy,{bubbles:!0,cancelable:!0});e.addEventListener(iy,e=>r?.(e),{once:!0}),tr(e,t),t.defaultPrevented?c.current=!1:o.onClose()}}),onPointerDown:t=>{e.onPointerDown?.(t),c.current=!0},onPointerUp:e9(e.onPointerUp,e=>{c.current||e.currentTarget?.click()}),onKeyDown:e9(e.onKeyDown,e=>{let t=""!==i.searchRef.current;n||t&&" "===e.key||oJ.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});iw.displayName=iv;var ij=x.forwardRef((e,t)=>{let{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=e,o=iu(iv,n),i=o8(n),l=x.useRef(null),c=Z(t,l),[d,u]=x.useState(!1),[h,f]=x.useState("");return x.useEffect(()=>{let e=l.current;e&&f((e.textContent??"").trim())},[a.children]),(0,p.jsx)(o1.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:(0,p.jsx)(oH,{asChild:!0,...i,focusable:!r,children:(0,p.jsx)(tn.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:c,onPointerMove:e9(e.onPointerMove,iU(e=>{r?o.onItemLeave(e):(o.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:e9(e.onPointerLeave,iU(e=>o.onItemLeave(e))),onFocus:e9(e.onFocus,()=>u(!0)),onBlur:e9(e.onBlur,()=>u(!1))})})})}),iN=x.forwardRef((e,t)=>{let{checked:n=!1,onCheckedChange:r,...s}=e;return(0,p.jsx)(iT,{scope:e.__scopeMenu,checked:n,children:(0,p.jsx)(iw,{role:"menuitemcheckbox","aria-checked":iW(n)?"mixed":n,...s,ref:t,"data-state":iG(n),onSelect:e9(s.onSelect,()=>r?.(!!iW(n)||!n),{checkForDefaultPrevented:!1})})})});iN.displayName="MenuCheckboxItem";var ik="MenuRadioGroup",[iC,iM]=o4(ik,{value:void 0,onValueChange:()=>{}}),iS=x.forwardRef((e,t)=>{let{value:n,onValueChange:r,...s}=e,a=ts(r);return(0,p.jsx)(iC,{scope:e.__scopeMenu,value:n,onValueChange:a,children:(0,p.jsx)(ig,{...s,ref:t})})});iS.displayName=ik;var iR="MenuRadioItem",iP=x.forwardRef((e,t)=>{let{value:n,...r}=e,s=iM(iR,e.__scopeMenu),a=n===s.value;return(0,p.jsx)(iT,{scope:e.__scopeMenu,checked:a,children:(0,p.jsx)(iw,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":iG(a),onSelect:e9(r.onSelect,()=>s.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});iP.displayName=iR;var iE="MenuItemIndicator",[iT,iA]=o4(iE,{checked:!1}),iD=x.forwardRef((e,t)=>{let{__scopeMenu:n,forceMount:r,...s}=e,a=iA(iE,n);return(0,p.jsx)(nq,{present:r||iW(a.checked)||!0===a.checked,children:(0,p.jsx)(tn.span,{...s,ref:t,"data-state":iG(a.checked)})})});iD.displayName=iE;var i_=x.forwardRef((e,t)=>{let{__scopeMenu:n,...r}=e;return(0,p.jsx)(tn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});i_.displayName="MenuSeparator";var iz=x.forwardRef((e,t)=>{let{__scopeMenu:n,...r}=e,s=o7(n);return(0,p.jsx)(nW,{...s,...r,ref:t})});iz.displayName="MenuArrow";var[iL,iF]=o4("MenuSub"),iI="MenuSubTrigger",iO=x.forwardRef((e,t)=>{let n=o9(iI,e.__scopeMenu),r=it(iI,e.__scopeMenu),s=iF(iI,e.__scopeMenu),a=iu(iI,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:l}=a,c={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{let e=i.current;return()=>{window.clearTimeout(e),l(null)}},[i,l]),(0,p.jsx)(is,{asChild:!0,...c,children:(0,p.jsx)(ij,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":iX(n.open),...e,ref:K(t,s.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:e9(e.onPointerMove,iU(t=>{a.onItemEnter(t),!t.defaultPrevented&&(e.disabled||n.open||o.current||(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100)))})),onPointerLeave:e9(e.onPointerLeave,iU(e=>{d();let t=n.content?.getBoundingClientRect();if(t){let r=n.content?.dataset.side,s="right"===r,o=t[s?"left":"right"],l=t[s?"right":"left"];a.onPointerGraceIntentChange({area:[{x:e.clientX+(s?-5:5),y:e.clientY},{x:o,y:t.top},{x:l,y:t.top},{x:l,y:t.bottom},{x:o,y:t.bottom}],side:r}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(e),e.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:e9(e.onKeyDown,t=>{let s=""!==a.searchRef.current;e.disabled||s&&" "===t.key||oZ[r.dir].includes(t.key)&&(n.onOpenChange(!0),n.content?.focus(),t.preventDefault())})})})});iO.displayName=iI;var i$="MenuSubContent",iB=x.forwardRef((e,t)=>{let n=ii(ic,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=o9(ic,e.__scopeMenu),o=it(ic,e.__scopeMenu),i=iF(i$,e.__scopeMenu),l=x.useRef(null),c=Z(t,l);return(0,p.jsx)(o1.Provider,{scope:e.__scopeMenu,children:(0,p.jsx)(nq,{present:r||a.open,children:(0,p.jsx)(o1.Slot,{scope:e.__scopeMenu,children:(0,p.jsx)(ix,{id:i.contentId,"aria-labelledby":i.triggerId,...s,ref:c,align:"start",side:"rtl"===o.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{o.isUsingKeyboardRef.current&&l.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:e9(e.onFocusOutside,e=>{e.target!==i.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:e9(e.onEscapeKeyDown,e=>{o.onClose(),e.preventDefault()}),onKeyDown:e9(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),n=oQ[o.dir].includes(e.key);t&&n&&(a.onOpenChange(!1),i.trigger?.focus(),e.preventDefault())})})})})})});function iX(e){return e?"open":"closed"}function iW(e){return"indeterminate"===e}function iG(e){return iW(e)?"indeterminate":e?"checked":"unchecked"}function iU(e){return t=>"mouse"===t.pointerType?e(t):void 0}iB.displayName=i$;var iH="DropdownMenu",[iV,iq]=te(iH,[o3]),iJ=o3(),[iY,iK]=iV(iH),iZ=e=>{let{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=iJ(t),c=x.useRef(null),[d=!1,u]=nY({prop:s,defaultProp:a,onChange:o});return(0,p.jsx)(iY,{scope:t,triggerId:tf(),triggerRef:c,contentId:tf(),open:d,onOpenChange:u,onOpenToggle:x.useCallback(()=>u(e=>!e),[u]),modal:i,children:(0,p.jsx)(ir,{...l,open:d,onOpenChange:u,dir:r,modal:i,children:n})})};iZ.displayName=iH;var iQ="DropdownMenuTrigger",i0=x.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,a=iK(iQ,n),o=iJ(n);return(0,p.jsx)(is,{asChild:!0,...o,children:(0,p.jsx)(tn.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:K(t,a.triggerRef),onPointerDown:e9(e.onPointerDown,e=>{!r&&0===e.button&&!1===e.ctrlKey&&(a.onOpenToggle(),a.open||e.preventDefault())}),onKeyDown:e9(e.onKeyDown,e=>{!r&&(["Enter"," "].includes(e.key)&&a.onOpenToggle(),"ArrowDown"===e.key&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});i0.displayName=iQ;var i1=e=>{let{__scopeDropdownMenu:t,...n}=e,r=iJ(t);return(0,p.jsx)(il,{...r,...n})};i1.displayName="DropdownMenuPortal";var i2="DropdownMenuContent",i5=x.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,s=iK(i2,n),a=iJ(n),o=x.useRef(!1);return(0,p.jsx)(ih,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:t,onCloseAutoFocus:e9(e.onCloseAutoFocus,e=>{o.current||s.triggerRef.current?.focus(),o.current=!1,e.preventDefault()}),onInteractOutside:e9(e.onInteractOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;(!s.modal||r)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});i5.displayName=i2,x.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,s=iJ(n);return(0,p.jsx)(ig,{...s,...r,ref:t})}).displayName="DropdownMenuGroup";var i4=x.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,s=iJ(n);return(0,p.jsx)(ib,{...s,...r,ref:t})});i4.displayName="DropdownMenuLabel";var i3=x.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,s=iJ(n);return(0,p.jsx)(iw,{...s,...r,ref:t})});i3.displayName="DropdownMenuItem",x.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,s=iJ(n);return(0,p.jsx)(iN,{...s,...r,ref:t})}).displayName="DropdownMenuCheckboxItem",x.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,s=iJ(n);return(0,p.jsx)(iS,{...s,...r,ref:t})}).displayName="DropdownMenuRadioGroup",x.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,s=iJ(n);return(0,p.jsx)(iP,{...s,...r,ref:t})}).displayName="DropdownMenuRadioItem",x.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,s=iJ(n);return(0,p.jsx)(iD,{...s,...r,ref:t})}).displayName="DropdownMenuItemIndicator";var i7=x.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,s=iJ(n);return(0,p.jsx)(i_,{...s,...r,ref:t})});function i8({...e}){return(0,p.jsx)(iZ,{"data-slot":"dropdown-menu",...e})}function i6({...e}){return(0,p.jsx)(i0,{"data-slot":"dropdown-menu-trigger",...e})}function i9({className:e,sideOffset:t=4,...n}){return(0,p.jsx)(i1,{children:(0,p.jsx)(i5,{"data-slot":"dropdown-menu-content",sideOffset:t,className:eU("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function le({className:e,inset:t,variant:n="default",...r}){return(0,p.jsx)(i3,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:eU("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function lt({className:e,inset:t,...n}){return(0,p.jsx)(i4,{"data-slot":"dropdown-menu-label","data-inset":t,className:eU("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function ln({className:e,...t}){return(0,p.jsx)(i7,{"data-slot":"dropdown-menu-separator",className:eU("bg-border -mx-1 my-1 h-px",e),...t})}function lr({src:e,alt:t,onError:n}){let r=(0,x.useRef)(null),s=(0,x.useRef)(null);return(0,x.useEffect)(()=>{let t=new Image;t.crossOrigin="anonymous",t.src=e;let a=()=>{let e=r.current,n=s.current;if(!e||!n||!t.complete||!t.naturalWidth||!t.naturalHeight)return;let a=e.clientWidth||e.offsetWidth,o=e.clientHeight||e.offsetHeight;if(0===a||0===o)return;n.width=a,n.height=o;let i=document.createElement("canvas");i.width=Math.max(1,Math.floor(a/2)),i.height=Math.max(1,Math.floor(o/2));let l=i.getContext("2d"),c=n.getContext("2d");if(!l||!c)return;l.imageSmoothingEnabled=!1,c.imageSmoothingEnabled=!1;let d=Math.max(i.width/t.naturalWidth,i.height/t.naturalHeight),u=Math.ceil(t.naturalWidth*d),h=Math.ceil(t.naturalHeight*d),f=Math.floor((i.width-u)/2),m=Math.floor((i.height-h)/2);l.clearRect(0,0,i.width,i.height),l.drawImage(t,f,m,u,h),c.clearRect(0,0,a,o),c.drawImage(i,0,0,a,o)};t.onload=a,t.onerror=()=>{n?.()};let o=new ResizeObserver(()=>a());return r.current&&o.observe(r.current),()=>{o.disconnect()}},[e,n]),(0,p.jsx)("div",{ref:r,className:"w-full h-full",children:(0,p.jsx)("canvas",{ref:s,className:"w-full h-full"})})}function ls({symbol:e,contract:t,variant:n="small"}){let[r,s]=(0,x.useState)(!1),a=(0,x.useMemo)(()=>`https://raw.githubusercontent.com/alcorexchange/alcor-ui/refs/heads/master/assets/tokens/wax/${e.toLowerCase()}_${t.toLowerCase()}.png`,[e,t]),o={WAX:"",PXJ:"",WPIXAL:"",WAXUSDC:"",WAXWBTC:"",WUF:"",LSWAX:"",BRWL:"",TLM:"",WOMBAT:"",TACO:"",SHING:"",YEET:"",DMT:"",FGL:"",SOREN:"",KING:""}[e]||"";return r?"cover"===n?(0,p.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,p.jsx)("span",{className:"text-4xl",children:o})}):(0,p.jsx)("div",{className:"w-10 h-10 rounded-md overflow-hidden flex items-center justify-center bg-black/30 border border-white/10",children:(0,p.jsx)("span",{className:"text-xl",children:o})}):"cover"===n?(0,p.jsx)(lr,{src:a,alt:`${e} art`,onError:()=>s(!0)}):(0,p.jsx)("div",{className:"w-10 h-10 rounded-md overflow-hidden flex items-center justify-center bg-black/30 border border-white/10",children:(0,p.jsx)("img",{src:a,alt:`${e} icon`,className:"w-full h-full object-cover",style:{imageRendering:"pixelated"},onError:()=>s(!0)})})}i7.displayName="DropdownMenuSeparator",x.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,s=iJ(n);return(0,p.jsx)(iz,{...s,...r,ref:t})}).displayName="DropdownMenuArrow",x.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,s=iJ(n);return(0,p.jsx)(iO,{...s,...r,ref:t})}).displayName="DropdownMenuSubTrigger",x.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,s=iJ(n);return(0,p.jsx)(iB,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}).displayName="DropdownMenuSubContent",eZ("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),eZ("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);let la=[{symbol:"PXJ",contract:"pixeljourney"},{symbol:"WPIXAL",contract:"pixeljourney"},{symbol:"WAX",contract:"eosio.token"},{symbol:"KING",contract:"alpha.waxfun"},{symbol:"WAXUSDC",contract:"eth.token"},{symbol:"WAXWBTC",contract:"eth.token"},{symbol:"WUF",contract:"wuffi"},{symbol:"LSWAX",contract:"token.fusion"},{symbol:"BRWL",contract:"brawlertoken"},{symbol:"TLM",contract:"alien.worlds"},{symbol:"WOMBAT",contract:"wombattokens"},{symbol:"TACO",contract:"t.taco"},{symbol:"SHING",contract:"t.taco"},{symbol:"YEET",contract:"token.yeet"},{symbol:"DMT",contract:"defiminingtk"},{symbol:"FGL",contract:"fgltokenmgmt"},{symbol:"SOREN",contract:"farfromhomes"}],lo=[{symbol:"PXJ",contract:"pixeljourney"},{symbol:"WPIXAL",contract:"pixeljourney"},{symbol:"KING",contract:"alpha.waxfun"},{symbol:"YEET",contract:"token.yeet"}],li={PXJ:{name:"Pixel Power",desc:"Each tier boosts all dice rolls globally."},WPIXAL:{name:"Arcane Swap",desc:"Converts luck into liquidity with style."},KING:{name:"Royal Decree",desc:"Grants a noble bonus to prestige gains."},YEET:{name:"Momentum Yeet",desc:"Adds spicy speed to your idle gains."}},ll={PXJ:"Pixel Journey",WPIXAL:"Pixel Journey",KING:"WaxFun",YEET:"Yeet"};function lc({embedded:e=!1,onClose:t}){let{isConnected:n,accountName:r,assetGlobalMultiplier:s,session:a,donateForTokenCandidate:o,tokenBalances:i,usdPrices:l}=(0,rb.useBlockchain)(),[c,d]=(0,x.useState)({}),[u,h]=(0,x.useState)({}),[f,m]=(0,x.useState)(null),[g,b]=(0,x.useState)({}),[v,y]=(0,x.useState)({});function w(e){return(i?.[e]??0)*(l?.[e]??c?.[e]??0)}async function j(e,t,n,r){let s=`${e.toLowerCase()}-${t.toLowerCase()}`,a=`https://alcor.exchange/api/v2/swapRouter/getRoute?trade_type=EXACT_OUTPUT&input=wax-eosio.token&output=${s}&amount=${n.toFixed(8)}&slippage=0.5&receiver=${r}&maxHops=3&v2=true`,o=await fetch(a);if(!o.ok)throw Error(`Quote failed: ${o.status}`);let i=await o.json(),l=i?.swaps?.[0]||{},c=(i?.maxSent||l?.maxSent||"0").toString(),d=(i?.memo||l?.memo||"").toString();return{maxWax:parseFloat(c),memo:d}}async function N(e,t,s){if(!n||!a||!r)return void aD.toast.error("Connect wallet to swap");let o=Math.max(0,("Uncommon"===s?1:"Rare"===s?10:"Epic"===s?50:250)-w(e)),i=l?.[e]??c?.[e]??0;if(i<=0||o<=0)return void aD.toast.info("Already at or above target tier");try{let{maxWax:n,memo:l}=await j(e,t,o/i,r);if(!l||!n||n<=0)throw Error("Invalid router response");let c=`${n.toFixed(8)} WAX`,d={account:"eosio.token",name:"transfer",authorization:[a.permissionLevel],data:{from:a.actor,to:"swap.alcor",quantity:c,memo:l}};aD.toast.info(`Swapping up to ${c} for ${e} (${s})`),await a.transact({action:d}),aD.toast.success("Swap submitted")}catch(e){console.error(e),aD.toast.error("Swap failed")}}async function k(e,t,s){if(!n||!a||!r)return void aD.toast.error("Connect wallet to swap");let o=l?.[e]??c?.[e]??0;if(o<=0||s<=0)return void aD.toast.error("Enter a valid $ amount");let i=s/o;try{let{maxWax:n,memo:o}=await j(e,t,i,r);if(!o||!n||n<=0)throw Error("Invalid router response");let l=`${n.toFixed(8)} WAX`,c={account:"eosio.token",name:"transfer",authorization:[a.permissionLevel],data:{from:a.actor,to:"swap.alcor",quantity:l,memo:o}};aD.toast.info(`Quick buying ~${s.toFixed(2)}$ of ${e}`),await a.transact({action:c}),aD.toast.success("Swap submitted")}catch(e){console.error(e),aD.toast.error("Swap failed")}}(0,x.useEffect)(()=>{(async()=>{try{let e=await fetch("https://alcor.exchange/api/v2/tokens"),t=e.ok?await e.json():[],n={};t.forEach(e=>{e?.symbol&&"number"==typeof e?.usd_price&&(n[e.symbol]=e.usd_price)});let r=async e=>{try{let t=await fetch(e);if(!t.ok)return null;let n=await t.json(),r=n?.data?.attributes?.quote_token_price_usd;return r?parseFloat(r):null}catch{return null}};if(l?.PXJ==null)for(let e of["https://api.geckoterminal.com/api/v2/networks/wax/pools/swap.alcor:1195","https://api.geckoterminal.com/api/v2/networks/wax/pools/swap.alcor:1657","https://api.geckoterminal.com/api/v2/networks/wax/pools/swap.alcor:6560"]){let t=await r(e);if("number"==typeof t){n.PXJ=t;break}}if(l?.WPIXAL==null){let e=await r("https://api.geckoterminal.com/api/v2/networks/wax/pools/swap.alcor:7845");"number"==typeof e&&(n.WPIXAL=e)}d(n)}catch(e){console.warn("Failed to load prices",e)}})()},[l]);let C=({symbol:e,contract:t})=>{let n=w(e),r=n<1?"Common":n<10?"Uncommon":n<50?"Rare":n<250?"Epic":"Legendary",a=function(e){switch(e){case"Uncommon":return"#22C55E";case"Rare":return"#3B82F6";case"Epic":return"#A855F7";case"Legendary":return"#F59E0B";default:return"#9CA3AF"}}(r),o=li[e]||{name:"Meme Aura",desc:"Radiates good vibes."},l=ll[e]||"Unknown Project";return(0,p.jsxs)("div",{style:{"--accent-color":a},className:`jsx-40c737917905a0c8 nftcard relative rounded-2xl ${"Common"!==r?"nftcard--electric":""}`,children:[(0,p.jsxs)("div",{className:"jsx-40c737917905a0c8 nftcard-inner",children:[(0,p.jsxs)("div",{className:"jsx-40c737917905a0c8 nftcard-header",children:[(0,p.jsx)("div",{className:"jsx-40c737917905a0c8 nftcard-title",children:e}),(0,p.jsxs)("div",{style:{backgroundColor:a+"22",borderColor:a},className:"jsx-40c737917905a0c8 nftcard-rarity",children:[(0,p.jsx)(a6,{className:"inline-block w-3.5 h-3.5 mr-1"}),r]})]}),(0,p.jsx)("div",{className:"jsx-40c737917905a0c8 nftcard-art",children:(0,p.jsx)(ls,{symbol:e,contract:t,variant:"cover"})}),(0,p.jsxs)("div",{className:"jsx-40c737917905a0c8 nftcard-body",children:[(0,p.jsx)("div",{className:"jsx-40c737917905a0c8 nft-badge",children:"OG"}),(0,p.jsxs)("div",{className:"jsx-40c737917905a0c8",children:[(0,p.jsx)("div",{className:"jsx-40c737917905a0c8 nftcard-body-title",children:o.name}),(0,p.jsx)("div",{className:"jsx-40c737917905a0c8 nftcard-body-desc",children:o.desc})]})]}),(0,p.jsx)("div",{className:"jsx-40c737917905a0c8 nftcard-sub",children:l}),(0,p.jsxs)("div",{className:"jsx-40c737917905a0c8 nftcard-stats",children:[(0,p.jsxs)("div",{className:"jsx-40c737917905a0c8 holding",children:[(0,p.jsx)("span",{className:"jsx-40c737917905a0c8 label",children:"Holdings"}),(0,p.jsxs)("span",{className:"jsx-40c737917905a0c8 value",children:[(i?.[e]??0).toFixed(4)," ",e]}),(0,p.jsxs)("span",{className:"jsx-40c737917905a0c8 usd",children:["$",n.toFixed(2)]})]}),(0,p.jsxs)("div",{className:"jsx-40c737917905a0c8 mult",children:[(0,p.jsx)("span",{className:"jsx-40c737917905a0c8 label",children:"Global Mult"}),(0,p.jsxs)("span",{className:"jsx-40c737917905a0c8 value",children:["x",(s||1).toFixed(2)]})]})]}),(0,p.jsxs)("div",{className:"jsx-40c737917905a0c8 mt-3 flex items-center gap-2",children:[(0,p.jsxs)(i8,{children:[(0,p.jsx)(i6,{asChild:!0,children:(0,p.jsx)(eV,{variant:"outline",className:"border-casino-cyan text-white hover:bg-casino-cyan/20 bg-transparent text-xs",children:"Quick Buy"})}),(0,p.jsxs)(i9,{className:"bg-black/80 border-white/20 text-white",children:[(0,p.jsx)(lt,{children:"Reach tier"}),(0,p.jsx)(le,{onClick:()=>N(e,t,"Uncommon"),children:"Uncommon ($1)"}),(0,p.jsx)(le,{onClick:()=>N(e,t,"Rare"),children:"Rare ($10)"}),(0,p.jsx)(le,{onClick:()=>N(e,t,"Epic"),children:"Epic ($50)"}),(0,p.jsx)(le,{onClick:()=>N(e,t,"Legendary"),children:"Legendary ($250)"}),(0,p.jsx)(ln,{}),(0,p.jsx)(le,{onClick:()=>m(e),children:"Custom $ amount"})]})]}),(0,p.jsx)("a",{href:`https://waxonedge.app/swap/WAX_eosio.token/${e}_${t}`,target:"_blank",rel:"noopener noreferrer",className:"jsx-40c737917905a0c8 ml-auto",children:(0,p.jsx)(eV,{variant:"ghost",size:"sm",className:"text-casino-cyan hover:bg-casino-cyan/10",children:"Buy on WOE"})})]}),f===e&&(0,p.jsxs)("div",{className:"jsx-40c737917905a0c8 mt-2 flex items-center gap-2",children:[(0,p.jsx)("input",{type:"number",min:.5,step:.01,value:g[e]??"",onChange:t=>b(n=>({...n,[e]:Number(t.target.value)})),placeholder:"Amount in $",className:"jsx-40c737917905a0c8 w-28 px-2 py-1 rounded bg-black/40 border border-white/10 text-white text-xs"}),(0,p.jsx)(eV,{size:"sm",className:"bg-casino-cyan text-black hover:bg-casino-cyan/80",onClick:()=>{let n=g[e]||0;!n||n<=0?aD.toast.error("Enter a valid $ amount"):k(e,t,n)},children:"Buy"})]}),(0,p.jsxs)("div",{className:"jsx-40c737917905a0c8 nftcard-footer",children:[(0,p.jsx)("span",{className:"jsx-40c737917905a0c8 brand-text",children:"Pixel Journey  Meme Card"}),(0,p.jsx)(rD,{className:"w-4 h-4 text-[#6b7280]"})]})]}),(0,p.jsx)(rk.default,{id:"40c737917905a0c8",children:'@property --rotate{syntax:"<angle>";inherits:false;initial-value:132deg}@keyframes nftcard-spin{0%{--rotate:0deg}to{--rotate:360deg}}.nftcard.jsx-40c737917905a0c8{background:#191c29;border-radius:14px;justify-content:center;align-items:center;width:max(280px,min(60vw,420px));padding:3px;display:flex;position:relative;overflow:hidden}.nftcard--electric.jsx-40c737917905a0c8:before,.nftcard--electric.jsx-40c737917905a0c8:after{pointer-events:none}.nftcard-inner.jsx-40c737917905a0c8{z-index:1;-webkit-backdrop-filter:blur(12px)saturate(140%);background:#ffffff14;border:1px solid #ffffff24;border-radius:12px;width:100%;padding:18px;transition:box-shadow .16s;position:relative;box-shadow:inset 0 1px #ffffff26}.nftcard.jsx-40c737917905a0c8:hover .nftcard-inner.jsx-40c737917905a0c8{transform:none}.nftcard-header.jsx-40c737917905a0c8{justify-content:space-between;align-items:center;display:flex}.nftcard-title.jsx-40c737917905a0c8{letter-spacing:.02em;color:var(--foreground);font-size:20px;font-weight:800}.nftcard-rarity.jsx-40c737917905a0c8{color:var(--foreground);background-color:#ffffff14;border-width:2px;border-radius:9999px;align-items:center;padding:4px 10px;font-size:12px;display:flex}.nftcard-art.jsx-40c737917905a0c8{background:#ffffff0f;border:1px solid #ffffff24;border-radius:12px;justify-content:center;align-items:center;height:160px;margin:12px 0;display:flex;box-shadow:inset 0 0 12px #ffffff0f}.nftcard-body.jsx-40c737917905a0c8{align-items:flex-start;gap:10px;margin-top:10px;display:flex}.nft-badge.jsx-40c737917905a0c8{color:#fff;background:linear-gradient(135deg,#6d28d9,#8b5cf6);border-radius:10px;justify-content:center;align-items:center;width:38px;height:38px;font-weight:900;display:flex;box-shadow:0 6px 16px #8b5cf659}.nftcard-body-title.jsx-40c737917905a0c8{color:var(--foreground);font-weight:800}.nftcard-body-desc.jsx-40c737917905a0c8{color:#ffffffbf;font-size:12px}.nftcard-sub.jsx-40c737917905a0c8{color:#fff9;margin-top:6px;font-size:12px}.nftcard-stats.jsx-40c737917905a0c8{grid-template-columns:1fr 1fr;gap:8px;margin-top:12px;display:grid}.holding.jsx-40c737917905a0c8 .label.jsx-40c737917905a0c8,.mult.jsx-40c737917905a0c8 .label.jsx-40c737917905a0c8{color:#fff9;font-size:11px}.holding.jsx-40c737917905a0c8 .value.jsx-40c737917905a0c8,.mult.jsx-40c737917905a0c8 .value.jsx-40c737917905a0c8{color:var(--foreground);font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:12px}.holding.jsx-40c737917905a0c8 .usd.jsx-40c737917905a0c8{color:#fff;background:#ffffff1f;border:1px solid #ffffff40;border-radius:8px;margin-left:8px;padding:2px 6px}.nftcard-footer.jsx-40c737917905a0c8{color:#fff9;border-top:1px solid #ffffff24;justify-content:space-between;align-items:center;margin-top:12px;padding-top:8px;font-size:12px;display:flex}.brand-text.jsx-40c737917905a0c8{letter-spacing:.02em;font-weight:700}'})]})},M=(0,p.jsxs)("div",{className:"bg-black/30 border-b border-white/10 p-4 flex items-center justify-between",children:[(0,p.jsx)("h2",{className:"text-xl font-bold",children:"Meme Cards"}),t&&(0,p.jsx)(eV,{onClick:t,variant:"ghost",size:"icon",className:"text-white/80 hover:bg-white/10",children:(0,p.jsx)(rO,{className:"w-5 h-5"})})]}),S=(0,p.jsxs)("div",{className:"p-6 space-y-6 overflow-y-auto custom-scrollbar",style:{maxHeight:"90vh"},children:[(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,p.jsxs)("div",{className:"bg-black/40 rounded-lg p-4 border border-white/10",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,p.jsx)(aQ,{className:"w-5 h-5 text-casino-gold"}),(0,p.jsx)("h3",{className:"font-bold text-casino-gold",children:"Wallet Perks"})]}),(0,p.jsxs)("div",{className:"text-sm text-white/70 space-y-1",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-white/70",children:"Status:"})," ",(0,p.jsx)("span",{className:"text-casino-cyan",children:n?"Connected":"Disconnected"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-white/70",children:"Account:"})," ",(0,p.jsx)("span",{className:"text-casino-pink",children:r||""})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"text-white/70",children:"Global Asset Mult:"})," ",(0,p.jsxs)("span",{className:"text-casino-gold",children:["x",(s||1).toFixed(2)]})]})]})]}),(0,p.jsxs)("div",{className:"md:col-span-2 bg-black/40 rounded-lg p-4 border border-white/10",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,p.jsx)(aQ,{className:"w-5 h-5 text-casino-cyan"}),(0,p.jsx)("h3",{className:"font-bold text-casino-cyan",children:"Active Meme Cards"})]}),(0,p.jsxs)(oC,{opts:{loop:!0,align:"center"},className:"relative",children:[(0,p.jsx)(oM,{children:lo.map(e=>(0,p.jsx)(oS,{className:"basis-full flex justify-center",children:(0,p.jsx)(C,{symbol:e.symbol,contract:e.contract})},`${e.symbol}-${e.contract}`))}),(0,p.jsx)(oR,{className:"left-2 border-white/30 text-white bg-black/50 hover:bg-black/70"}),(0,p.jsx)(oP,{className:"right-2 border-white/30 text-white bg-black/50 hover:bg-black/70"})]}),(0,p.jsx)("div",{className:"mt-4 flex justify-end items-center",children:(0,p.jsx)("span",{className:"text-xs text-casino-cyan/60",children:"Use swap buttons above to upgrade tiers."})})]})]}),(0,p.jsxs)("div",{className:"bg-black/40 rounded-lg p-4 border border-white/10",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,p.jsx)(aQ,{className:"w-5 h-5 text-casino-gold"}),(0,p.jsx)("h3",{className:"font-bold text-casino-gold",children:"Future FT Candidates"})]}),(0,p.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-3",children:la.filter(e=>!lo.some(t=>t.symbol===e.symbol&&t.contract===e.contract)).map(e=>(0,p.jsxs)("div",{className:"rounded-xl border border-white/10 bg-black/30 p-3",children:[(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsx)(ls,{symbol:e.symbol,contract:e.contract}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:"text-sm font-bold",children:e.symbol}),(0,p.jsxs)("div",{className:"text-xs text-white/60",children:[ll[e.symbol]||"Unknown","  ",e.contract]})]})]}),(0,p.jsx)("div",{className:"mt-2 text-xs text-white/70",children:"Coming soon"}),(0,p.jsxs)("div",{className:"mt-3",children:[(0,p.jsx)("div",{className:"text-xs text-white/70 mb-1",children:"Donate PXJ towards listing"}),(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)("input",{type:"number",min:500,step:1,value:u[e.symbol]||"",onChange:t=>h(n=>({...n,[e.symbol]:Number(t.target.value)})),placeholder:"500",className:"w-24 px-2 py-1 rounded bg-black/40 border border-white/10 text-white text-xs"}),(0,p.jsx)(eV,{size:"sm",className:"bg-casino-cyan text-black hover:bg-casino-cyan/80",onClick:async()=>{let t=u[e.symbol]||0;!t||t<500?aD.toast.error("Enter  500 PXJ"):await o(e.symbol,t)&&h(t=>({...t,[e.symbol]:0}))},disabled:!n,children:"Donate"})]}),(0,p.jsxs)("div",{className:"text-[10px] text-white/50 mt-1",children:["Last donation: ",v[e.symbol]||""]})]})]},`${e.symbol}-${e.contract}`))})]})]});return e?(0,p.jsxs)("div",{className:"jsx-53ae49144741cf5e bg-black/40 backdrop-blur-md border-t border-white/10 rounded-t-lg",children:[M,S,(0,p.jsx)(rk.default,{id:"53ae49144741cf5e",children:'@property --rotate{syntax:"<angle>";inherits:false;initial-value:132deg}@keyframes nftcard-spin{0%{--rotate:0deg}to{--rotate:360deg}}.nftcard.jsx-53ae49144741cf5e{background:#191c29;border-radius:14px;justify-content:center;align-items:center;width:max(280px,min(60vw,420px));padding:3px;display:flex;position:relative;overflow:hidden}.nftcard--electric.jsx-53ae49144741cf5e:before{content:"";background-image:linear-gradient(var(--rotate),#5ddcff,#3c67e3 43%,#4e00c2);z-index:0;border-radius:16px;width:104%;height:102%;animation:2.5s linear infinite nftcard-spin;position:absolute;top:-1%;left:-2%}.nftcard--electric.jsx-53ae49144741cf5e:after{content:"";z-index:-2;filter:blur(22px);background-image:linear-gradient(var(--rotate),#5ddcff,#3c67e3 43%,#4e00c2);opacity:.7;width:100%;height:100%;margin:0 auto;animation:2.5s linear infinite nftcard-spin;position:absolute;top:12%;left:0;right:0;transform:scale(.82)}.nftcard--electric.jsx-53ae49144741cf5e:before,.nftcard--electric.jsx-53ae49144741cf5e:after{pointer-events:none}.nftcard-inner.jsx-53ae49144741cf5e{z-index:1;-webkit-backdrop-filter:blur(12px)saturate(140%);background:#ffffff14;border:1px solid #ffffff24;border-radius:12px;width:100%;padding:18px;transition:box-shadow .16s;position:relative;box-shadow:inset 0 1px #ffffff26}.nftcard.jsx-53ae49144741cf5e:hover .nftcard-inner.jsx-53ae49144741cf5e{transform:none}.nftcard-header.jsx-53ae49144741cf5e{justify-content:space-between;align-items:center;display:flex}.nftcard-title.jsx-53ae49144741cf5e{letter-spacing:.02em;color:var(--foreground);font-size:20px;font-weight:800}.nftcard-rarity.jsx-53ae49144741cf5e{color:var(--foreground);background-color:#ffffff14;border-width:2px;border-radius:9999px;align-items:center;padding:4px 10px;font-size:12px;display:flex}.nftcard-art.jsx-53ae49144741cf5e{background:#ffffff0f;border:1px solid #ffffff24;border-radius:12px;justify-content:center;align-items:center;height:160px;margin:12px 0;display:flex;box-shadow:inset 0 0 12px #ffffff0f}.nftcard-body.jsx-53ae49144741cf5e{align-items:flex-start;gap:10px;margin-top:10px;display:flex}.nft-badge.jsx-53ae49144741cf5e{color:#fff;background:linear-gradient(135deg,#6d28d9,#8b5cf6);border-radius:10px;justify-content:center;align-items:center;width:38px;height:38px;font-weight:900;display:flex;box-shadow:0 6px 16px #8b5cf659}.nftcard-body-title.jsx-53ae49144741cf5e{color:var(--foreground);font-weight:800}.nftcard-body-desc.jsx-53ae49144741cf5e{color:#ffffffbf;font-size:12px}.nftcard-sub.jsx-53ae49144741cf5e{color:#fff9;margin-top:6px;font-size:12px}.nftcard-stats.jsx-53ae49144741cf5e{grid-template-columns:1fr 1fr;gap:8px;margin-top:12px;display:grid}.holding.jsx-53ae49144741cf5e .label.jsx-53ae49144741cf5e,.mult.jsx-53ae49144741cf5e .label.jsx-53ae49144741cf5e{color:#fff9;font-size:11px}.holding.jsx-53ae49144741cf5e .value.jsx-53ae49144741cf5e,.mult.jsx-53ae49144741cf5e .value.jsx-53ae49144741cf5e{color:var(--foreground);font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:12px}.holding.jsx-53ae49144741cf5e .usd.jsx-53ae49144741cf5e{color:#fff;background:#ffffff1f;border:1px solid #ffffff40;border-radius:8px;margin-left:8px;padding:2px 6px}.nftcard-footer.jsx-53ae49144741cf5e{color:#fff9;border-top:1px solid #ffffff24;justify-content:space-between;align-items:center;margin-top:12px;padding-top:8px;font-size:12px;display:flex}.brand-text.jsx-53ae49144741cf5e{letter-spacing:.02em;font-weight:700}'})]}):(0,p.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-50 flex items-center justify-center p-4",onClick:t,children:(0,p.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-e8800fda50f6863e bg-black/40 backdrop-blur-md border border-white/10 rounded-lg max-w-3xl w-full max-h-[90vh] overflow-hidden",children:[M,S,(0,p.jsx)(rk.default,{id:"e8800fda50f6863e",children:'@property --rotate{syntax:"<angle>";inherits:false;initial-value:132deg}@keyframes nftcard-spin{0%{--rotate:0deg}to{--rotate:360deg}}.nftcard.jsx-e8800fda50f6863e{background:#191c29;border-radius:14px;justify-content:center;align-items:center;width:max(280px,min(60vw,420px));padding:3px;display:flex;position:relative}.nftcard--electric.jsx-e8800fda50f6863e:before{content:"";background-image:linear-gradient(var(--rotate),#5ddcff,#3c67e3 43%,#4e00c2);z-index:0;border-radius:16px;width:104%;height:102%;animation:2.5s linear infinite nftcard-spin;position:absolute;top:-1%;left:-2%}.nftcard--electric.jsx-e8800fda50f6863e:after{content:"";z-index:-2;filter:blur(22px);background-image:linear-gradient(var(--rotate),#5ddcff,#3c67e3 43%,#4e00c2);opacity:.7;width:100%;height:100%;margin:0 auto;animation:2.5s linear infinite nftcard-spin;position:absolute;top:12%;left:0;right:0;transform:scale(.82)}.nftcard-inner.jsx-e8800fda50f6863e{z-index:1;-webkit-backdrop-filter:blur(12px)saturate(140%);background:#ffffff14;border:1px solid #ffffff24;border-radius:12px;width:100%;padding:18px;transition:transform .16s,box-shadow .16s;position:relative;box-shadow:inset 0 1px #ffffff26}.nftcard.jsx-e8800fda50f6863e:hover .nftcard-inner.jsx-e8800fda50f6863e{transform:none}.nftcard-header.jsx-e8800fda50f6863e{justify-content:space-between;align-items:center;display:flex}.nftcard-title.jsx-e8800fda50f6863e{letter-spacing:.02em;color:var(--foreground);font-size:20px;font-weight:800}.nftcard-rarity.jsx-e8800fda50f6863e{color:var(--foreground);background-color:#ffffff14;border-width:2px;border-radius:9999px;align-items:center;padding:4px 10px;font-size:12px;display:flex}.nftcard-art.jsx-e8800fda50f6863e{background:#ffffff0f;border:1px solid #ffffff24;border-radius:12px;justify-content:center;align-items:center;height:160px;margin:12px 0;display:flex;box-shadow:inset 0 0 12px #ffffff0f}.nftcard-body.jsx-e8800fda50f6863e{align-items:flex-start;gap:10px;margin-top:10px;display:flex}.nft-badge.jsx-e8800fda50f6863e{color:#fff;background:linear-gradient(135deg,#6d28d9,#8b5cf6);border-radius:10px;justify-content:center;align-items:center;width:38px;height:38px;font-weight:900;display:flex;box-shadow:0 6px 16px #8b5cf659}.nftcard-body-title.jsx-e8800fda50f6863e{color:var(--foreground);font-weight:800}.nftcard-body-desc.jsx-e8800fda50f6863e{color:#ffffffbf;font-size:12px}.nftcard-sub.jsx-e8800fda50f6863e{color:#fff9;margin-top:6px;font-size:12px}.nftcard-stats.jsx-e8800fda50f6863e{grid-template-columns:1fr 1fr;gap:8px;margin-top:12px;display:grid}.holding.jsx-e8800fda50f6863e .label.jsx-e8800fda50f6863e,.mult.jsx-e8800fda50f6863e .label.jsx-e8800fda50f6863e{color:#fff9;font-size:11px}.holding.jsx-e8800fda50f6863e .value.jsx-e8800fda50f6863e,.mult.jsx-e8800fda50f6863e .value.jsx-e8800fda50f6863e{color:var(--foreground);font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:12px}.nftcard-footer.jsx-e8800fda50f6863e{color:#fff9;border-top:1px solid #ffffff24;justify-content:space-between;align-items:center;margin-top:12px;padding-top:8px;font-size:12px;display:flex}.brand-text.jsx-e8800fda50f6863e{letter-spacing:.02em;font-weight:700}'})]})})}var ld=e.i(96282);function lu(e){let t="pxj-alpha-salt",n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e.charCodeAt(r)^t.charCodeAt(r%t.length));return n}function lh(e,t){try{let n=JSON.stringify(t),r=function(e){try{let t=lu(e);return"function"==typeof btoa?btoa(t):ld.Buffer.from(t,"utf8").toString("base64")}catch{return e}}(n);localStorage.setItem(e,r)}catch{}}function lf(e){try{let t=localStorage.getItem(e);if(!t)return null;let n=function(e){try{let t="function"==typeof atob?atob(e):ld.Buffer.from(e,"base64").toString("utf8");return lu(t)}catch{return e}}(t);return JSON.parse(n)}catch{return null}}function lm(e){let t=Math.abs(e),n=e<0?"-":"";if(t<1e3)return n+t.toLocaleString();let r=[{v:1e3,s:"K"},{v:1e6,s:"M"},{v:1e9,s:"B"},{v:1e12,s:"T"},{v:1e15,s:"Q"},{v:1e18,s:"Qi"}];for(let e=r.length-1;e>=0;e--)if(t>=r[e].v){let s=t/r[e].v;return n+(s>=100?Math.round(s).toString():s.toFixed(1))+r[e].s}return n+t.toExponential(2).replace("e+","e^")}function lp(){let[e,t]=(0,x.useState)(null),[n,r]=(0,x.useState)(!1),[s,a]=(0,x.useState)(!1),[o,i]=(0,x.useState)(!1),[l,c]=(0,x.useState)(!1),[d,u]=(0,x.useState)(!1),[h,f]=(0,x.useState)(!1),[m,g]=(0,x.useState)(!1),[b,v]=(0,x.useState)(!1),[y,w]=(0,x.useState)(!1),[j,N]=(0,x.useState)(!1),[k,C]=(0,x.useState)(new Set),[M,S]=(0,x.useState)(!1),[R,P]=(0,x.useState)(null),E=(0,x.useRef)([]),[T,A]=(0,x.useState)([]),D=(0,x.useRef)({}),_=(0,x.useRef)(null),[z,L]=(0,x.useState)(!1),[I,$]=(0,x.useState)(!1),[B,G]=(0,x.useState)(null),[U,H]=(0,x.useState)(!1),[V,q]=(0,x.useState)(!1),[J,Y]=(0,x.useState)([]),[K,Z]=(0,x.useState)(!1),[Q,ee]=(0,x.useState)(0),[et,en]=(0,x.useState)(null),[er,es]=(0,x.useState)(!1),ea=(0,x.useRef)(1),eo=[{id:"welcome",title:"Welcome",body:"This is the main game screen. The bag menu sits on the left, the top bar shows your coins and progress, and you can play simply by rolling some dice!"},{id:"canvas",title:"Canvas View",body:"This is your dice canvas. On desktop, its slightly larger and wider; on mobile, its taller than wide for better reach."},{id:"roll",title:"Rolling",body:"Click the center area to roll the selected cup. Watch roll popups, combo chains, and achievement banners near the die."},{id:"upgrades",title:"Upgrades",body:"Use the controls at bottom-right to upgrade cup multiplier or add slots when you have coins and dice."},{id:"cups",title:"Cups",body:"Open the cups column on the left to switch cups. Unlock new cups using the green button when you can afford it."},{id:"roll-all",title:"Roll All",body:"When you have multiple cups unlocked, use the Roll All Cups button at the bottom middle to trigger chain reactions."},{id:"settings",title:"Settings & Tutorial",body:"Open Settings to tweak options and re-open the tutorial anytime. Enjoy and experiment!"}];(0,x.useEffect)(()=>{try{let e=localStorage.getItem("guideCompleted"),t=localStorage.getItem("guideInProgress");"true"!==e&&"true"===t&&(ee(0),Z(!0))}catch{}},[]),(0,x.useEffect)(()=>{try{K?localStorage.setItem("guideInProgress","true"):(localStorage.removeItem("guideInProgress"),Q>=eo.length-1&&localStorage.setItem("guideCompleted","true"))}catch{}},[K,Q,eo.length]);let{accountName:ei,transactGameAction:el,assetGlobalMultiplier:ec,isConnected:ed}=(0,rb.useBlockchain)(),eu=e=>{let t=Date.now();return E.current=E.current.filter(e=>t-e.ts<=1200),E.current.push({ts:t,amount:e}),E.current.length},eh=(e,t="common",n)=>{let r=Math.random().toString(36).slice(2);A(n=>[...n,{id:r,text:e,rarity:t}]),setTimeout(()=>{A(e=>e.filter(e=>e.id!==r))},Math.max(1200,n??("epic"===t?2600:"rare"===t?2200:1800)))},ef=e=>{t(t=>{let n=t??X();return"function"==typeof e?e(n):e})};(0,x.useEffect)(()=>{let e=e=>{e.preventDefault(),en(e),es(!0)},t=()=>{en(null),es(!1),ef(e=>({...e,installPromptDismissed:!0})),(0,aD.toast)("Installed",{description:"Px/Die has been added to your device."})};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",t),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",t)}},[]);let em=(0,x.useCallback)(async()=>{if(!et)return void(0,aD.toast)("Install not available",{description:"Use your browser's menu to install."});try{et.prompt();let e=await et.userChoice;en(null),es(!1);let t=e?.outcome==="accepted";ef(e=>({...e,installPromptDismissed:!0})),(0,aD.toast)(t?"Installation accepted":"Installation dismissed",{description:t?"Great! You can launch Px/Die from your home screen.":"No worries. You can install anytime from Settings."})}catch(e){(0,aD.toast)("Install failed",{description:e?.message??"Unexpected error"})}},[et]);(0,x.useEffect)(()=>{if(!e)return;let t=ea.current??1,n=e.playerLevel??1;n>t?(ea.current=n,er&&!e.installPromptDismissed&&(3===n||7===n)&&(0,aD.toast)("Install Px/Die?",{description:"Add to home screen for faster access and fullscreen mode.",action:{label:"Install",onClick:em}})):ea.current=n},[e?.playerLevel,er,em]),(0,x.useEffect)(()=>{let e=lf("die-to-die-save");if(e)try{let n=X(),r=e.cups?.map(e=>({...e,earningMultiplier:e.earningMultiplier??1}))||n.cups,s={...n,...e,cups:r,talents:{...n.talents,...e.talents||{}},shopDice:e.shopDice||n.shopDice,shopRefreshCost:e.shopRefreshCost||n.shopRefreshCost,shopRefreshCount:e.shopRefreshCount||n.shopRefreshCount,autoRollEnabled:e.autoRollEnabled??n.autoRollEnabled,autoRollInterval:e.autoRollInterval||n.autoRollInterval,autoRollLevel:e.autoRollLevel||n.autoRollLevel,bossThreshold:e.bossThreshold||n.bossThreshold,bossesDefeated:e.bossesDefeated||n.bossesDefeated,playerXP:e.playerXP||n.playerXP,playerLevel:e.playerLevel||n.playerLevel,playerXPToNextLevel:e.playerXPToNextLevel||n.playerXPToNextLevel,talentPoints:e.talentPoints||n.talentPoints,pendingBossRewards:e.pendingBossRewards||n.pendingBossRewards,showBossRewardOnDefeat:e.showBossRewardOnDefeat||n.showBossRewardOnDefeat},a=lf("die-to-die-saved-at"),o=0;if("number"==typeof a&&!Number.isNaN(a)){let e=Math.floor((Date.now()-a)/1e3);if(e>5){let t=Math.min(e,86400);o=Math.floor(s.idleRate*t),s.coins+=o}G(a)}t(s),o>0&&(P({cupId:"ALL",amount:o,critical:!1,comboCount:0,label:"Offline Gains"}),_.current&&clearTimeout(_.current),_.current=setTimeout(()=>P(null),3e4))}catch{t(X())}else t(X())},[]),(0,x.useEffect)(()=>{e&&(e.hasSeenTutorial||I||(L(!0),$(!0)))},[e,I]),(0,x.useEffect)(()=>{let e=()=>{try{localStorage.setItem("guideInProgress","true")}catch{}ee(0),Z(!0)};return window.addEventListener("start-guided-walkthrough",e),()=>{window.removeEventListener("start-guided-walkthrough",e)}},[]),(0,x.useEffect)(()=>{if(!ed||!ei)return void H(!1);let e=!!lf(`die-to-die-save:ranked:${ei}`),t="1"===lf(`die-to-die-mode-prompt-shown:${ei}`);e||t?H(!1):H(!0)},[ed,ei]),(0,x.useEffect)(()=>{e&&!e.cups.some(e=>e.dice&&e.dice.length>0)&&e.bag.length>0&&t(e=>{if(!e)return e;let t=e.cups.findIndex(e=>e.unlocked);if(-1===t)return e;let n=[...e.bag],r=n.shift();if(!r)return e;let s=[...e.cups];return s[t]={...s[t],dice:[r]},{...e,bag:n,cups:s}})},[e,ei]),(0,x.useEffect)(()=>{if(!e)return;let t="ranked"===e.mode&&ei?`die-to-die-save:ranked:${ei}`:"die-to-die-save",n="ranked"===e.mode&&ei?`die-to-die-saved-at:ranked:${ei}`:"die-to-die-saved-at";lh(t,e),lh(n,Date.now()),G(Date.now());let r=setInterval(()=>{let t="ranked"===e.mode&&ei?`die-to-die-save:ranked:${ei}`:"die-to-die-save",n="ranked"===e.mode&&ei?`die-to-die-saved-at:ranked:${ei}`:"die-to-die-saved-at";lh(t,e),lh(n,Date.now()),G(Date.now())},3e4),s=()=>{if(e){let t="ranked"===e.mode&&ei?`die-to-die-save:ranked:${ei}`:"die-to-die-save",n="ranked"===e.mode&&ei?`die-to-die-saved-at:ranked:${ei}`:"die-to-die-saved-at";lh(t,e),lh(n,Date.now()),G(Date.now())}};return window.addEventListener("beforeunload",s),document.addEventListener("visibilitychange",s),()=>{clearInterval(r),window.removeEventListener("beforeunload",s),document.removeEventListener("visibilitychange",s)}},[e]),(0,x.useEffect)(()=>{let e=()=>q(!0);return window.addEventListener("open-meme-cards",e),()=>{window.removeEventListener("open-meme-cards",e)}},[]),(0,x.useEffect)(()=>{let e=e=>new Promise(t=>setTimeout(t,e)),t=async()=>{try{(0,aD.toast)("Coins",{description:"Coins accumulate after each roll; see the gold total."}),await e(1800),r(!0),(0,aD.toast)("Cups & Slots",{description:"Open Shop to expand cup slots and boost multipliers."}),await e(2500),r(!1),u(!0),(0,aD.toast)("Bag",{description:"Manage dice: remove inactive or reorganize your bag."}),await e(2200),u(!1),f(!0),(0,aD.toast)("Talents",{description:"Spend points from leveling to enhance rolling power."}),await e(2200),f(!1),c(!0),(0,aD.toast)("Adventures",{description:"Send dice on missions to earn stronger dice and coins."}),await e(2400),c(!1),S(!0),(0,aD.toast)("Boosters",{description:"NFTs/FTs grant run-wide multipliers; track them in Profile."}),await e(2600),S(!1),w(!0),(0,aD.toast)("Wallet",{description:"Create/connect a WAX wallet to play ranked on-chain."}),await e(3e3),w(!1),(0,aD.toast)("Roll Dice",{description:"Click cups to roll. Fill slots for optimal per-roll gains."}),await e(2800),(0,aD.toast)("Good luck!",{description:"Have fun and chase big combos!"})}catch(e){}},n=()=>{t()};return window.addEventListener("start-guided-walkthrough",n),()=>{window.removeEventListener("start-guided-walkthrough",n)}},[aD.toast]),(0,x.useEffect)(()=>{if(!e||0===e.idleRate)return;let n=setInterval(()=>{t(e=>e?{...e,coins:e.coins+e.idleRate/4}:e)},250);return()=>clearInterval(n)},[e]);let ep=(0,x.useCallback)(async n=>{if(e){if(C(e=>new Set(e).add(n)),t(e=>{if(!e)return e;let t=e.cups.findIndex(e=>e.id===n);if(-1===t)return e;let r=e.cups[t],s=new Set(e.inactiveDiceIds||[]),a=e.bag.filter(e=>!s.has(e.id)),o=[];{let e=[...a];for(let t=0;t<Math.min(r.slots,e.length);t++){let t=Math.floor(Math.random()*e.length);o.push({...e[t]}),e.splice(t,1)}}let{dice:i,score:l,combo:c,rerolls:d}=F(r,a,e.talents,e.prestigeTalents,o),u=O(l,e.talents),h=Math.floor(Math.floor(Math.floor(u.score*(e.prestigeTalents?.manualSingleCupX10Mult?10:1))*(1+.05*(e.prestigeLevel||0)))*(ec||1)),f=[...e.cups];f[t]={...r,dice:i,score:h};let m=f.reduce((e,t)=>e+t.score,0),p=1+.1*(e.talents?.idleBoost||0),x=1+.1*(e.prestigeTalents?.idleRateBonus||0),g=.1*m*e.upgrades.idleMultiplier*p*x,b=J.length?J.slice(-5).reduce((e,t)=>e+t,0)/Math.min(5,J.length):0,v=b>0&&(h>3*b||h>5*(J[J.length-1]||0)),y=eu(h);P({cupId:n,amount:h,critical:u.critical,rerolls:d,comboTypes:c?[c.type]:[],massiveSpike:v,comboCount:y,label:v?"MEGA SPIKE!":y>=3?"Chain Reaction!":void 0});let w=h>=200||v?2500:h>=50?1800:h>=10?1500:1200;_.current&&clearTimeout(_.current),_.current=setTimeout(()=>P(null),w),Y(e=>[...e.slice(-4),h]),h>=200&&!D.current.diceMaster&&(D.current.diceMaster=!0,eh("Dice Master!","rare")),v&&!D.current.megaSpike&&(D.current.megaSpike=!0,eh("Mega Spike!","epic")),y>=3&&eh(`Combo x${y}!`,"rare");let j=Math.floor(.05*h*(1+.1*(e.prestigeTalents?.xpGainBonus||0))),N=e.playerXP+j,k=W(e.playerLevel),C=e.playerLevel,M=e.talentPoints,S=N;N>=k&&(C+=1,M+=1,S=N-k);let R=1+.1*(e.talents?.coinMultiplier||0);return{...e,cups:f,totalScore:m,idleRate:g,coins:e.coins+Math.floor(h*R),playerXP:S,playerLevel:C,playerXPToNextLevel:W(C),talentPoints:M,stats:{...e.stats,totalRolls:e.stats.totalRolls+1,bestCombo:c?.type||e.stats.bestCombo,highestScore:Math.max(e.stats.highestScore,h)}}}),"ranked"===e.mode&&ei){let t=rj(ei),r=rN(ei,t);if(!await el({type:rv.ActionType.ROLL,runId:t,nonce:r,timestamp:Date.now(),params:{cupId:n,all:!1}},{token:"WAX"===e.preferredPaymentMethod?"WAX":"PXJ"}))return}setTimeout(()=>{C(e=>{let t=new Set(e);return t.delete(n),t})},600)}},[e]),ex=(0,x.useCallback)(()=>{if(e){if(C(new Set(e.cups.filter(e=>e.unlocked).map(e=>e.id))),t(e=>{if(!e)return e;let t={...e},n=0,r=!1,s=0,a=[];e.cups.forEach(o=>{if(!o.unlocked)return;let i=e.cups.findIndex(e=>e.id===o.id);if(-1===i)return;let l=new Set(e.inactiveDiceIds||[]),c=e.bag.filter(e=>!l.has(e.id)),d=Math.min(o.slots,c.length),u=[];{let e=[...c];for(let t=0;t<d;t++){let t=Math.floor(Math.random()*e.length);u.push({...e[t]}),e.splice(t,1)}}let{dice:h,score:f,combo:m,rerolls:p}=F(o,c,e.talents,e.prestigeTalents,u);n+=h.length,s+=p;let x=O(f,t.talents);x.critical&&(r=!0);let g=Math.floor(Math.floor(x.score*(1+.05*(t.prestigeLevel||0)))*(ec||1));t.cups[i]={...o,dice:h,score:g};let b=1+.1*(t.talents?.coinMultiplier||0);t.coins+=Math.floor(g*b),t.stats.totalRolls+=1,m&&(t.stats.bestCombo=m.type,a.push(m.type)),t.stats.highestScore=Math.max(t.stats.highestScore,g)});let o=t.cups.reduce((e,t)=>e+t.score,0);t.totalScore=o,t.stats.highestAllCupsRoll=Math.max(t.stats.highestAllCupsRoll||0,o),t.stats.tenDiceRoll10Count=(t.stats.tenDiceRoll10Count||0)+ +(n>=10);let i=1+.1*(t.talents?.idleBoost||0),l=1+.1*(t.prestigeTalents?.idleRateBonus||0);t.idleRate=.1*o*t.upgrades.idleMultiplier*i*l;let c=J.length?J.slice(-5).reduce((e,t)=>e+t,0)/Math.min(5,J.length):0,d=c>0&&(o>3*c||o>5*(J[J.length-1]||0)),u=eu(o);P({cupId:"ALL",amount:o,critical:r,rerolls:s,comboTypes:a,massiveSpike:d,comboCount:u,label:d?"MEGA SPIKE!":"All Cups"});let h=o>=200||d?2500:o>=50?1800:o>=10?1500:1200;_.current&&clearTimeout(_.current),_.current=setTimeout(()=>P(null),h),Y(e=>[...e.slice(-4),o]),o>=400&&!D.current.diceMaster&&(D.current.diceMaster=!0,eh("Dice Master!","rare")),d&&!D.current.megaSpike&&(D.current.megaSpike=!0,eh("Mega Spike!","epic")),u>=3&&eh(`Combo x${u}!`,"rare");let f=Math.floor(.05*o*(1+.1*(t.prestigeTalents?.xpGainBonus||0))),m=t.playerXP+f,p=W(t.playerLevel);return m>=p?(t.playerLevel+=1,t.talentPoints+=1,t.playerXP=m-p,t.playerXPToNextLevel=W(t.playerLevel)):t.playerXP=m,t}),"ranked"===e.mode&&ei){let t=rj(ei),n=rN(ei,t),r=e.cups.filter(e=>e.unlocked).map(e=>e.id);el({type:rv.ActionType.ROLL,runId:t,nonce:n,timestamp:Date.now(),params:{cupIds:r,all:!0}},{token:"WAX"===e.preferredPaymentMethod?"WAX":"PXJ"})}setTimeout(()=>{C(new Set)},600)}},[e]);(0,x.useEffect)(()=>{if(!e||!e.autoRollEnabled)return;let t=setInterval(()=>{ex()},1e3*e.autoRollInterval);return()=>clearInterval(t)},[e]),(0,x.useEffect)(()=>{e&&e.coins>=e.bossThreshold&&(t(e=>{if(!e)return e;let t=50*(1+.1*e.prestigeTalents.xpGainBonus),n=e.playerXP+t,r=W(e.playerLevel),s=e.playerLevel,a=e.talentPoints,o=n;return n>=r&&(s+=1,a+=1,o=n-r),{...e,level:e.level+1,bossesDefeated:e.bossesDefeated+1,bossThreshold:Math.floor(2.5*e.bossThreshold),playerXP:o,playerLevel:s,playerXPToNextLevel:W(s),talentPoints:a,pendingBossRewards:e.pendingBossRewards+1}}),e.showBossRewardOnDefeat&&v(!0))},[e]);let eg=(0,x.useCallback)(()=>{let e=X();t(e),lh("die-to-die-save",e)},[]);if(!e)return(0,p.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,p.jsx)("div",{className:"text-2xl font-bold",children:"Loading Px/Die..."})});let eb=Math.min(100,Math.floor(e.playerXP/Math.max(1,e.playerXPToNextLevel)*100)),ev=Math.min(100,Math.floor(e.coins/Math.max(1,e.bossThreshold)*100)),ey=lm(e.coins);return(0,p.jsxs)("div",{className:"min-h-screen felt-bg overflow-hidden",children:[(0,p.jsxs)("div",{className:"fixed inset-0 opacity-10 pointer-events-none",children:[(0,p.jsx)("div",{className:"absolute top-10 left-10 w-32 h-32 bg-casino-gold rounded-full blur-3xl"}),(0,p.jsx)("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-casino-cyan rounded-full blur-3xl"}),(0,p.jsx)("div",{className:"absolute top-1/2 left-1/3 w-36 h-36 bg-casino-pink rounded-full blur-3xl"})]}),(0,p.jsxs)("div",{className:"relative z-10",children:[(0,p.jsx)(ab,{gameState:e,onToggleShop:()=>r(!n),onToggleSettings:()=>a(!s),onToggleAchievements:()=>i(!o),onToggleAdventures:()=>c(!l),onToggleBag:()=>u(!d),onToggleTalents:()=>f(!h),onTogglePrestige:()=>g(!m),onToggleWallet:()=>w(!y),onToggleProfile:()=>S(!M),onToggleMemeCards:()=>q(!V),lastSavedAt:B}),!1,(0,p.jsx)("div",{className:"border-b border-white/10 bg-black/30",children:(0,p.jsxs)("div",{className:"container mx-auto px-4 py-2 flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"w-full max-w-md space-y-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"text-xs text-muted-foreground mb-1",children:["Level ",e.playerLevel," (",e.playerXP,"/",e.playerXPToNextLevel,")"]}),(0,p.jsx)("div",{className:"h-2 bg-black/30 border border-white/10 rounded",children:(0,p.jsx)("div",{className:"h-full bg-casino-gold rounded",style:{width:`${eb}%`}})})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"text-xs text-muted-foreground mb-1 flex items-center justify-between",children:[(0,p.jsxs)("span",{children:["Boss Encounter (",lm(e.coins),"/",lm(e.bossThreshold),")"]}),e.pendingBossRewards>0&&!b&&(0,p.jsx)("button",{type:"button",title:`Claim boss reward (${e.pendingBossRewards})`,onClick:()=>v(!0),className:"ml-2 text-base leading-none cursor-pointer select-none hover:scale-105 transition-transform",children:""})]}),(0,p.jsx)("div",{className:"h-2 bg-black/30 border border-white/10 rounded",children:(0,p.jsx)("div",{className:"h-full bg-casino-pink rounded",style:{width:`${ev}%`}})})]})]}),(0,p.jsx)("div",{className:"ml-6 relative",children:(0,p.jsx)("div",{className:"bg-black/40 backdrop-blur-sm border border-white/10 rounded-lg px-3 py-2 shadow-md",children:(0,p.jsx)("span",{className:"font-bold text-casino-gold text-2xl md:text-3xl tracking-tight",children:ey})})})]})}),(0,p.jsx)("main",{className:"container mx-auto px-4 py-6",children:(0,p.jsx)(rS,{gameState:e,setGameState:ef,onRollCup:ep,onRollAll:ex,rollingCups:k,onOpenShop:()=>r(!0),lastRollOverlay:R,achievementPopups:T})}),(0,p.jsx)(ae,{open:n,onOpenChange:r,children:(0,p.jsx)(ar,{side:"bottom",className:"max-h-[95vh] overflow-y-auto",children:(0,p.jsx)(ay,{embedded:!0,gameState:e,setGameState:ef,onClose:()=>r(!1)})})}),(0,p.jsx)(ae,{open:s,onOpenChange:a,children:(0,p.jsx)(ar,{side:"bottom",className:"max-h-[95vh] overflow-y-auto",children:(0,p.jsx)(aN,{embedded:!0,gameState:e,setGameState:ef,onClose:()=>a(!1),onResetGame:eg,onOpenTutorial:()=>L(!0),pwaInstallAvailable:er,onInstallApp:em})})}),(0,p.jsx)(ae,{open:o,onOpenChange:i,children:(0,p.jsx)(ar,{side:"bottom",className:"max-h-[95vh] overflow-y-auto",children:(0,p.jsx)(aM,{embedded:!0,gameState:e,onClose:()=>i(!1)})})}),(0,p.jsx)(ae,{open:l,onOpenChange:c,children:(0,p.jsx)(ar,{side:"bottom",className:"max-h-[95vh] overflow-y-auto",children:(0,p.jsx)(aR,{embedded:!0,gameState:e,setGameState:ef,onClose:()=>c(!1)})})}),(0,p.jsx)(ae,{open:d,onOpenChange:u,children:(0,p.jsx)(ar,{side:"bottom",className:"max-h-[95vh] overflow-y-auto",children:(0,p.jsx)(aE,{embedded:!0,gameState:e,setGameState:ef,onClose:()=>u(!1)})})}),(0,p.jsx)(ae,{open:h,onOpenChange:f,children:(0,p.jsx)(ar,{side:"bottom",className:"max-h-[95vh] overflow-y-auto",children:(0,p.jsx)(a_,{embedded:!0,gameState:e,setGameState:ef,onClose:()=>f(!1)})})}),(0,p.jsx)(ae,{open:m,onOpenChange:g,children:(0,p.jsx)(ar,{side:"bottom",className:"max-h-[95vh] overflow-y-auto",children:(0,p.jsx)(aL,{embedded:!0,gameState:e,setGameState:ef,onClose:()=>g(!1)})})}),(0,p.jsx)(ae,{open:M,onOpenChange:S,children:(0,p.jsx)(ar,{side:"bottom",className:"max-h-[95vh] overflow-y-auto",children:(0,p.jsx)("div",{className:"bg-black/40 backdrop-blur-md border-t border-white/10 rounded-t-lg",children:(0,p.jsx)(a5,{gameState:e,onClose:()=>S(!1),onOpenInventory:()=>N(!0),onOpenMemecards:()=>q(!0)})})})}),(0,p.jsx)(ae,{open:V,onOpenChange:q,children:(0,p.jsx)(ar,{side:"bottom",className:"max-h-[95vh] overflow-y-auto",children:(0,p.jsx)(lc,{embedded:!0,onClose:()=>q(!1)})})}),b&&(0,p.jsx)(aF,{gameState:e,setGameState:ef,onClose:()=>v(!1)}),y&&(0,p.jsx)(aK,{gameState:e,setGameState:ef,onClose:()=>w(!1),onOpenInventory:()=>N(!0),onOpenMemecards:()=>q(!0),onOpenTalents:()=>f(!0)}),j&&(0,p.jsx)(ae,{open:j,onOpenChange:N,children:(0,p.jsx)(ar,{side:"bottom",className:"max-h-[95vh] overflow-y-auto",children:(0,p.jsx)(a0,{embedded:!0,onClose:()=>N(!1)})})}),z&&(0,p.jsx)(a3,{gameState:e,setGameState:ef,onClose:()=>L(!1)}),U&&(0,p.jsx)(a7,{gameState:e,setGameState:ef,onClose:()=>{ei&&lh(`die-to-die-mode-prompt-shown:${ei}`,"1"),H(!1)}}),K&&(0,p.jsx)(a8,{open:K,steps:eo,stepIndex:Q,onAdvance:()=>{ee(e=>e+1>=eo.length?(Z(!1),e):e+1)},onClose:()=>Z(!1)})]})]})}e.s(["default",()=>lp],56312)}]);