(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9272,e=>{"use strict";let t;var r,n,i,o,a,s,u,c,h,l,f,d,p,g,y,b,_,v,m,w,x,S,A,E,k,R,O=e.i(95535),P=e.i(37294),T=e.i(98008),M="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:e.g;function C(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}),r}var L={},B={},I={},D={},U=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw TypeError("Invalid attempt to destructure non-iterable instance")},j=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),z=function(){function e(){if(!(this instanceof e))throw TypeError("Cannot call a class as a function")}return j(e,null,[{key:"get_n_pad_bytes",value:function(e){return 64-(e+8&63)}},{key:"pad",value:function(t){var r=t.byteLength,n=e.get_n_pad_bytes(r),i=U([Math.floor(r/0x20000000),r%0x20000000].map(function(e,t){return t?8*e:e}),2),o=i[0],a=i[1],s=new Uint8Array(r+n+8);s.set(new Uint8Array(t),0);var u=new DataView(s.buffer);return u.setUint8(r,128),u.setUint32(r+n,a,!0),u.setUint32(r+n+4,o,!0),s.buffer}},{key:"f",value:function(e,t,r,n){return 0<=e&&e<=15?t^r^n:16<=e&&e<=31?t&r|~t&n:32<=e&&e<=47?(t|~r)^n:48<=e&&e<=63?t&n|r&~n:64<=e&&e<=79?t^(r|~n):void 0}},{key:"K",value:function(e){return 0<=e&&e<=15?0:16<=e&&e<=31?0x5a827999:32<=e&&e<=47?0x6ed9eba1:48<=e&&e<=63?0x8f1bbcdc:64<=e&&e<=79?0xa953fd4e:void 0}},{key:"KP",value:function(e){return 0<=e&&e<=15?0x50a28be6:16<=e&&e<=31?0x5c4dd124:32<=e&&e<=47?0x6d703ef3:48<=e&&e<=63?0x7a6d76e9:64<=e&&e<=79?0:void 0}},{key:"add_modulo32",value:function(){return 0|Array.from(arguments).reduce(function(e,t){return e+t},0)}},{key:"rol32",value:function(e,t){return e<<t|e>>>32-t}},{key:"hash",value:function(t){for(var r=e.pad(t),n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],i=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],o=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],a=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],s=r.byteLength/64,u=Array(s).fill(void 0).map(function(e,t){return function(e){return new DataView(r,64*t,64).getUint32(4*e,!0)}}),c=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],h=0;h<s;++h){for(var l=c[0],f=c[1],d=c[2],p=c[3],g=c[4],y=l,b=f,_=d,v=p,m=g,w=0;w<80;++w){var x=e.add_modulo32(e.rol32(e.add_modulo32(l,e.f(w,f,d,p),u[h](n[w]),e.K(w)),o[w]),g);l=g,g=p,p=e.rol32(d,10),d=f,f=x,x=e.add_modulo32(e.rol32(e.add_modulo32(y,e.f(79-w,b,_,v),u[h](i[w]),e.KP(w)),a[w]),m),y=m,m=v,v=e.rol32(_,10),_=b,b=x}var S=e.add_modulo32(c[1],d,v);c[1]=e.add_modulo32(c[2],p,m),c[2]=e.add_modulo32(c[3],g,y),c[3]=e.add_modulo32(c[4],l,b),c[4]=e.add_modulo32(c[0],f,_),c[0]=S}var A=new ArrayBuffer(20),E=new DataView(A);return c.forEach(function(e,t){return E.setUint32(4*t,e,!0)}),A}}]),e}();!function(e){var t,r,n=M&&M.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=M&&M.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e},o=M&&M.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(e,"__esModule",{value:!0});var a=z.hash,s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=function(){for(var e=Array(256).fill(-1),t=0;t<s.length;++t)e[s.charCodeAt(t)]=t;return e}(),h=function(){for(var e=Array(256).fill(-1),t=0;t<u.length;++t)e[u.charCodeAt(t)]=t;return e[61]=0,e}();function l(e){return(128&e[e.length-1])!=0}function f(e){for(var t=1,r=0;r<e.length;++r){var n=(255&~e[r])+t;e[r]=n,t=n>>8}}function d(e,t){for(var r=new Uint8Array(e),n=0;n<t.length;++n){var i=t.charCodeAt(n);if(i<48||i>57)throw Error("invalid number");for(var o=i-48,a=0;a<e;++a){var s=10*r[a]+o;r[a]=s,o=s>>8}if(o)throw Error("number is out of range")}return r}function p(e,t){void 0===t&&(t=1);for(var r=Array(t).fill(48),n=e.length-1;n>=0;--n){for(var o=e[n],a=0;a<r.length;++a){var s=(r[a]-48<<8)+o;r[a]=48+s%10,o=s/10|0}for(;o;)r.push(48+o%10),o=o/10|0}return r.reverse(),String.fromCharCode.apply(String,i(r))}function g(e,t){for(var r=new Uint8Array(e),n=0;n<t.length;++n){var i=c[t.charCodeAt(n)];if(i<0)throw Error("invalid base-58 value");for(var o=0;o<e;++o){var a=58*r[o]+i;r[o]=a,i=a>>8}if(i)throw Error("base-58 value is out of range")}return r.reverse(),r}function y(e,t){var r,n,a,u,h=[];try{for(var l=o(e),f=l.next();!f.done;f=l.next()){for(var d=f.value,p=d,g=0;g<h.length;++g){var y=(c[h[g]]<<8)+p;h[g]=s.charCodeAt(y%58),p=y/58|0}for(;p;)h.push(s.charCodeAt(p%58)),p=p/58|0}}catch(e){r={error:e}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}try{for(var b=o(e),_=b.next();!_.done;_=b.next()){var d=_.value;if(d)break;h.push(49)}}catch(e){a={error:e}}finally{try{_&&!_.done&&(u=b.return)&&u.call(b)}finally{if(a)throw a.error}}return h.reverse(),String.fromCharCode.apply(String,i(h))}function b(e,t){for(var r=new Uint8Array(e.length+t.length),n=0;n<e.length;++n)r[n]=e[n];for(var n=0;n<t.length;++n)r[e.length+n]=t.charCodeAt(n);return a(r)}function _(e,t,r,n){var i=g(r+4,e),o={type:t,data:new Uint8Array(i.buffer,0,r)},a=new Uint8Array(b(o.data,n));if(a[0]!==i[r+0]||a[1]!==i[r+1]||a[2]!==i[r+2]||a[3]!==i[r+3])throw Error("checksum doesn't match");return o}function v(e,t,r){for(var n=new Uint8Array(b(e.data,t)),i=new Uint8Array(e.data.length+4),o=0;o<e.data.length;++o)i[o]=e.data[o];for(var o=0;o<4;++o)i[o+e.data.length]=n[o];return r+y(i)}function m(t){if("string"!=typeof t)throw Error("expected string containing public key");if("EOS"===t.substr(0,3)){for(var n=g(e.publicKeyDataSize+4,t.substr(3)),i={type:r.k1,data:new Uint8Array(e.publicKeyDataSize)},o=0;o<e.publicKeyDataSize;++o)i.data[o]=n[o];var s=new Uint8Array(a(i.data));if(s[0]!==n[e.publicKeyDataSize]||s[1]!==n[34]||s[2]!==n[35]||s[3]!==n[36])throw Error("checksum doesn't match");return i}if("PUB_K1_"===t.substr(0,7))return _(t.substr(7),r.k1,e.publicKeyDataSize,"K1");if("PUB_R1_"===t.substr(0,7))return _(t.substr(7),r.r1,e.publicKeyDataSize,"R1");throw Error("unrecognized public key format")}function w(t){if(t.type===r.k1&&t.data.length===e.publicKeyDataSize)return v(t,"K1","PUB_K1_");if(t.type===r.r1&&t.data.length===e.publicKeyDataSize)return v(t,"R1","PUB_R1_");throw Error("unrecognized public key format")}function x(e){return"EOS"===e.substr(0,3)?w(m(e)):e}e.isNegative=l,e.negate=f,e.decimalToBinary=d,e.signedDecimalToBinary=function(e,t){var r="-"===t[0];r&&(t=t.substr(1));var n=d(e,t);if(r){if(f(n),!l(n))throw Error("number is out of range")}else if(l(n))throw Error("number is out of range");return n},e.binaryToDecimal=p,e.signedBinaryToDecimal=function(e,t){if(void 0===t&&(t=1),l(e)){var r=e.slice();return f(r),"-"+p(r,t)}return p(e,t)},e.base58ToBinary=g,e.binaryToBase58=y,e.base64ToBinary=function(e){var t=e.length;if((3&t)==1&&"="===e[t-1]&&(t-=1),(3&t)!=0)throw Error("base-64 value is not padded correctly");var r=t>>2,n=3*r;t>0&&"="===e[t-1]&&("="===e[t-2]?n-=2:n-=1);for(var i=new Uint8Array(n),o=0;o<r;++o){var a=h[e.charCodeAt(4*o+0)],s=h[e.charCodeAt(4*o+1)],u=h[e.charCodeAt(4*o+2)],c=h[e.charCodeAt(4*o+3)];i[3*o+0]=a<<2|s>>4,3*o+1<n&&(i[3*o+1]=(15&s)<<4|u>>2),3*o+2<n&&(i[3*o+2]=(3&u)<<6|c)}return i},(t=r=e.KeyType||(e.KeyType={}))[t.k1=0]="k1",t[t.r1=1]="r1",e.publicKeyDataSize=33,e.privateKeyDataSize=32,e.signatureDataSize=65,e.stringToPublicKey=m,e.publicKeyToString=w,e.convertLegacyPublicKey=x,e.convertLegacyPublicKeys=function(e){return e.map(x)},e.stringToPrivateKey=function(t){if("string"!=typeof t)throw Error("expected string containing private key");if("PVT_R1_"===t.substr(0,7))return _(t.substr(7),r.r1,e.privateKeyDataSize,"R1");throw Error("unrecognized private key format")},e.privateKeyToString=function(e){if(e.type===r.r1)return v(e,"R1","PVT_R1_");throw Error("unrecognized private key format")},e.stringToSignature=function(t){if("string"!=typeof t)throw Error("expected string containing signature");if("SIG_K1_"===t.substr(0,7))return _(t.substr(7),r.k1,e.signatureDataSize,"K1");if("SIG_R1_"===t.substr(0,7))return _(t.substr(7),r.r1,e.signatureDataSize,"R1");throw Error("unrecognized signature format")},e.signatureToString=function(e){if(e.type===r.k1)return v(e,"K1","SIG_K1_");if(e.type===r.r1)return v(e,"R1","SIG_R1_");throw Error("unrecognized signature format")}}(D),D.default;var F=M&&M.__assign||function(){return(F=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},W=M&&M.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},N=M&&M.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(W(arguments[t]));return e},q=M&&M.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(I,"__esModule",{value:!0});var K=function(e){void 0===e&&(e={}),this.skippedBinaryExtension=!1,this.options=e};I.SerializerState=K;var H=function(){function e(e){var t=void 0===e?{}:e,r=t.textEncoder,n=t.textDecoder,i=t.array;this.readPos=0,this.array=i||new Uint8Array(1024),this.length=i?i.length:0,this.textEncoder=r||new TextEncoder,this.textDecoder=n||new TextDecoder("utf-8",{fatal:!0})}return e.prototype.reserve=function(e){if(!(this.length+e<=this.array.length)){for(var t=this.array.length;this.length+e>t;)t=Math.ceil(1.5*t);var r=new Uint8Array(t);r.set(this.array),this.array=r}},e.prototype.haveReadData=function(){return this.readPos<this.length},e.prototype.restartRead=function(){this.readPos=0},e.prototype.asUint8Array=function(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.length)},e.prototype.pushArray=function(e){this.reserve(e.length),this.array.set(e,this.length),this.length+=e.length},e.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.pushArray(e)},e.prototype.get=function(){if(this.readPos<this.length)return this.array[this.readPos++];throw Error("Read past end of buffer")},e.prototype.pushUint8ArrayChecked=function(e,t){if(e.length!==t)throw Error("Binary data has incorrect size");this.pushArray(e)},e.prototype.getUint8Array=function(e){if(this.readPos+e>this.length)throw Error("Read past end of buffer");var t=new Uint8Array(this.array.buffer,this.array.byteOffset+this.readPos,e);return this.readPos+=e,t},e.prototype.pushUint16=function(e){this.push(255&e,e>>8&255)},e.prototype.getUint16=function(){return this.get()|this.get()<<8},e.prototype.pushUint32=function(e){this.push(255&e,e>>8&255,e>>16&255,e>>24&255)},e.prototype.getUint32=function(){return(this.get()|this.get()<<8|this.get()<<16|this.get()<<24)>>>0},e.prototype.pushNumberAsUint64=function(e){this.pushUint32(e>>>0),this.pushUint32(Math.floor(e/0x100000000)>>>0)},e.prototype.getUint64AsNumber=function(){var e=this.getUint32();return(this.getUint32()>>>0)*0x100000000+(e>>>0)},e.prototype.pushVaruint32=function(e){for(;;)if(e>>>7)this.push(128|127&e),e>>>=7;else{this.push(e);break}},e.prototype.getVaruint32=function(){for(var e=0,t=0;;){var r=this.get();if(e|=(127&r)<<t,t+=7,!(128&r))break}return e>>>0},e.prototype.pushVarint32=function(e){this.pushVaruint32(e<<1^e>>31)},e.prototype.getVarint32=function(){var e=this.getVaruint32();return 1&e?~e>>1|0x80000000:e>>>1},e.prototype.pushFloat32=function(e){this.pushArray(new Uint8Array(new Float32Array([e]).buffer))},e.prototype.getFloat32=function(){return new Float32Array(this.getUint8Array(4).slice().buffer)[0]},e.prototype.pushFloat64=function(e){this.pushArray(new Uint8Array(new Float64Array([e]).buffer))},e.prototype.getFloat64=function(){return new Float64Array(this.getUint8Array(8).slice().buffer)[0]},e.prototype.pushName=function(e){if("string"!=typeof e)throw Error("Expected string containing name");for(var t=new Uint8Array(8),r=63,n=0;n<e.length;++n){var i,o=(i=e.charCodeAt(n))>=97&&i<=122?i-97+6:i>=49&&i<=53?i-49+1:0;r<5&&(o<<=1);for(var a=4;a>=0;--a)r>=0&&(t[Math.floor(r/8)]|=(o>>a&1)<<r%8,--r)}this.pushArray(t)},e.prototype.getName=function(){for(var e=this.getUint8Array(8),t="",r=63;r>=0;){for(var n=0,i=0;i<5;++i)r>=0&&(n=n<<1|e[Math.floor(r/8)]>>r%8&1,--r);n>=6?t+=String.fromCharCode(n+97-6):n>=1?t+=String.fromCharCode(n+49-1):t+="."}for(;t.endsWith(".");)t=t.substr(0,t.length-1);return t},e.prototype.pushBytes=function(e){this.pushVaruint32(e.length),this.pushArray(e)},e.prototype.getBytes=function(){return this.getUint8Array(this.getVaruint32())},e.prototype.pushString=function(e){this.pushBytes(this.textEncoder.encode(e))},e.prototype.getString=function(){return this.textDecoder.decode(this.getBytes())},e.prototype.pushSymbolCode=function(e){if("string"!=typeof e)throw Error("Expected string containing symbol_code");var t=[];for(t.push.apply(t,N(this.textEncoder.encode(e)));t.length<8;)t.push(0);this.pushArray(t.slice(0,8))},e.prototype.getSymbolCode=function(){var e,t=this.getUint8Array(8);for(e=0;e<t.length&&t[e];++e);return this.textDecoder.decode(new Uint8Array(t.buffer,t.byteOffset,e))},e.prototype.pushSymbol=function(e){var t=e.name,r=[255&e.precision];for(r.push.apply(r,N(this.textEncoder.encode(t)));r.length<8;)r.push(0);this.pushArray(r.slice(0,8))},e.prototype.getSymbol=function(){var e,t=this.get(),r=this.getUint8Array(7);for(e=0;e<r.length&&r[e];++e);return{name:this.textDecoder.decode(new Uint8Array(r.buffer,r.byteOffset,e)),precision:t}},e.prototype.pushAsset=function(e){if("string"!=typeof e)throw Error("Expected string containing asset");e=e.trim();var t=0,r="",n=0;"-"===e[0]&&(r+="-",++t);for(var i=!1;t<e.length&&e.charCodeAt(t)>=48&&57>=e.charCodeAt(t);)i=!0,r+=e[t],++t;if(!i)throw Error("Asset must begin with a number");if("."===e[t])for(++t;t<e.length&&e.charCodeAt(t)>=48&&57>=e.charCodeAt(t);)r+=e[t],++n,++t;var o=e.substr(t).trim();this.pushArray(D.signedDecimalToBinary(8,r)),this.pushSymbol({name:o,precision:n})},e.prototype.getAsset=function(){var e=this.getUint8Array(8),t=this.getSymbol(),r=t.name,n=t.precision,i=D.signedBinaryToDecimal(e,n+1);return n&&(i=i.substr(0,i.length-n)+"."+i.substr(i.length-n)),i+" "+r},e.prototype.pushPublicKey=function(e){var t=D.stringToPublicKey(e);this.push(t.type),this.pushArray(t.data)},e.prototype.getPublicKey=function(){var e=this.get(),t=this.getUint8Array(D.publicKeyDataSize);return D.publicKeyToString({type:e,data:t})},e.prototype.pushPrivateKey=function(e){var t=D.stringToPrivateKey(e);this.push(t.type),this.pushArray(t.data)},e.prototype.getPrivateKey=function(){var e=this.get(),t=this.getUint8Array(D.privateKeyDataSize);return D.privateKeyToString({type:e,data:t})},e.prototype.pushSignature=function(e){var t=D.stringToSignature(e);this.push(t.type),this.pushArray(t.data)},e.prototype.getSignature=function(){var e=this.get(),t=this.getUint8Array(D.signatureDataSize);return D.signatureToString({type:e,data:t})},e}();function V(e){var t=Date.parse(e);if(Number.isNaN(t))throw Error("Invalid time format");return t}function Y(e){return Math.round(1e3*V(e+"Z"))}function $(e){var t=new Date(e/1e3).toISOString();return t.substr(0,t.length-1)}function J(e){return Math.round(V(e+"Z")/1e3)}function X(e){var t=new Date(1e3*e).toISOString();return t.substr(0,t.length-1)}function G(e){return Math.round((V(e+"Z")-9466848e5)/500)}function Z(e){var t=new Date(500*e+9466848e5).toISOString();return t.substr(0,t.length-1)}function Q(e){if("string"!=typeof e)throw Error("Expected string containing symbol");var t=e.match(/^([0-9]+),([A-Z]+)$/);if(!t)throw Error("Invalid symbol");return{name:t[2],precision:+t[1]}}function ee(e){var t=e.name;return e.precision+","+t}function et(e){var t,r,n="";try{for(var i=q(e),o=i.next();!o.done;o=i.next()){var a=o.value;n+=("00"+a.toString(16)).slice(-2)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n.toUpperCase()}function er(e){if("string"!=typeof e)throw Error("Expected string containing hex digits");if(e.length%2)throw Error("Odd number of hex digits");for(var t=e.length/2,r=new Uint8Array(t),n=0;n<t;++n){var i=parseInt(e.substr(2*n,2),16);if(Number.isNaN(i))throw Error("Expected hex string");r[n]=i}return r}function en(e,t){throw Error("Don't know how to serialize "+this.name)}function ei(e){throw Error("Don't know how to deserialize "+this.name)}function eo(e,t,r,n){if(void 0===r&&(r=new K),void 0===n&&(n=!0),"object"!=typeof t)throw Error("expected object containing data: "+JSON.stringify(t));this.base&&this.base.serialize(e,t,r,n);try{for(var i,o,a=q(this.fields),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.name in t){if(r.skippedBinaryExtension)throw Error("unexpected "+this.name+"."+u.name);u.type.serialize(e,t[u.name],r,n&&u===this.fields[this.fields.length-1])}else if(n&&u.type.extensionOf)r.skippedBinaryExtension=!0;else throw Error("missing "+this.name+"."+u.name+" (type="+u.type.name+")")}}catch(e){i={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}function ea(e,t,r){void 0===t&&(t=new K),void 0===r&&(r=!0),o=this.base?this.base.deserialize(e,t,r):{};try{for(var n,i,o,a=q(this.fields),s=a.next();!s.done;s=a.next()){var u=s.value;r&&u.type.extensionOf&&!e.haveReadData()?t.skippedBinaryExtension=!0:o[u.name]=u.type.deserialize(e,t,r)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o}function es(e,t,r,n){if(!Array.isArray(t)||2!==t.length||"string"!=typeof t[0])throw Error('expected variant: ["type", value]');var i=this.fields.findIndex(function(e){return e.name===t[0]});if(i<0)throw Error('type "'+t[0]+'" is not valid for variant');e.pushVaruint32(i),this.fields[i].type.serialize(e,t[1],r,n)}function eu(e,t,r){var n=e.getVaruint32();if(n>=this.fields.length)throw Error("type index "+n+" is not valid for variant");var i=this.fields[n];return[i.name,i.type.deserialize(e,t,r)]}function ec(e,t,r,n){var i,o;e.pushVaruint32(t.length);try{for(var a=q(t),s=a.next();!s.done;s=a.next()){var u=s.value;this.arrayOf.serialize(e,u,r,!1)}}catch(e){i={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}function eh(e,t,r){for(var n=e.getVaruint32(),i=[],o=0;o<n;++o)i.push(this.arrayOf.deserialize(e,t,!1));return i}function el(e,t,r,n){null==t?e.push(0):(e.push(1),this.optionalOf.serialize(e,t,r,n))}function ef(e,t,r){return e.get()?this.optionalOf.deserialize(e,t,r):null}function ed(e,t,r,n){this.extensionOf.serialize(e,t,r,n)}function ep(e,t,r){return this.extensionOf.deserialize(e,t,r)}function eg(e){return F({name:"<missing name>",aliasOfName:"",arrayOf:null,optionalOf:null,extensionOf:null,baseName:"",base:null,fields:[],serialize:en,deserialize:ei},e)}function ey(e,t){if(Number.isNaN(+e)||Number.isNaN(+t)||"number"!=typeof e&&"string"!=typeof e)throw Error("Expected number");if(+e!=+t)throw Error("Number is out of range");return+e}function eb(e,t){var r=e.get(t);if(r&&r.aliasOfName)return eb(e,r.aliasOfName);if(r)return r;if(t.endsWith("[]"))return eg({name:t,arrayOf:eb(e,t.substr(0,t.length-2)),serialize:ec,deserialize:eh});if(t.endsWith("?"))return eg({name:t,optionalOf:eb(e,t.substr(0,t.length-1)),serialize:el,deserialize:ef});if(t.endsWith("$"))return eg({name:t,extensionOf:eb(e,t.substr(0,t.length-1)),serialize:ed,deserialize:ep});throw Error("Unknown type: "+t)}function e_(e,t,r,n,i,o){var a=e.actions.get(r);if(!a)throw Error("Unknown action "+r+" in contract "+t);var s=new H({textEncoder:i,textDecoder:o});return a.serialize(s,n),et(s.asUint8Array())}function ev(e,t,r,n,i,o){var a=e.actions.get(r);if("string"==typeof n&&(n=er(n)),!a)throw Error("Unknown action "+r+" in contract "+t);var s=new H({textDecoder:o,textEncoder:i});return s.pushArray(n),a.deserialize(s)}I.SerialBuffer=H,I.supportedAbiVersion=function(e){return e.startsWith("eosio::abi/1.")},I.dateToTimePoint=Y,I.timePointToDate=$,I.dateToTimePointSec=J,I.timePointSecToDate=X,I.dateToBlockTimestamp=G,I.blockTimestampToDate=Z,I.stringToSymbol=Q,I.symbolToString=ee,I.arrayToHex=et,I.hexToUint8Array=er,I.createInitialTypes=function(){var e=new Map(Object.entries({bool:eg({name:"bool",serialize:function(e,t){if("boolean"!=typeof t)throw Error("Expected true or false");e.push(+!!t)},deserialize:function(e){return!!e.get()}}),uint8:eg({name:"uint8",serialize:function(e,t){e.push(ey(t,255&t))},deserialize:function(e){return e.get()}}),int8:eg({name:"int8",serialize:function(e,t){e.push(ey(t,t<<24>>24))},deserialize:function(e){return e.get()<<24>>24}}),uint16:eg({name:"uint16",serialize:function(e,t){e.pushUint16(ey(t,65535&t))},deserialize:function(e){return e.getUint16()}}),int16:eg({name:"int16",serialize:function(e,t){e.pushUint16(ey(t,t<<16>>16))},deserialize:function(e){return e.getUint16()<<16>>16}}),uint32:eg({name:"uint32",serialize:function(e,t){e.pushUint32(ey(t,t>>>0))},deserialize:function(e){return e.getUint32()}}),uint64:eg({name:"uint64",serialize:function(e,t){e.pushArray(D.decimalToBinary(8,""+t))},deserialize:function(e){return D.binaryToDecimal(e.getUint8Array(8))}}),int64:eg({name:"int64",serialize:function(e,t){e.pushArray(D.signedDecimalToBinary(8,""+t))},deserialize:function(e){return D.signedBinaryToDecimal(e.getUint8Array(8))}}),int32:eg({name:"int32",serialize:function(e,t){e.pushUint32(ey(t,0|t))},deserialize:function(e){return 0|e.getUint32()}}),varuint32:eg({name:"varuint32",serialize:function(e,t){e.pushVaruint32(ey(t,t>>>0))},deserialize:function(e){return e.getVaruint32()}}),varint32:eg({name:"varint32",serialize:function(e,t){e.pushVarint32(ey(t,0|t))},deserialize:function(e){return e.getVarint32()}}),uint128:eg({name:"uint128",serialize:function(e,t){e.pushArray(D.decimalToBinary(16,""+t))},deserialize:function(e){return D.binaryToDecimal(e.getUint8Array(16))}}),int128:eg({name:"int128",serialize:function(e,t){e.pushArray(D.signedDecimalToBinary(16,""+t))},deserialize:function(e){return D.signedBinaryToDecimal(e.getUint8Array(16))}}),float32:eg({name:"float32",serialize:function(e,t){e.pushFloat32(t)},deserialize:function(e){return e.getFloat32()}}),float64:eg({name:"float64",serialize:function(e,t){e.pushFloat64(t)},deserialize:function(e){return e.getFloat64()}}),float128:eg({name:"float128",serialize:function(e,t){e.pushUint8ArrayChecked(er(t),16)},deserialize:function(e){return et(e.getUint8Array(16))}}),bytes:eg({name:"bytes",serialize:function(e,t){t instanceof Uint8Array||Array.isArray(t)?e.pushBytes(t):e.pushBytes(er(t))},deserialize:function(e,t){return t&&t.options.bytesAsUint8Array?e.getBytes():et(e.getBytes())}}),string:eg({name:"string",serialize:function(e,t){e.pushString(t)},deserialize:function(e){return e.getString()}}),name:eg({name:"name",serialize:function(e,t){e.pushName(t)},deserialize:function(e){return e.getName()}}),time_point:eg({name:"time_point",serialize:function(e,t){e.pushNumberAsUint64(Y(t))},deserialize:function(e){return $(e.getUint64AsNumber())}}),time_point_sec:eg({name:"time_point_sec",serialize:function(e,t){e.pushUint32(J(t))},deserialize:function(e){return X(e.getUint32())}}),block_timestamp_type:eg({name:"block_timestamp_type",serialize:function(e,t){e.pushUint32(G(t))},deserialize:function(e){return Z(e.getUint32())}}),symbol_code:eg({name:"symbol_code",serialize:function(e,t){e.pushSymbolCode(t)},deserialize:function(e){return e.getSymbolCode()}}),symbol:eg({name:"symbol",serialize:function(e,t){e.pushSymbol(Q(t))},deserialize:function(e){return ee(e.getSymbol())}}),asset:eg({name:"asset",serialize:function(e,t){e.pushAsset(t)},deserialize:function(e){return e.getAsset()}}),checksum160:eg({name:"checksum160",serialize:function(e,t){e.pushUint8ArrayChecked(er(t),20)},deserialize:function(e){return et(e.getUint8Array(20))}}),checksum256:eg({name:"checksum256",serialize:function(e,t){e.pushUint8ArrayChecked(er(t),32)},deserialize:function(e){return et(e.getUint8Array(32))}}),checksum512:eg({name:"checksum512",serialize:function(e,t){e.pushUint8ArrayChecked(er(t),64)},deserialize:function(e){return et(e.getUint8Array(64))}}),public_key:eg({name:"public_key",serialize:function(e,t){e.pushPublicKey(t)},deserialize:function(e){return e.getPublicKey()}}),private_key:eg({name:"private_key",serialize:function(e,t){e.pushPrivateKey(t)},deserialize:function(e){return e.getPrivateKey()}}),signature:eg({name:"signature",serialize:function(e,t){e.pushSignature(t)},deserialize:function(e){return e.getSignature()}})}));return e.set("extended_asset",eg({name:"extended_asset",baseName:"",fields:[{name:"quantity",typeName:"asset",type:e.get("asset")},{name:"contract",typeName:"name",type:e.get("name")}],serialize:eo,deserialize:ea})),e},I.getType=eb,I.getTypesFromAbi=function(e,t){var r,n,i,o,a,s,u,c,h,l,f=new Map(e);if(t.types)try{for(var d=q(t.types),p=d.next();!p.done;p=d.next()){var g=p.value,y=g.new_type_name,b=g.type;f.set(y,eg({name:y,aliasOfName:b}))}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}if(t.structs)try{for(var _=q(t.structs),v=_.next();!v.done;v=_.next()){var m=v.value,w=m.name,x=m.base,S=m.fields;f.set(w,eg({name:w,baseName:x,fields:S.map(function(e){var t=e.name,r=e.type;return{name:t,typeName:r,type:null}}),serialize:eo,deserialize:ea}))}}catch(e){i={error:e}}finally{try{v&&!v.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}if(t.variants)try{for(var A=q(t.variants),E=A.next();!E.done;E=A.next()){var k=E.value,R=k.name,O=k.types;f.set(R,eg({name:R,fields:O.map(function(e){return{name:e,typeName:e,type:null}}),serialize:es,deserialize:eu}))}}catch(e){a={error:e}}finally{try{E&&!E.done&&(s=A.return)&&s.call(A)}finally{if(a)throw a.error}}try{for(var P=q(f),T=P.next();!T.done;T=P.next()){var M=W(T.value,2),b=(M[0],M[1]);b.baseName&&(b.base=eb(f,b.baseName));try{for(var C=q(b.fields),L=C.next();!L.done;L=C.next()){var B=L.value;B.type=eb(f,B.typeName)}}catch(e){h={error:e}}finally{try{L&&!L.done&&(l=C.return)&&l.call(C)}finally{if(h)throw h.error}}}}catch(e){u={error:e}}finally{try{T&&!T.done&&(c=P.return)&&c.call(P)}finally{if(u)throw u.error}}return f},I.transactionHeader=function(e,t){return{expiration:X(J(e.timestamp)+t),ref_block_num:65535&e.block_num,ref_block_prefix:e.ref_block_prefix}},I.serializeActionData=e_,I.serializeAction=function(e,t,r,n,i,o,a){return{account:t,name:r,authorization:n,data:e_(e,t,r,i,o,a)}},I.deserializeActionData=ev,I.deserializeAction=function(e,t,r,n,i,o,a){return{account:t,name:r,authorization:n,data:ev(e,t,r,i,o,a)}};var em=M&&M.__assign||function(){return(em=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ew=M&&M.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},ex=M&&M.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){var u=[o,s];if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&u[0]?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}},eS=M&&M.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&(r[n[i]]=e[n[i]]);return r},eA=M&&M.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},eE=M&&M.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(eA(arguments[t]));return e},ek=M&&M.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(B,"__esModule",{value:!0});var eR={version:"eosio::abi/1.1",structs:[{name:"extensions_entry",base:"",fields:[{name:"tag",type:"uint16"},{name:"value",type:"bytes"}]},{name:"type_def",base:"",fields:[{name:"new_type_name",type:"string"},{name:"type",type:"string"}]},{name:"field_def",base:"",fields:[{name:"name",type:"string"},{name:"type",type:"string"}]},{name:"struct_def",base:"",fields:[{name:"name",type:"string"},{name:"base",type:"string"},{name:"fields",type:"field_def[]"}]},{name:"action_def",base:"",fields:[{name:"name",type:"name"},{name:"type",type:"string"},{name:"ricardian_contract",type:"string"}]},{name:"table_def",base:"",fields:[{name:"name",type:"name"},{name:"index_type",type:"string"},{name:"key_names",type:"string[]"},{name:"key_types",type:"string[]"},{name:"type",type:"string"}]},{name:"clause_pair",base:"",fields:[{name:"id",type:"string"},{name:"body",type:"string"}]},{name:"error_message",base:"",fields:[{name:"error_code",type:"uint64"},{name:"error_msg",type:"string"}]},{name:"variant_def",base:"",fields:[{name:"name",type:"string"},{name:"types",type:"string[]"}]},{name:"abi_def",base:"",fields:[{name:"version",type:"string"},{name:"types",type:"type_def[]"},{name:"structs",type:"struct_def[]"},{name:"actions",type:"action_def[]"},{name:"tables",type:"table_def[]"},{name:"ricardian_clauses",type:"clause_pair[]"},{name:"error_messages",type:"error_message[]"},{name:"abi_extensions",type:"extensions_entry[]"},{name:"variants",type:"variant_def[]$"}]}]},eO={version:"eosio::abi/1.0",types:[{new_type_name:"account_name",type:"name"},{new_type_name:"action_name",type:"name"},{new_type_name:"permission_name",type:"name"}],structs:[{name:"permission_level",base:"",fields:[{name:"actor",type:"account_name"},{name:"permission",type:"permission_name"}]},{name:"action",base:"",fields:[{name:"account",type:"account_name"},{name:"name",type:"action_name"},{name:"authorization",type:"permission_level[]"},{name:"data",type:"bytes"}]},{name:"extension",base:"",fields:[{name:"type",type:"uint16"},{name:"data",type:"bytes"}]},{name:"transaction_header",base:"",fields:[{name:"expiration",type:"time_point_sec"},{name:"ref_block_num",type:"uint16"},{name:"ref_block_prefix",type:"uint32"},{name:"max_net_usage_words",type:"varuint32"},{name:"max_cpu_usage_ms",type:"uint8"},{name:"delay_sec",type:"varuint32"}]},{name:"transaction",base:"transaction_header",fields:[{name:"context_free_actions",type:"action[]"},{name:"actions",type:"action[]"},{name:"transaction_extensions",type:"extension[]"}]}]};B.Api=function(){function e(e){this.contracts=new Map,this.cachedAbis=new Map,this.rpc=e.rpc,this.authorityProvider=e.authorityProvider||e.rpc,this.abiProvider=e.abiProvider||e.rpc,this.signatureProvider=e.signatureProvider,this.chainId=e.chainId,this.textEncoder=e.textEncoder,this.textDecoder=e.textDecoder,this.abiTypes=I.getTypesFromAbi(I.createInitialTypes(),eR),this.transactionTypes=I.getTypesFromAbi(I.createInitialTypes(),eO)}return e.prototype.rawAbiToJson=function(e){var t=new I.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder,array:e});if(!I.supportedAbiVersion(t.getString()))throw Error("Unsupported abi version");return t.restartRead(),this.abiTypes.get("abi_def").deserialize(t)},e.prototype.getCachedAbi=function(e,t){return void 0===t&&(t=!1),ew(this,void 0,void 0,function(){var r,n,i,o;return ex(this,function(a){switch(a.label){case 0:if(!t&&this.cachedAbis.get(e))return[2,this.cachedAbis.get(e)];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.abiProvider.getRawAbi(e)];case 2:return n=a.sent().abi,i=this.rawAbiToJson(n),r={rawAbi:n,abi:i},[3,4];case 3:throw(o=a.sent()).message="fetching abi for "+e+": "+o.message,o;case 4:if(!r)throw Error("Missing abi for "+e);return this.cachedAbis.set(e,r),[2,r]}})})},e.prototype.getAbi=function(e,t){return void 0===t&&(t=!1),ew(this,void 0,void 0,function(){return ex(this,function(r){switch(r.label){case 0:return[4,this.getCachedAbi(e,t)];case 1:return[2,r.sent().abi]}})})},e.prototype.getTransactionAbis=function(e,t){return void 0===t&&(t=!1),ew(this,void 0,void 0,function(){var r=this;return ex(this,function(n){return[2,Promise.all(eE(new Set(e.actions.map(function(e){return e.account}))).map(function(e){return ew(r,void 0,void 0,function(){var r;return ex(this,function(n){switch(n.label){case 0:return r={accountName:e},[4,this.getCachedAbi(e,t)];case 1:return[2,(r.abi=n.sent().rawAbi,r)]}})})}))]})})},e.prototype.getContract=function(e,t){return void 0===t&&(t=!1),ew(this,void 0,void 0,function(){var r,n,i,o,a,s,u,c,h,l,f;return ex(this,function(d){switch(d.label){case 0:if(!t&&this.contracts.get(e))return[2,this.contracts.get(e)];return[4,this.getAbi(e,t)];case 1:i=d.sent(),o=I.getTypesFromAbi(I.createInitialTypes(),i),a=new Map;try{for(u=(s=ek(i.actions)).next();!u.done;u=s.next())h=(c=u.value).name,l=c.type,a.set(h,I.getType(o,l))}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return f={types:o,actions:a},this.contracts.set(e,f),[2,f]}})})},e.prototype.serialize=function(e,t,r){this.transactionTypes.get(t).serialize(e,r)},e.prototype.deserialize=function(e,t){return this.transactionTypes.get(t).deserialize(e)},e.prototype.serializeTransaction=function(e){var t=new I.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder});return this.serialize(t,"transaction",em({max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],actions:[],transaction_extensions:[]},e)),t.asUint8Array()},e.prototype.deserializeTransaction=function(e){var t=new I.SerialBuffer({textEncoder:this.textEncoder,textDecoder:this.textDecoder});return t.pushArray(e),this.deserialize(t,"transaction")},e.prototype.serializeActions=function(e){return ew(this,void 0,void 0,function(){var t=this;return ex(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(e){var r=e.account,n=e.name,i=e.authorization,o=e.data;return ew(t,void 0,void 0,function(){var e;return ex(this,function(t){switch(t.label){case 0:return[4,this.getContract(r)];case 1:return e=t.sent(),[2,I.serializeAction(e,r,n,i,o,this.textEncoder,this.textDecoder)]}})})}))];case 1:return[2,r.sent()]}})})},e.prototype.deserializeActions=function(e){return ew(this,void 0,void 0,function(){var t=this;return ex(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(e){var r=e.account,n=e.name,i=e.authorization,o=e.data;return ew(t,void 0,void 0,function(){var e;return ex(this,function(t){switch(t.label){case 0:return[4,this.getContract(r)];case 1:return e=t.sent(),[2,I.deserializeAction(e,r,n,i,o,this.textEncoder,this.textDecoder)]}})})}))];case 1:return[2,r.sent()]}})})},e.prototype.deserializeTransactionWithActions=function(e){return ew(this,void 0,void 0,function(){var t,r;return ex(this,function(n){switch(n.label){case 0:return"string"==typeof e&&(e=I.hexToUint8Array(e)),t=this.deserializeTransaction(e),[4,this.deserializeActions(t.actions)];case 1:return r=n.sent(),[2,em({},t,{actions:r})]}})})},e.prototype.transact=function(e,t){var r=void 0===t?{}:t,n=r.broadcast,i=void 0===n||n,o=r.sign,a=void 0===o||o,s=r.blocksBehind,u=r.expireSeconds;return ew(this,void 0,void 0,function(){var t,r,n,o,c,h,l,f,d;return ex(this,function(p){switch(p.label){case 0:if(this.chainId)return[3,2];return[4,this.rpc.get_info()];case 1:t=p.sent(),this.chainId=t.chain_id,p.label=2;case 2:if(!("number"==typeof s&&u))return[3,6];if(t)return[3,4];return[4,this.rpc.get_info()];case 3:t=p.sent(),p.label=4;case 4:return[4,this.rpc.get_block(t.head_block_num-s)];case 5:r=p.sent(),e=em({},I.transactionHeader(r,u),e),p.label=6;case 6:if(!this.hasRequiredTaposFields(e))throw Error("Required configuration or TAPOS fields are not present");return[4,this.getTransactionAbis(e)];case 7:return n=p.sent(),o=[{},e],c={},[4,this.serializeActions(e.actions)];case 8:if(e=em.apply(void 0,o.concat([(c.actions=p.sent(),c)])),l={serializedTransaction:h=this.serializeTransaction(e),signatures:[]},!a)return[3,12];return[4,this.signatureProvider.getAvailableKeys()];case 9:return f=p.sent(),[4,this.authorityProvider.getRequiredKeys({transaction:e,availableKeys:f})];case 10:return d=p.sent(),[4,this.signatureProvider.sign({chainId:this.chainId,requiredKeys:d,serializedTransaction:h,abis:n})];case 11:l=p.sent(),p.label=12;case 12:if(i)return[2,this.pushSignedTransaction(l)];return[2,l]}})})},e.prototype.pushSignedTransaction=function(e){var t=e.signatures,r=e.serializedTransaction;return ew(this,void 0,void 0,function(){return ex(this,function(e){return[2,this.rpc.push_transaction({signatures:t,serializedTransaction:r})]})})},e.prototype.hasRequiredTaposFields=function(e){var t=e.expiration,r=e.ref_block_num,n=e.ref_block_prefix;return eS(e,["expiration","ref_block_num","ref_block_prefix"]),!!(t&&r&&n)},e}();var eP={};Object.defineProperty(eP,"__esModule",{value:!0});var eT={},eM={},eC=M&&M.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(eM,"__esModule",{value:!0}),eM.RpcError=function(e){function t(r){var n=this;return Object.setPrototypeOf(n=r.error&&r.error.details&&r.error.details.length&&r.error.details[0].message?e.call(this,r.error.details[0].message)||this:r.processed&&r.processed.except&&r.processed.except.message?e.call(this,r.processed.except.message)||this:e.call(this,r.message)||this,t.prototype),n.json=r,n}return eC(t,e),t}(Error);var eL=M&&M.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},eB=M&&M.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){var u=[o,s];if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&u[0]?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}},eI=M&&M.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(eT,"__esModule",{value:!0}),eT.JsonRpc=function(){function e(e,t){void 0===t&&(t={}),this.endpoint=e,t.fetch?this.fetchBuiltin=t.fetch:this.fetchBuiltin=M.fetch}return e.prototype.fetch=function(e,t){return eL(this,void 0,void 0,function(){var r,n,i;return eB(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,(0,this.fetchBuiltin)(this.endpoint+e,{body:JSON.stringify(t),method:"POST"})];case 1:return[4,(r=o.sent()).json()];case 2:if((n=o.sent()).processed&&n.processed.except)throw new eM.RpcError(n);return[3,4];case 3:throw(i=o.sent()).isFetchError=!0,i;case 4:if(!r.ok)throw new eM.RpcError(n);return[2,n]}})})},e.prototype.get_abi=function(e){return eL(this,void 0,void 0,function(){return eB(this,function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_abi",{account_name:e})];case 1:return[2,t.sent()]}})})},e.prototype.get_account=function(e){return eL(this,void 0,void 0,function(){return eB(this,function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_account",{account_name:e})];case 1:return[2,t.sent()]}})})},e.prototype.get_block_header_state=function(e){return eL(this,void 0,void 0,function(){return eB(this,function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_block_header_state",{block_num_or_id:e})];case 1:return[2,t.sent()]}})})},e.prototype.get_block=function(e){return eL(this,void 0,void 0,function(){return eB(this,function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_block",{block_num_or_id:e})];case 1:return[2,t.sent()]}})})},e.prototype.get_code=function(e){return eL(this,void 0,void 0,function(){return eB(this,function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_code",{account_name:e})];case 1:return[2,t.sent()]}})})},e.prototype.get_currency_balance=function(e,t,r){return void 0===r&&(r=null),eL(this,void 0,void 0,function(){return eB(this,function(n){switch(n.label){case 0:return[4,this.fetch("/v1/chain/get_currency_balance",{code:e,account:t,symbol:r})];case 1:return[2,n.sent()]}})})},e.prototype.get_currency_stats=function(e,t){return eL(this,void 0,void 0,function(){return eB(this,function(r){switch(r.label){case 0:return[4,this.fetch("/v1/chain/get_currency_stats",{code:e,symbol:t})];case 1:return[2,r.sent()]}})})},e.prototype.get_info=function(){return eL(this,void 0,void 0,function(){return eB(this,function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_info",{})];case 1:return[2,e.sent()]}})})},e.prototype.get_producer_schedule=function(){return eL(this,void 0,void 0,function(){return eB(this,function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_producer_schedule",{})];case 1:return[2,e.sent()]}})})},e.prototype.get_producers=function(e,t,r){return void 0===e&&(e=!0),void 0===t&&(t=""),void 0===r&&(r=50),eL(this,void 0,void 0,function(){return eB(this,function(n){switch(n.label){case 0:return[4,this.fetch("/v1/chain/get_producers",{json:e,lower_bound:t,limit:r})];case 1:return[2,n.sent()]}})})},e.prototype.get_raw_code_and_abi=function(e){return eL(this,void 0,void 0,function(){return eB(this,function(t){switch(t.label){case 0:return[4,this.fetch("/v1/chain/get_raw_code_and_abi",{account_name:e})];case 1:return[2,t.sent()]}})})},e.prototype.getRawAbi=function(e){return eL(this,void 0,void 0,function(){var t,r;return eB(this,function(n){switch(n.label){case 0:return[4,this.get_raw_code_and_abi(e)];case 1:return t=n.sent(),r=D.base64ToBinary(t.abi),[2,{accountName:t.account_name,abi:r}]}})})},e.prototype.get_table_rows=function(e){var t=e.json,r=void 0===t||t,n=e.code,i=e.scope,o=e.table,a=e.table_key,s=void 0===a?"":a,u=e.lower_bound,c=void 0===u?"":u,h=e.upper_bound,l=void 0===h?"":h,f=e.index_position,d=void 0===f?1:f,p=e.key_type,g=void 0===p?"":p,y=e.limit,b=void 0===y?10:y,_=e.reverse,v=void 0!==_&&_,m=e.show_payer,w=void 0!==m&&m;return eL(this,void 0,void 0,function(){return eB(this,function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_table_rows",{json:r,code:n,scope:i,table:o,table_key:s,lower_bound:c,upper_bound:l,index_position:d,key_type:g,limit:b,reverse:v,show_payer:w})];case 1:return[2,e.sent()]}})})},e.prototype.get_table_by_scope=function(e){var t=e.code,r=e.table,n=e.lower_bound,i=void 0===n?"":n,o=e.upper_bound,a=void 0===o?"":o,s=e.limit,u=void 0===s?10:s;return eL(this,void 0,void 0,function(){return eB(this,function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/get_table_by_scope",{code:t,table:r,lower_bound:i,upper_bound:a,limit:u})];case 1:return[2,e.sent()]}})})},e.prototype.getRequiredKeys=function(e){return eL(this,void 0,void 0,function(){var t;return eB(this,function(r){switch(r.label){case 0:return t=D.convertLegacyPublicKeys,[4,this.fetch("/v1/chain/get_required_keys",{transaction:e.transaction,available_keys:e.availableKeys})];case 1:return[2,t.apply(void 0,[r.sent().required_keys])]}})})},e.prototype.push_transaction=function(e){var t=e.signatures,r=e.serializedTransaction;return eL(this,void 0,void 0,function(){return eB(this,function(e){switch(e.label){case 0:return[4,this.fetch("/v1/chain/push_transaction",{signatures:t,compression:0,packed_context_free_data:"",packed_trx:function(e){var t,r,n="";try{for(var i=eI(e),o=i.next();!o.done;o=i.next()){var a=o.value;n+=("00"+a.toString(16)).slice(-2)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}(r)})];case 1:return[2,e.sent()]}})})},e.prototype.db_size_get=function(){return eL(this,void 0,void 0,function(){return eB(this,function(e){switch(e.label){case 0:return[4,this.fetch("/v1/db_size/get",{})];case 1:return[2,e.sent()]}})})},e.prototype.history_get_actions=function(e,t,r){return void 0===t&&(t=null),void 0===r&&(r=null),eL(this,void 0,void 0,function(){return eB(this,function(n){switch(n.label){case 0:return[4,this.fetch("/v1/history/get_actions",{account_name:e,pos:t,offset:r})];case 1:return[2,n.sent()]}})})},e.prototype.history_get_transaction=function(e,t){return void 0===t&&(t=null),eL(this,void 0,void 0,function(){return eB(this,function(r){switch(r.label){case 0:return[4,this.fetch("/v1/history/get_transaction",{id:e,block_num_hint:t})];case 1:return[2,r.sent()]}})})},e.prototype.history_get_key_accounts=function(e){return eL(this,void 0,void 0,function(){return eB(this,function(t){switch(t.label){case 0:return[4,this.fetch("/v1/history/get_key_accounts",{public_key:e})];case 1:return[2,t.sent()]}})})},e.prototype.history_get_controlled_accounts=function(e){return eL(this,void 0,void 0,function(){return eB(this,function(t){switch(t.label){case 0:return[4,this.fetch("/v1/history/get_controlled_accounts",{controlling_account:e})];case 1:return[2,t.sent()]}})})},e}();var eD={};Object.defineProperty(eD,"__esModule",{value:!0}),Object.defineProperty(L,"__esModule",{value:!0});var eU=L.Api=B.Api;L.ApiInterfaces=eP;var ej=L.JsonRpc=eT.JsonRpc;L.Numeric=D,L.RpcInterfaces=eD,L.RpcError=eM.RpcError,L.Serialize=I;var ez={},eF=null;"undefined"!=typeof WebSocket?eF=WebSocket:"undefined"!=typeof MozWebSocket?eF=MozWebSocket:void 0!==M?eF=M.WebSocket||M.MozWebSocket:"undefined"!=typeof window?eF=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(eF=self.WebSocket||self.MozWebSocket);var eW=eF;eW.default;var eN=C(Object.freeze({__proto__:null,default:"function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}})),eq={exports:{}},eK=e.g,eH=[],eV=[],eY="undefined"!=typeof Uint8Array?Uint8Array:Array,e$=!1;function eJ(){e$=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)eH[t]=e[t],eV[e.charCodeAt(t)]=t;eV[45]=62,eV[95]=63}function eX(e){e$||eJ();for(var t,r=e.length,n=r%3,i="",o=[],a=0,s=r-n;a<s;a+=16383)o.push(function(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(eH[n>>18&63]+eH[n>>12&63]+eH[n>>6&63]+eH[63&n]);return i.join("")}(e,a,a+16383>s?s:a+16383));return 1===n?(i+=eH[(t=e[r-1])>>2],i+=eH[t<<4&63],i+="=="):2===n&&(i+=eH[(t=(e[r-2]<<8)+e[r-1])>>10],i+=eH[t>>4&63],i+=eH[t<<2&63],i+="="),o.push(i),o.join("")}function eG(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,h=-7,l=r?i-1:0,f=r?-1:1,d=e[t+l];for(l+=f,o=d&(1<<-h)-1,d>>=-h,h+=s;h>0;o=256*o+e[t+l],l+=f,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=n;h>0;a=256*a+e[t+l],l+=f,h-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=c}return(d?-1:1)*a*Math.pow(2,o-n)}function eZ(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,h=(1<<c)-1,l=h>>1,f=5960464477539062e-23*(23===i),d=n?0:o-1,p=n?1:-1,g=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(s=+!!isNaN(t),a=h):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+l>=1?t+=f/u:t+=f*Math.pow(2,1-l),t*u>=2&&(a++,u/=2),a+l>=h?(s=0,a=h):a+l>=1?(s=(t*u-1)*Math.pow(2,i),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+d]=255&a,d+=p,a/=256,c-=8);e[r+d-p]|=128*g}var eQ={}.toString,e0=Array.isArray||function(e){return"[object Array]"==eQ.call(e)};e4.TYPED_ARRAY_SUPPORT=void 0===eK.TYPED_ARRAY_SUPPORT||eK.TYPED_ARRAY_SUPPORT;var e1=e2();function e2(){return e4.TYPED_ARRAY_SUPPORT?0x7fffffff:0x3fffffff}function e3(e,t){if(e2()<t)throw RangeError("Invalid typed array length");return e4.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=e4.prototype:(null===e&&(e=new e4(t)),e.length=t),e}function e4(e,t,r){if(!e4.TYPED_ARRAY_SUPPORT&&!(this instanceof e4))return new e4(e,t,r);if("number"==typeof e){if("string"==typeof t)throw Error("If encoding is specified then the first argument must be a string");return e5(this,e)}return e8(this,e,t,r)}function e8(e,t,r,n){if("number"==typeof t)throw TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),e4.TYPED_ARRAY_SUPPORT?(e=t).__proto__=e4.prototype:e=e7(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if(("string"!=typeof r||""===r)&&(r="utf8"),!e4.isEncoding(r))throw TypeError('"encoding" must be a valid string encoding');var n=0|tt(t,r),i=(e=e3(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(te(t)){var r,n=0|e9(t.length);return 0===(e=e3(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t){return"number"!=typeof t.length||(r=t.length)!=r?e3(e,0):e7(e,t)}if("Buffer"===t.type&&e0(t.data))return e7(e,t.data)}throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function e6(e){if("number"!=typeof e)throw TypeError('"size" argument must be a number');if(e<0)throw RangeError('"size" argument must not be negative')}function e5(e,t){if(e6(t),e=e3(e,t<0?0:0|e9(t)),!e4.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function e7(e,t){var r=t.length<0?0:0|e9(t.length);e=e3(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function e9(e){if(e>=e2())throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e2().toString(16)+" bytes");return 0|e}function te(e){return!!(null!=e&&e._isBuffer)}function tt(e,t){if(te(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return tg(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return tb(e).length;default:if(n)return tg(e).length;t=(""+t).toLowerCase(),n=!0}}function tr(e,t,r){var n,i,o,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n,i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var o="",a=t;a<r;++a){o+=(n=e[a])<16?"0"+n.toString(16):n.toString(16)}return o}(this,t,r);case"utf8":case"utf-8":return ta(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return n=this,i=t,o=r,0===i&&o===n.length?eX(n):eX(n.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}(this,t,r);default:if(a)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function tn(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function ti(e,t,r,n,i){if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),isNaN(r*=1)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=e4.from(t,n)),te(t))return 0===t.length?-1:to(e,t,r,n,i);if("number"==typeof t){if(t&=255,e4.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return to(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function to(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var h=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===u)return h*a}else -1!==h&&(o-=o-h),h=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var l=!0,f=0;f<u;f++)if(c(e,o+f)!==c(t,f)){l=!1;break}if(l)return o}return -1}e4.poolSize=8192,e4._augment=function(e){return e.__proto__=e4.prototype,e},e4.from=function(e,t,r){return e8(null,e,t,r)},e4.TYPED_ARRAY_SUPPORT&&(e4.prototype.__proto__=Uint8Array.prototype,e4.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&e4[Symbol.species]),e4.alloc=function(e,t,r){return(e6(e),e<=0)?e3(null,e):void 0!==t?"string"==typeof r?e3(null,e).fill(t,r):e3(null,e).fill(t):e3(null,e)},e4.allocUnsafe=function(e){return e5(null,e)},e4.allocUnsafeSlow=function(e){return e5(null,e)},e4.isBuffer=tv,e4.compare=function(e,t){if(!te(e)||!te(t))throw TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},e4.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e4.concat=function(e,t){if(!e0(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return e4.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=e4.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!te(o))throw TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},e4.byteLength=tt,e4.prototype._isBuffer=!0,e4.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)tn(this,t,t+1);return this},e4.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)tn(this,t,t+3),tn(this,t+1,t+2);return this},e4.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)tn(this,t,t+7),tn(this,t+1,t+6),tn(this,t+2,t+5),tn(this,t+3,t+4);return this},e4.prototype.toString=function(){var e=0|this.length;return 0===e?"":0==arguments.length?ta(this,0,e):tr.apply(this,arguments)},e4.prototype.equals=function(e){if(!te(e))throw TypeError("Argument must be a Buffer");return this===e||0===e4.compare(this,e)},e4.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},e4.prototype.compare=function(e,t,r,n,i){if(!te(e))throw TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,a=r-t,s=Math.min(o,a),u=this.slice(n,i),c=e.slice(t,r),h=0;h<s;++h)if(u[h]!==c[h]){o=u[h],a=c[h];break}return o<a?-1:+(a<o)},e4.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},e4.prototype.indexOf=function(e,t,r){return ti(this,e,t,r,!0)},e4.prototype.lastIndexOf=function(e,t,r){return ti(this,e,t,r,!1)};function ta(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,c=e[i],h=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(h=c);break;case 2:(192&(o=e[i+1]))==128&&(u=(31&c)<<6|63&o)>127&&(h=u);break;case 3:o=e[i+1],a=e[i+2],(192&o)==128&&(192&a)==128&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],(192&o)==128&&(192&a)==128&&(192&s)==128&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(h=u)}null===h?(h=65533,l=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),i+=l}var f=n,d=f.length;if(d<=4096)return String.fromCharCode.apply(String,f);for(var p="",g=0;g<d;)p+=String.fromCharCode.apply(String,f.slice(g,g+=4096));return p}function ts(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function tu(e,t,r,n,i,o){if(!te(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function tc(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}function th(e,t,r,n){t<0&&(t=0xffffffff+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>(n?i:3-i)*8&255}function tl(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function tf(e,t,r,n,i){return i||tl(e,t,r,4),eZ(e,t,r,n,23,4),r+4}function td(e,t,r,n,i){return i||tl(e,t,r,8),eZ(e,t,r,n,52,8),r+8}e4.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,a,s,u,c,h,l,f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var d=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))break;e[r+a]=s}return a}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,t_(tg(e,this.length-i),this,i,o);case"ascii":return a=t,s=r,t_(ty(e),this,a,s);case"latin1":case"binary":return function(e,t,r,n){return t_(ty(t),e,r,n)}(this,e,t,r);case"base64":return u=t,c=r,t_(tb(e),this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h=t,l=r,t_(function(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-h),this,h,l);default:if(d)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),d=!0}},e4.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},e4.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),e4.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=e4.prototype;else{var i=t-e;r=new e4(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},e4.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||ts(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},e4.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||ts(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},e4.prototype.readUInt8=function(e,t){return t||ts(e,1,this.length),this[e]},e4.prototype.readUInt16LE=function(e,t){return t||ts(e,2,this.length),this[e]|this[e+1]<<8},e4.prototype.readUInt16BE=function(e,t){return t||ts(e,2,this.length),this[e]<<8|this[e+1]},e4.prototype.readUInt32LE=function(e,t){return t||ts(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},e4.prototype.readUInt32BE=function(e,t){return t||ts(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e4.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||ts(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},e4.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||ts(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},e4.prototype.readInt8=function(e,t){return(t||ts(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},e4.prototype.readInt16LE=function(e,t){t||ts(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},e4.prototype.readInt16BE=function(e,t){t||ts(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},e4.prototype.readInt32LE=function(e,t){return t||ts(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e4.prototype.readInt32BE=function(e,t){return t||ts(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e4.prototype.readFloatLE=function(e,t){return t||ts(e,4,this.length),eG(this,e,!0,23,4)},e4.prototype.readFloatBE=function(e,t){return t||ts(e,4,this.length),eG(this,e,!1,23,4)},e4.prototype.readDoubleLE=function(e,t){return t||ts(e,8,this.length),eG(this,e,!0,52,8)},e4.prototype.readDoubleBE=function(e,t){return t||ts(e,8,this.length),eG(this,e,!1,52,8)},e4.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;tu(this,e,t,r,i,0)}var o=1,a=0;for(this[t]=255&e;++a<r&&(o*=256);)this[t+a]=e/o&255;return t+r},e4.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;tu(this,e,t,r,i,0)}var o=r-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+r},e4.prototype.writeUInt8=function(e,t,r){return e*=1,t|=0,r||tu(this,e,t,1,255,0),e4.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},e4.prototype.writeUInt16LE=function(e,t,r){return e*=1,t|=0,r||tu(this,e,t,2,65535,0),e4.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):tc(this,e,t,!0),t+2},e4.prototype.writeUInt16BE=function(e,t,r){return e*=1,t|=0,r||tu(this,e,t,2,65535,0),e4.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):tc(this,e,t,!1),t+2},e4.prototype.writeUInt32LE=function(e,t,r){return e*=1,t|=0,r||tu(this,e,t,4,0xffffffff,0),e4.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):th(this,e,t,!0),t+4},e4.prototype.writeUInt32BE=function(e,t,r){return e*=1,t|=0,r||tu(this,e,t,4,0xffffffff,0),e4.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):th(this,e,t,!1),t+4},e4.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t|=0,!n){var i=Math.pow(2,8*r-1);tu(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+r},e4.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t|=0,!n){var i=Math.pow(2,8*r-1);tu(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+r},e4.prototype.writeInt8=function(e,t,r){return e*=1,t|=0,r||tu(this,e,t,1,127,-128),e4.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},e4.prototype.writeInt16LE=function(e,t,r){return e*=1,t|=0,r||tu(this,e,t,2,32767,-32768),e4.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):tc(this,e,t,!0),t+2},e4.prototype.writeInt16BE=function(e,t,r){return e*=1,t|=0,r||tu(this,e,t,2,32767,-32768),e4.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):tc(this,e,t,!1),t+2},e4.prototype.writeInt32LE=function(e,t,r){return e*=1,t|=0,r||tu(this,e,t,4,0x7fffffff,-0x80000000),e4.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):th(this,e,t,!0),t+4},e4.prototype.writeInt32BE=function(e,t,r){return e*=1,t|=0,r||tu(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),e4.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):th(this,e,t,!1),t+4},e4.prototype.writeFloatLE=function(e,t,r){return tf(this,e,t,!0,r)},e4.prototype.writeFloatBE=function(e,t,r){return tf(this,e,t,!1,r)},e4.prototype.writeDoubleLE=function(e,t,r){return td(this,e,t,!0,r)},e4.prototype.writeDoubleBE=function(e,t,r){return td(this,e,t,!1,r)},e4.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("sourceStart out of bounds");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!e4.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},e4.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i,o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!e4.isEncoding(n))throw TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=te(e)?e:tg(new e4(e,n).toString()),s=a.length;for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};var tp=/[^+\/0-9A-Za-z-_]/g;function tg(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function ty(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function tb(e){return function(e){e$||eJ();var t,r,n,i,o,a,s=e.length;if(s%4>0)throw Error("Invalid string. Length must be a multiple of 4");o="="===e[s-2]?2:+("="===e[s-1]),a=new eY(3*s/4-o),n=o>0?s-4:s;var u=0;for(t=0,r=0;t<n;t+=4,r+=3)i=eV[e.charCodeAt(t)]<<18|eV[e.charCodeAt(t+1)]<<12|eV[e.charCodeAt(t+2)]<<6|eV[e.charCodeAt(t+3)],a[u++]=i>>16&255,a[u++]=i>>8&255,a[u++]=255&i;return 2===o?(i=eV[e.charCodeAt(t)]<<2|eV[e.charCodeAt(t+1)]>>4,a[u++]=255&i):1===o&&(i=eV[e.charCodeAt(t)]<<10|eV[e.charCodeAt(t+1)]<<4|eV[e.charCodeAt(t+2)]>>2,a[u++]=i>>8&255,a[u++]=255&i),a}(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(tp,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function t_(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function tv(e){var t;return null!=e&&(!!e._isBuffer||tm(e)||"function"==typeof(t=e).readFloatLE&&"function"==typeof t.slice&&tm(t.slice(0,0)))}function tm(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var tw=C(Object.freeze({__proto__:null,Buffer:e4,INSPECT_MAX_BYTES:50,SlowBuffer:function(e){return+e!=e&&(e=0),e4.alloc(+e)},isBuffer:tv,kMaxLength:e1}));!function(e,t){var r=tw.Buffer;function n(e,t){for(var r in e)t[r]=e[r]}function i(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=tw:(n(tw,t),t.Buffer=i),i.prototype=Object.create(r.prototype),n(r,i),i.from=function(e,t,n){if("number"==typeof e)throw TypeError("Argument must not be a number");return r(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},i.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return r(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return tw.SlowBuffer(e)}}(eq,eq.exports);var tx=eq.exports;tx.default;var tS={exports:{}};function tA(){throw Error("setTimeout has not been defined")}function tE(){throw Error("clearTimeout has not been defined")}var tk=tA,tR=tE;function tO(e){if(tk===setTimeout)return setTimeout(e,0);if((tk===tA||!tk)&&setTimeout)return tk=setTimeout,setTimeout(e,0);try{return tk(e,0)}catch(t){try{return tk.call(null,e,0)}catch(t){return tk.call(this,e,0)}}}"function"==typeof eK.setTimeout&&(tk=setTimeout),"function"==typeof eK.clearTimeout&&(tR=clearTimeout);var tP=[],tT=!1,tM=-1;function tC(){tT&&i&&(tT=!1,i.length?tP=i.concat(tP):tM=-1,tP.length&&tL())}function tL(){if(!tT){var e=tO(tC);tT=!0;for(var t=tP.length;t;){for(i=tP,tP=[];++tM<t;)i&&i[tM].run();tM=-1,t=tP.length}i=null,tT=!1,function(e){if(tR===clearTimeout)return clearTimeout(e);if((tR===tE||!tR)&&clearTimeout)return tR=clearTimeout,clearTimeout(e);try{tR(e)}catch(t){try{return tR.call(null,e)}catch(t){return tR.call(this,e)}}}(e)}}function tB(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];tP.push(new tI(e,t)),1!==tP.length||tT||tO(tL)}function tI(e,t){this.fun=e,this.array=t}function tD(){}tI.prototype.run=function(){this.fun.apply(null,this.array)};var tU=eK.performance||{},tj=tU.now||tU.mozNow||tU.msNow||tU.oNow||tU.webkitNow||function(){return new Date().getTime()},tz=new Date,tF={nextTick:tB,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:tD,addListener:tD,once:tD,off:tD,removeListener:tD,removeAllListeners:tD,emit:tD,binding:function(e){throw Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*tj.call(tU),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-tz)/1e3}};function tW(){}function tN(){tN.init.call(this)}function tq(e){return void 0===e._maxListeners?tN.defaultMaxListeners:e._maxListeners}function tK(e,t,r,n){if("function"!=typeof r)throw TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]):(a=e._events=new tW,e._eventsCount=0),s){if("function"==typeof s?s=a[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),!s.warned&&(o=tq(e))&&o>0&&s.length>o){s.warned=!0;var i,o,a,s,u=Error("Possible EventEmitter memory leak detected. "+s.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,i=u,"function"==typeof console.warn?console.warn(i):console.log(i)}}else s=a[t]=r,++e._eventsCount;return e}function tH(e,t,r){var n=!1;function i(){e.removeListener(t,i),n||(n=!0,r.apply(e,arguments))}return i.listener=r,i}function tV(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function tY(e,t){for(var r=Array(t);t--;)r[t]=e[t];return r}tW.prototype=Object.create(null),tN.EventEmitter=tN,tN.usingDomains=!1,tN.prototype.domain=void 0,tN.prototype._events=void 0,tN.prototype._maxListeners=void 0,tN.defaultMaxListeners=10,tN.init=function(){this.domain=null,tN.usingDomains&&o.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new tW,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},tN.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},tN.prototype.getMaxListeners=function(){return tq(this)},tN.prototype.emit=function(e){var t,r,n,i,o,a,s,u="error"===e;if(a=this._events)u=u&&null==a.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],s)t||(t=Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t);else if(t instanceof Error)throw t;else{var c=Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return!1}if(!(r=a[e]))return!1;var h="function"==typeof r;switch(n=arguments.length){case 1:!function(e,t,r){if(t)e.call(r);else for(var n=e.length,i=tY(e,n),o=0;o<n;++o)i[o].call(r)}(r,h,this);break;case 2:!function(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,o=tY(e,i),a=0;a<i;++a)o[a].call(r,n)}(r,h,this,arguments[1]);break;case 3:!function(e,t,r,n,i){if(t)e.call(r,n,i);else for(var o=e.length,a=tY(e,o),s=0;s<o;++s)a[s].call(r,n,i)}(r,h,this,arguments[1],arguments[2]);break;case 4:!function(e,t,r,n,i,o){if(t)e.call(r,n,i,o);else for(var a=e.length,s=tY(e,a),u=0;u<a;++u)s[u].call(r,n,i,o)}(r,h,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=1,i=Array(n-1);o<n;o++)i[o-1]=arguments[o];!function(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,o=tY(e,i),a=0;a<i;++a)o[a].apply(r,n)}(r,h,this,i)}return!0},tN.prototype.addListener=function(e,t){return tK(this,e,t,!1)},tN.prototype.on=tN.prototype.addListener,tN.prototype.prependListener=function(e,t){return tK(this,e,t,!0)},tN.prototype.once=function(e,t){if("function"!=typeof t)throw TypeError('"listener" argument must be a function');return this.on(e,tH(this,e,t)),this},tN.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw TypeError('"listener" argument must be a function');return this.prependListener(e,tH(this,e,t)),this},tN.prototype.removeListener=function(e,t){var r,n,i,o,a;if("function"!=typeof t)throw TypeError('"listener" argument must be a function');if(!(n=this._events)||!(r=n[e]))return this;if(r===t||r.listener&&r.listener===t)0==--this._eventsCount?this._events=new tW:(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new tW,this;delete n[e]}else{for(var s=r,u=i,c=u,h=c+1,l=s.length;h<l;c+=1,h+=1)s[c]=s[h];s.pop()}n.removeListener&&this.emit("removeListener",e,a||t)}return this},tN.prototype.off=function(e,t){return this.removeListener(e,t)},tN.prototype.removeAllListeners=function(e){if(!(r=this._events))return this;if(!r.removeListener)return 0==arguments.length?(this._events=new tW,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new tW:delete r[e]),this;if(0==arguments.length){for(var t,r,n,i=Object.keys(r),o=0;o<i.length;++o)"removeListener"!==(n=i[o])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new tW,this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)do this.removeListener(e,t[t.length-1]);while(t[0])return this},tN.prototype.listeners=function(e){var t,r=this._events;return r&&(t=r[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):[]},tN.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):tV.call(e,t)},tN.prototype.listenerCount=tV,tN.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var t$=C(Object.freeze({__proto__:null,EventEmitter:tN,default:tN}));function tJ(){return s?a:(s=1,a=t$.EventEmitter)}var tX="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},tG=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},tZ=/%[sdj%]/g;function tQ(e){if(!ri(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(t3(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,i=n.length,o=String(e).replace(tZ,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),a=n[r];r<i;a=n[++r])rt(a)||!ru(a)?o+=" "+a:o+=" "+t3(a);return o}function t0(e,t){if(ra(eK.process))return function(){return t0(e,t).apply(this,arguments)};if(!0===tF.noDeprecation)return e;var r=!1;return function(){if(!r){if(tF.throwDeprecation)throw Error(t);tF.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}}var t1={};function t2(e){return ra(u)&&(u=tF.env.NODE_DEBUG||""),t1[e=e.toUpperCase()]||(RegExp("\\b"+e+"\\b","i").test(u)?t1[e]=function(){var t=tQ.apply(null,arguments);console.error("%s %d: %s",e,0,t)}:t1[e]=function(){}),t1[e]}function t3(e,t){var r={seen:[],stylize:t8};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),re(t)?r.showHidden=t:t&&r_(r,t),ra(r.showHidden)&&(r.showHidden=!1),ra(r.depth)&&(r.depth=2),ra(r.colors)&&(r.colors=!1),ra(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=t4),t6(r,e,r.depth)}function t4(e,t){var r=t3.styles[t];return r?"\x1b["+t3.colors[r][0]+"m"+e+"\x1b["+t3.colors[r][1]+"m":e}function t8(e,t){return e}function t6(e,t,r){if(e.customInspect&&t&&rl(t.inspect)&&t.inspect!==t3&&!(t.constructor&&t.constructor.prototype===t)){var n,i,o,a,s,u=t.inspect(r,e);return ri(u)||(u=t6(e,u,r)),u}var c=function(e,t){if(ra(t))return e.stylize("undefined","undefined");if(ri(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return rn(t)?e.stylize(""+t,"number"):re(t)?e.stylize(""+t,"boolean"):rt(t)?e.stylize("null","null"):void 0}(e,t);if(c)return c;var h=Object.keys(t),l=(a={},h.forEach(function(e,t){a[e]=!0}),a);if(e.showHidden&&(h=Object.getOwnPropertyNames(t)),rh(t)&&(h.indexOf("message")>=0||h.indexOf("description")>=0))return t5(t);if(0===h.length){if(rl(t)){var f=t.name?": "+t.name:"";return e.stylize("[Function"+f+"]","special")}if(rs(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(rc(t))return e.stylize(Date.prototype.toString.call(t),"date");if(rh(t))return t5(t)}var d="",p=!1,g=["{","}"];if(t9(t)&&(p=!0,g=["[","]"]),rl(t)&&(d=" [Function"+(t.name?": "+t.name:"")+"]"),rs(t)&&(d=" "+RegExp.prototype.toString.call(t)),rc(t)&&(d=" "+Date.prototype.toUTCString.call(t)),rh(t)&&(d=" "+t5(t)),0===h.length&&(!p||0==t.length))return g[0]+d+g[1];if(r<0)if(rs(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");else return e.stylize("[Object]","special");return e.seen.push(t),s=p?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)rv(t,String(a))?o.push(t7(e,t,r,n,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(t7(e,t,r,n,i,!0))}),o}(e,t,r,l,h):h.map(function(n){return t7(e,t,r,l,n,p)}),e.seen.pop(),n=s,i=d,o=g,n.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?o[0]+(""===i?"":i+"\n ")+" "+n.join(",\n  ")+" "+o[1]:o[0]+i+" "+n.join(", ")+" "+o[1]}function t5(e){return"["+Error.prototype.toString.call(e)+"]"}function t7(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),rv(n,i)||(a="["+i+"]"),!s&&(0>e.seen.indexOf(u.value)?(s=rt(r)?t6(e,u.value,null):t6(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),ra(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function t9(e){return Array.isArray(e)}function re(e){return"boolean"==typeof e}function rt(e){return null===e}function rr(e){return null==e}function rn(e){return"number"==typeof e}function ri(e){return"string"==typeof e}function ro(e){return"symbol"==typeof e}function ra(e){return void 0===e}function rs(e){return ru(e)&&"[object RegExp]"===rp(e)}function ru(e){return"object"==typeof e&&null!==e}function rc(e){return ru(e)&&"[object Date]"===rp(e)}function rh(e){return ru(e)&&("[object Error]"===rp(e)||e instanceof Error)}function rl(e){return"function"==typeof e}function rf(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function rd(e){return e4.isBuffer(e)}function rp(e){return Object.prototype.toString.call(e)}function rg(e){return e<10?"0"+e.toString(10):e.toString(10)}t3.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},t3.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var ry=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function rb(){var e,t;console.log("%s - %s",(t=[rg((e=new Date).getHours()),rg(e.getMinutes()),rg(e.getSeconds())].join(":"),[e.getDate(),ry[e.getMonth()],t].join(" ")),tQ.apply(null,arguments))}function r_(e,t){if(!t||!ru(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function rv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var rm="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function rw(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');if(rm&&e[rm]){var t=e[rm];if("function"!=typeof t)throw TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,rm,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(e,n){e?r(e):t(n)});try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),rm&&Object.defineProperty(t,rm,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,tG(e))}function rx(e,t){if(!e){var r=Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function rS(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw TypeError("The last argument must be of type Function");var i=this,o=function(){return n.apply(i,arguments)};e.apply(this,t).then(function(e){tF.nextTick(o.bind(null,null,e))},function(e){tF.nextTick(rx.bind(null,e,o))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,tG(e)),t}rw.custom=rm;var rA=C(Object.freeze({__proto__:null,_extend:r_,callbackify:rS,debuglog:t2,default:{inherits:tX,_extend:r_,log:rb,isBuffer:rd,isPrimitive:rf,isFunction:rl,isError:rh,isDate:rc,isObject:ru,isRegExp:rs,isUndefined:ra,isSymbol:ro,isString:ri,isNumber:rn,isNullOrUndefined:rr,isNull:rt,isBoolean:re,isArray:t9,inspect:t3,deprecate:t0,format:tQ,debuglog:t2,promisify:rw,callbackify:rS},deprecate:t0,format:tQ,inherits:tX,inspect:t3,isArray:t9,isBoolean:re,isBuffer:rd,isDate:rc,isError:rh,isFunction:rl,isNull:rt,isNullOrUndefined:rr,isNumber:rn,isObject:ru,isPrimitive:rf,isRegExp:rs,isString:ri,isSymbol:ro,isUndefined:ra,log:rb,promisify:rw}));function rE(){if(f)return l;function e(e,n){r(e,n),t(e)}function t(e){e._writableState&&!e._writableState.emitClose||(!e._readableState||e._readableState.emitClose)&&e.emit("close")}function r(e,t){e.emit("error",t)}return f=1,l={destroy:function(n,i){var o=this,a=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return a||s?i?i(n):n&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,tF.nextTick(r,this,n)):tF.nextTick(r,this,n)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,function(r){!i&&r?o._writableState?o._writableState.errorEmitted?tF.nextTick(t,o):(o._writableState.errorEmitted=!0,tF.nextTick(e,o,r)):tF.nextTick(e,o,r):i?(tF.nextTick(t,o),i(r)):tF.nextTick(t,o)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}var rk={},rR={};function rO(e,t,r){r||(r=Error);var n=function(e){function r(r,n,i){return e.call(this,"string"==typeof t?t:t(r,n,i))||this}return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e,r}(r);n.prototype.name=r.name,n.prototype.code=e,rR[e]=n}function rP(e,t){if(!Array.isArray(e))return"of ".concat(t," ").concat(String(e));var r=e.length;return(e=e.map(function(e){return String(e)}),r>2)?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}function rT(){if(p)return d;p=1;var e=rk.codes.ERR_INVALID_OPT_VALUE;return d={getHighWaterMark:function(t,r,n,i){var o=null!=r.highWaterMark?r.highWaterMark:i?r[n]:null;if(null!=o){if(!(isFinite(o)&&Math.floor(o)===o)||o<0)throw new e(i?n:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}}function rM(){if(_)return b;function e(e){var t=this;this.next=null,this.entry=null,this.finish=function(){var r=t,n=e,i=r.entry;for(r.entry=null;i;){var o=i.callback;n.pendingcb--,o(void 0),i=i.next}n.corkedRequestsFree.next=r}}_=1,b=E,E.WritableState=A;var t,r,n={deprecate:function(){if(y)return g;function e(e){try{if(!M.localStorage)return!1}catch(e){return!1}var t=M.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}return y=1,g=function(t,r){if(e("noDeprecation"))return t;var n=!1;return function(){if(!n){if(e("throwDeprecation"))throw Error(r);e("traceDeprecation")?console.trace(r):console.warn(r),n=!0}return t.apply(this,arguments)}}}()},i=tJ(),o=tw.Buffer,a=(void 0!==M?M:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},s=rE(),u=rT().getHighWaterMark,c=rk.codes,h=c.ERR_INVALID_ARG_TYPE,l=c.ERR_METHOD_NOT_IMPLEMENTED,f=c.ERR_MULTIPLE_CALLBACK,d=c.ERR_STREAM_CANNOT_PIPE,p=c.ERR_STREAM_DESTROYED,v=c.ERR_STREAM_NULL_VALUES,m=c.ERR_STREAM_WRITE_AFTER_END,w=c.ERR_UNKNOWN_ENCODING,x=s.errorOrDestroy;function S(){}function A(r,n,i){t=t||rC(),r=r||{},"boolean"!=typeof i&&(i=n instanceof t),this.objectMode=!!r.objectMode,i&&(this.objectMode=this.objectMode||!!r.writableObjectMode),this.highWaterMark=u(this,r,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===r.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=r.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new f;if(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t)--r.pendingcb,n?(tF.nextTick(i,t),tF.nextTick(C,e,r),e._writableState.errorEmitted=!0,x(e,t)):(i(t),e._writableState.errorEmitted=!0,x(e,t),C(e,r));else{var o=P(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||O(e,r),n?tF.nextTick(R,e,r,o,i):R(e,r,o,i)}}(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==r.emitClose,this.autoDestroy=!!r.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}eN(E,i),A.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t};try{Object.defineProperty(A.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}function E(e){var n=this instanceof(t=t||rC());if(!n&&!r.call(E,this))return new E(e);this._writableState=new A(e,this,n),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),i.call(this)}function k(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new p("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function R(e,t,r,n){var i,o;r||(i=e,0===(o=t).length&&o.needDrain&&(o.needDrain=!1,i.emit("drain"))),t.pendingcb--,n(),C(e,t)}function O(t,r){r.bufferProcessing=!0;var n=r.bufferedRequest;if(t._writev&&n&&n.next){var i=Array(r.bufferedRequestCount),o=r.corkedRequestsFree;o.entry=n;for(var a=0,s=!0;n;)i[a]=n,n.isBuf||(s=!1),n=n.next,a+=1;i.allBuffers=s,k(t,r,!0,r.length,i,"",o.finish),r.pendingcb++,r.lastBufferedRequest=null,o.next?(r.corkedRequestsFree=o.next,o.next=null):r.corkedRequestsFree=new e(r),r.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,h=n.callback,l=r.objectMode?1:u.length;if(k(t,r,!1,l,u,c,h),n=n.next,r.bufferedRequestCount--,r.writing)break}null===n&&(r.lastBufferedRequest=null)}r.bufferedRequest=n,r.bufferProcessing=!1}function P(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final(function(r){t.pendingcb--,r&&x(e,r),t.prefinished=!0,e.emit("prefinish"),C(e,t)})}function C(e,t){var r=P(t);if(r&&(t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,tF.nextTick(T,e,t))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}return"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(r=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!r.call(this,e)||this===E&&e&&e._writableState instanceof A}})):r=function(e){return e instanceof this},E.prototype.pipe=function(){x(this,new d)},E.prototype.write=function(e,t,r){var n,i,s,u,c,l,f,d=this._writableState,p=!1,g=!d.objectMode&&(n=e,o.isBuffer(n)||n instanceof a);return(g&&!o.isBuffer(e)&&(i=e,e=o.from(i)),"function"==typeof t&&(r=t,t=null),g?t="buffer":t||(t=d.defaultEncoding),"function"!=typeof r&&(r=S),d.ending)?(s=r,x(this,u=new m),tF.nextTick(s,u)):(g||(c=e,l=r,null===c?f=new v:"string"==typeof c||d.objectMode||(f=new h("chunk",["string","Buffer"],c)),!f||(x(this,f),tF.nextTick(l,f),0)))&&(d.pendingcb++,p=function(e,t,r,n,i,a){if(!r){var s,u,c=(s=n,u=i,t.objectMode||!1===t.decodeStrings||"string"!=typeof s||(s=o.from(s,u)),s);n!==c&&(r=!0,i="buffer",n=c)}var h=t.objectMode?1:n.length;t.length+=h;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,h,n,i,a);return l}(this,d,g,e,t,r)),p},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||O(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,r){r(new l("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,r){var n,i,o,a=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),a.corked&&(a.corked=1,this.uncork()),a.ending||(n=this,i=a,o=r,i.ending=!0,C(n,i),o&&(i.finished?tF.nextTick(o):n.once("finish",o)),i.ended=!0,n.writable=!1),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=s.destroy,E.prototype._undestroy=s.undestroy,E.prototype._destroy=function(e,t){t(e)},b}function rC(){if(m)return v;m=1;var e=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};v=a;var t=rN(),r=rM();eN(a,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var o=n[i];a.prototype[o]||(a.prototype[o]=r.prototype[o])}function a(e){if(!(this instanceof a))return new a(e);t.call(this,e),r.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",s)))}function s(){this._writableState.ended||tF.nextTick(u,this)}function u(e){e.end()}return Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),v}rO("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),rO("ERR_INVALID_ARG_TYPE",function(e,t,r){if("string"==typeof t&&(n="not ",t.substr(0,n.length)===n)?(s="must not be",t=t.replace(/^not /,"")):s="must be",i=" argument",(void 0===o||o>e.length)&&(o=e.length),e.substring(o-i.length,o)===i)u="The ".concat(e," ").concat(s," ").concat(rP(t,"type"));else{var n,i,o,a,s,u,c=("number"!=typeof a&&(a=0),a+1>e.length||-1===e.indexOf(".",a))?"argument":"property";u='The "'.concat(e,'" ').concat(c," ").concat(s," ").concat(rP(t,"type"))}return u+". Received type ".concat(typeof r)},TypeError),rO("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),rO("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),rO("ERR_STREAM_PREMATURE_CLOSE","Premature close"),rO("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),rO("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),rO("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),rO("ERR_STREAM_WRITE_AFTER_END","write after end"),rO("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),rO("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),rO("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),rk.codes=rR;var rL=e4.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function rB(e){this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,"");if(e&&!rL(e))throw Error("Unknown encoding: "+e);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=rD;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=rU;break;default:this.write=rI;return}this.charBuffer=new e4(6),this.charReceived=0,this.charLength=0}function rI(e){return e.toString(this.encoding)}function rD(e){this.charReceived=e.length%2,this.charLength=2*!!this.charReceived}function rU(e){this.charReceived=e.length%3,this.charLength=3*!!this.charReceived}rB.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";e=e.slice(r,e.length);var n=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1);if(n>=55296&&n<=56319){this.charLength+=this.surrogateSize,t="";continue}if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived);var i=(t+=e.toString(this.encoding,0,i)).length-1,n=t.charCodeAt(i);if(n>=55296&&n<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},rB.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},rB.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t};var rj=C(Object.freeze({__proto__:null,StringDecoder:rB})),rz=rk.codes.ERR_STREAM_PREMATURE_CLOSE;function rF(){}var rW=function e(t,r,n){if("function"==typeof r)return e(t,null,r);r||(r={}),i=n||rF,o=!1,n=function(){if(!o){o=!0;for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];i.apply(this,t)}};var i,o,a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||h()},c=t._writableState&&t._writableState.finished,h=function(){s=!1,c=!0,a||n.call(t)},l=t._readableState&&t._readableState.endEmitted,f=function(){a=!1,l=!0,s||n.call(t)},d=function(e){n.call(t,e)},p=function(){var e;return a&&!l?(t._readableState&&t._readableState.ended||(e=new rz),n.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new rz),n.call(t,e)):void 0},g=function(){t.req.on("finish",h)};return t.setHeader&&"function"==typeof t.abort?(t.on("complete",h),t.on("abort",p),t.req?g():t.on("request",g)):s&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",f),t.on("finish",h),!1!==r.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",h),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",h),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",h),t.removeListener("end",f),t.removeListener("error",d),t.removeListener("close",p)}};function rN(){if(k)return E;k=1,E=O,O.ReadableState=R,t$.EventEmitter;var e,t,r,n,i,o=function(e,t){return e.listeners(t).length},a=tJ(),s=tw.Buffer,u=(void 0!==M?M:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};t=rA&&rA.debuglog?rA.debuglog("stream"):function(){};var l=function(){if(h)return c;function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach(function(e){var n,o,a;n=t,o=e,a=i[e],(o=r(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}h=1;function r(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var n=tw.Buffer,i=rA.inspect,o=i&&i.custom||"inspect";return c=function(){var e;function a(){if(!(this instanceof a))throw TypeError("Cannot call a class as a function");this.head=null,this.tail=null,this.length=0}return e=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return n.alloc(0);for(var t,r,i=n.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=a,n.prototype.copy.call(t,i,r),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=n.allocUnsafe(e),r=this.head,i=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,a),0==(e-=a)){a===o.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=o.slice(a));break}++i}return this.length-=i,t}},{key:o,value:function(e,r){return i(this,t(t({},r),{},{depth:0,customInspect:!1}))}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}(a.prototype,e),Object.defineProperty(a,"prototype",{writable:!1}),a}()}(),f=rE(),d=rT().getHighWaterMark,p=rk.codes,g=p.ERR_INVALID_ARG_TYPE,y=p.ERR_STREAM_PUSH_AFTER_EOF,b=p.ERR_METHOD_NOT_IMPLEMENTED,_=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;eN(O,a);var v=f.errorOrDestroy,m=["error","close","destroy","pause","resume"];function R(t,n,i){e=e||rC(),t=t||{},"boolean"!=typeof i&&(i=n instanceof e),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=d(this,t,"readableHighWaterMark",i),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(r||(r=rj.StringDecoder),this.decoder=new r(t.encoding),this.encoding=t.encoding)}function O(t){if(e=e||rC(),!(this instanceof O))return new O(t);var r=this instanceof e;this._readableState=new R(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function P(e,r,n,i,o){t("readableAddChunk",r);var a,c,h=e._readableState;if(null===r)h.reading=!1,function(e,r){if(t("onEofChunk"),!r.ended){if(r.decoder){var n=r.decoder.end();n&&n.length&&(r.buffer.push(n),r.length+=r.objectMode?1:n.length)}r.ended=!0,r.sync?L(e):(r.needReadable=!1,r.emittedReadable||(r.emittedReadable=!0,B(e)))}}(e,h);else if(o||(c=function(e,t){var r;return s.isBuffer(t)||t instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new g("chunk",["string","Buffer","Uint8Array"],t)),r}(h,r)),c)v(e,c);else if(h.objectMode||r&&r.length>0)if("string"==typeof r||h.objectMode||Object.getPrototypeOf(r)===s.prototype||(a=r,r=s.from(a)),i)h.endEmitted?v(e,new _):T(e,h,r,!0);else if(h.ended)v(e,new y);else{if(h.destroyed)return!1;h.reading=!1,h.decoder&&!n?(r=h.decoder.write(r),h.objectMode||0!==r.length?T(e,h,r,!1):I(e,h)):T(e,h,r,!1)}else i||(h.reading=!1,I(e,h));return!h.ended&&(h.length<h.highWaterMark||0===h.length)}function T(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&L(e)),I(e,t)}function C(e,t){var r;if(e<=0||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!=e)if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length;return(e>t.highWaterMark&&((r=e)>=0x40000000?r=0x40000000:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),t.highWaterMark=r),e<=t.length)?e:t.ended?t.length:(t.needReadable=!0,0)}function L(e){var r=e._readableState;t("emitReadable",r.needReadable,r.emittedReadable),r.needReadable=!1,r.emittedReadable||(t("emitReadable",r.flowing),r.emittedReadable=!0,tF.nextTick(B,e))}function B(e){var r=e._readableState;t("emitReadable_",r.destroyed,r.length,r.ended),!r.destroyed&&(r.length||r.ended)&&(e.emit("readable"),r.emittedReadable=!1),r.needReadable=!r.flowing&&!r.ended&&r.length<=r.highWaterMark,F(e)}function I(e,t){t.readingMore||(t.readingMore=!0,tF.nextTick(D,e,t))}function D(e,r){for(;!r.reading&&!r.ended&&(r.length<r.highWaterMark||r.flowing&&0===r.length);){var n=r.length;if(t("maybeReadMore read 0"),e.read(0),n===r.length)break}r.readingMore=!1}function U(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function j(e){t("readable nexttick read 0"),e.read(0)}function z(e,r){t("resume",r.reading),r.reading||e.read(0),r.resumeScheduled=!1,e.emit("resume"),F(e),r.flowing&&!r.reading&&e.read(0)}function F(e){var r=e._readableState;for(t("flow",r.flowing);r.flowing&&null!==e.read(););}function W(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function N(e){var r=e._readableState;t("endReadable",r.endEmitted),r.endEmitted||(r.ended=!0,tF.nextTick(q,r,e))}function q(e,r){if(t("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,r.readable=!1,r.emit("end"),e.autoDestroy)){var n=r._writableState;(!n||n.autoDestroy&&n.finished)&&r.destroy()}}function K(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}return Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),O.prototype.destroy=f.destroy,O.prototype._undestroy=f.undestroy,O.prototype._destroy=function(e,t){t(e)},O.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),P(this,e,t,!1,r)},O.prototype.unshift=function(e){return P(this,e,null,!0,!1)},O.prototype.isPaused=function(){return!1===this._readableState.flowing},O.prototype.setEncoding=function(e){r||(r=rj.StringDecoder);var t=new r(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this},O.prototype.read=function(e){t("read",e),e=parseInt(e,10);var r,n=this._readableState,i=e;if(0!==e&&(n.emittedReadable=!1),0===e&&n.needReadable&&((0!==n.highWaterMark?n.length>=n.highWaterMark:n.length>0)||n.ended))return t("read: emitReadable",n.length,n.ended),0===n.length&&n.ended?N(this):L(this),null;if(0===(e=C(e,n))&&n.ended)return 0===n.length&&N(this),null;var o=n.needReadable;return t("need readable",o),(0===n.length||n.length-e<n.highWaterMark)&&t("length less than watermark",o=!0),n.ended||n.reading?t("reading or ended",o=!1):o&&(t("do read"),n.reading=!0,n.sync=!0,0===n.length&&(n.needReadable=!0),this._read(n.highWaterMark),n.sync=!1,n.reading||(e=C(i,n))),null===(r=e>0?W(e,n):null)?(n.needReadable=n.length<=n.highWaterMark,e=0):(n.length-=e,n.awaitDrain=0),0===n.length&&(n.ended||(n.needReadable=!0),i!==e&&n.ended&&N(this)),null!==r&&this.emit("data",r),r},O.prototype._read=function(e){v(this,new b("_read()"))},O.prototype.pipe=function(e,r){var n,i=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,t("pipe count=%d opts=%j",a.pipesCount,r);var s=r&&!1===r.end||e===tF.stdout||e===tF.stderr?g:u;function u(){t("onend"),e.end()}a.endEmitted?tF.nextTick(s):i.once("end",s),e.on("unpipe",function r(n,o){t("onunpipe"),n===i&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,t("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",c),e.removeListener("error",f),e.removeListener("unpipe",r),i.removeListener("end",u),i.removeListener("end",g),i.removeListener("data",l),h=!0,a.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&c())});var c=(n=i,function(){var e=n._readableState;t("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(n,"data")&&(e.flowing=!0,F(n))});e.on("drain",c);var h=!1;function l(r){t("ondata");var n=e.write(r);t("dest.write",n),!1===n&&((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==K(a.pipes,e))&&!h&&(t("false write response, pause",a.awaitDrain),a.awaitDrain++),i.pause())}function f(r){t("onerror",r),g(),e.removeListener("error",f),0===o(e,"error")&&v(e,r)}function d(){e.removeListener("finish",p),g()}function p(){t("onfinish"),e.removeListener("close",d),g()}function g(){t("unpipe"),i.unpipe(e)}return i.on("data",l),!function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",f),e.once("close",d),e.once("finish",p),e.emit("pipe",i),a.flowing||(t("pipe resume"),i.resume()),e},O.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=K(t.pipes,e);return -1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},O.prototype.on=function(e,r){var n=a.prototype.on.call(this,e,r),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"!==e||i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,t("on readable",i.length,i.reading),i.length?L(this):i.reading||tF.nextTick(j,this)),n},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&tF.nextTick(U,this),r},O.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&tF.nextTick(U,this),t},O.prototype.resume=function(){var e,r,n=this._readableState;return n.flowing||(t("resume"),n.flowing=!n.readableListening,e=this,(r=n).resumeScheduled||(r.resumeScheduled=!0,tF.nextTick(z,e,r))),n.paused=!1,this},O.prototype.pause=function(){return t("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(t("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},O.prototype.wrap=function(e){var r=this,n=this._readableState,i=!1;for(var o in e.on("end",function(){if(t("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(o){t("wrapped data"),n.decoder&&(o=n.decoder.write(o)),n.objectMode&&null==o||(n.objectMode||o&&o.length)&&(r.push(o)||(i=!0,e.pause()))}),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var a=0;a<m.length;a++)e.on(m[a],this.emit.bind(this,m[a]));return this._read=function(r){t("wrapped _read",r),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(O.prototype[Symbol.asyncIterator]=function(){return void 0===n&&(n=function(){if(x)return w;function e(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}x=1;var t,r=Symbol("lastResolve"),n=Symbol("lastReject"),i=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),s=Symbol("handlePromise"),u=Symbol("stream");function c(e,t){return{value:e,done:t}}function h(e){var t=e[r];if(null!==t){var i=e[u].read();null!==i&&(e[a]=null,e[r]=null,e[n]=null,t(c(i,!1)))}}function l(e){tF.nextTick(h,e)}var f=Object.getPrototypeOf(function(){}),d=Object.setPrototypeOf((e(t={get stream(){return this[u]},next:function(){var e,t,r=this,n=this[i];if(null!==n)return Promise.reject(n);if(this[o])return Promise.resolve(c(void 0,!0));if(this[u].destroyed)return new Promise(function(e,t){tF.nextTick(function(){r[i]?t(r[i]):e(c(void 0,!0))})});var h=this[a];if(h)t=new Promise((e=this,function(t,r){h.then(function(){e[o]?t(c(void 0,!0)):e[s](t,r)},r)}));else{var l=this[u].read();if(null!==l)return Promise.resolve(c(l,!1));t=new Promise(this[s])}return this[a]=t,t}},Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var e=this;return new Promise(function(t,r){e[u].destroy(null,function(e){e?r(e):t(c(void 0,!0))})})}),t),f);return w=function(t){var h,f=Object.create(d,(e(h={},u,{value:t,writable:!0}),e(h,r,{value:null,writable:!0}),e(h,n,{value:null,writable:!0}),e(h,i,{value:null,writable:!0}),e(h,o,{value:t._readableState.endEmitted,writable:!0}),e(h,s,{value:function(e,t){var i=f[u].read();i?(f[a]=null,f[r]=null,f[n]=null,e(c(i,!1))):(f[r]=e,f[n]=t)},writable:!0}),h));return f[a]=null,rW(t,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=f[n];null!==t&&(f[a]=null,f[r]=null,f[n]=null,t(e)),f[i]=e;return}var s=f[r];null!==s&&(f[a]=null,f[r]=null,f[n]=null,s(c(void 0,!0))),f[o]=!0}),t.on("readable",l.bind(null,f)),f}}()),n(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),O._fromList=W,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(O.from=function(e,t){return void 0===i&&(i=A?S:(A=1,S=function(){throw Error("Readable.from is not available in the browser")})),i(O,e,t)}),E}rW.default;var rq=rk.codes,rK=rq.ERR_METHOD_NOT_IMPLEMENTED,rH=rq.ERR_MULTIPLE_CALLBACK,rV=rq.ERR_TRANSFORM_ALREADY_TRANSFORMING,rY=rq.ERR_TRANSFORM_WITH_LENGTH_0,r$=rC();function rJ(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new rH);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function rX(e){if(!(this instanceof rX))return new rX(e);r$.call(this,e),this._transformState={afterTransform:rJ.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",rG)}function rG(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?rZ(this,null,null):this._flush(function(t,r){rZ(e,t,r)})}function rZ(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new rY;if(e._transformState.transforming)throw new rV;return e.push(null)}function rQ(e){if(!(this instanceof rQ))return new rQ(e);rX.call(this,e)}eN(rX,r$),rX.prototype.push=function(e,t){return this._transformState.needTransform=!1,r$.prototype.push.call(this,e,t)},rX.prototype._transform=function(e,t,r){r(new rK("_transform()"))},rX.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},rX.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},rX.prototype._destroy=function(e,t){r$.prototype._destroy.call(this,e,function(e){t(e)})},rX.default,eN(rQ,rX),rQ.prototype._transform=function(e,t,r){r(null,e)},rQ.default;var r0=rk.codes,r1=r0.ERR_MISSING_ARGS,r2=r0.ERR_STREAM_DESTROYED;function r3(e){if(e)throw e}function r4(e){e()}function r8(e,t){return e.pipe(t)}var r6=function(){for(var e,t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=(e=n).length&&"function"==typeof e[e.length-1]?e.pop():r3;if(Array.isArray(n[0])&&(n=n[0]),n.length<2)throw new r1("streams");var a=n.map(function(e,r){var i,s,u,c,h,l,f=r<n.length-1;return i=r>0,u=s=function(e){t||(t=e),e&&a.forEach(r4),f||(a.forEach(r4),o(t))},c=!1,s=function(){c||(c=!0,u.apply(void 0,arguments))},h=!1,e.on("close",function(){h=!0}),void 0===R&&(R=rW),R(e,{readable:f,writable:i},function(e){if(e)return s(e);h=!0,s()}),l=!1,function(t){if(!h&&!l){if(l=!0,e.setHeader&&"function"==typeof e.abort)return e.abort();if("function"==typeof e.destroy)return e.destroy();s(t||new r2("pipe"))}}});return n.reduce(r8)};n=tS.exports,(n=tS.exports=rN()).Stream=n,n.Readable=n,n.Writable=rM(),n.Duplex=rC(),n.Transform=rX,n.PassThrough=rQ,n.finished=rW,n.pipeline=r6;var r5=tS.exports;r5.default;var r7=tx.Buffer,r9=r5.Transform;function ne(e){r9.call(this),this._block=r7.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}eN(ne,r9),ne.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},ne.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},ne.prototype.update=function(e,t){var r=e;if(!r7.isBuffer(r)&&"string"!=typeof r)throw TypeError("Data must be a string or a buffer");if(this._finalized)throw Error("Digest already called");r7.isBuffer(e)||(e=r7.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/0x100000000|0)>0&&(this._length[a]-=0x100000000*s);return this},ne.prototype._update=function(){throw Error("_update is not implemented")},ne.prototype.digest=function(e){if(this._finalized)throw Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},ne.prototype._digest=function(){throw Error("_digest is not implemented")},ne.default;var nt=tx.Buffer,nr=Array(16);function nn(){ne.call(this,64),this._a=0x67452301,this._b=0xefcdab89,this._c=0x98badcfe,this._d=0x10325476}function ni(e,t){return e<<t|e>>>32-t}function no(e,t,r,n,i,o,a){return ni(e+(t&r|~t&n)+i+o|0,a)+t|0}function na(e,t,r,n,i,o,a){return ni(e+(t&n|r&~n)+i+o|0,a)+t|0}function ns(e,t,r,n,i,o,a){return ni(e+(t^r^n)+i+o|0,a)+t|0}function nu(e,t,r,n,i,o,a){return ni(e+(r^(t|~n))+i+o|0,a)+t|0}eN(nn,ne),nn.prototype._update=function(){for(var e=0;e<16;++e)nr[e]=this._block.readInt32LE(4*e);var t=this._a,r=this._b,n=this._c,i=this._d;t=no(t,r,n,i,nr[0],0xd76aa478,7),i=no(i,t,r,n,nr[1],0xe8c7b756,12),n=no(n,i,t,r,nr[2],0x242070db,17),r=no(r,n,i,t,nr[3],0xc1bdceee,22),t=no(t,r,n,i,nr[4],0xf57c0faf,7),i=no(i,t,r,n,nr[5],0x4787c62a,12),n=no(n,i,t,r,nr[6],0xa8304613,17),r=no(r,n,i,t,nr[7],0xfd469501,22),t=no(t,r,n,i,nr[8],0x698098d8,7),i=no(i,t,r,n,nr[9],0x8b44f7af,12),n=no(n,i,t,r,nr[10],0xffff5bb1,17),r=no(r,n,i,t,nr[11],0x895cd7be,22),t=no(t,r,n,i,nr[12],0x6b901122,7),i=no(i,t,r,n,nr[13],0xfd987193,12),n=no(n,i,t,r,nr[14],0xa679438e,17),r=no(r,n,i,t,nr[15],0x49b40821,22),t=na(t,r,n,i,nr[1],0xf61e2562,5),i=na(i,t,r,n,nr[6],0xc040b340,9),n=na(n,i,t,r,nr[11],0x265e5a51,14),r=na(r,n,i,t,nr[0],0xe9b6c7aa,20),t=na(t,r,n,i,nr[5],0xd62f105d,5),i=na(i,t,r,n,nr[10],0x2441453,9),n=na(n,i,t,r,nr[15],0xd8a1e681,14),r=na(r,n,i,t,nr[4],0xe7d3fbc8,20),t=na(t,r,n,i,nr[9],0x21e1cde6,5),i=na(i,t,r,n,nr[14],0xc33707d6,9),n=na(n,i,t,r,nr[3],0xf4d50d87,14),r=na(r,n,i,t,nr[8],0x455a14ed,20),t=na(t,r,n,i,nr[13],0xa9e3e905,5),i=na(i,t,r,n,nr[2],0xfcefa3f8,9),n=na(n,i,t,r,nr[7],0x676f02d9,14),r=na(r,n,i,t,nr[12],0x8d2a4c8a,20),t=ns(t,r,n,i,nr[5],0xfffa3942,4),i=ns(i,t,r,n,nr[8],0x8771f681,11),n=ns(n,i,t,r,nr[11],0x6d9d6122,16),r=ns(r,n,i,t,nr[14],0xfde5380c,23),t=ns(t,r,n,i,nr[1],0xa4beea44,4),i=ns(i,t,r,n,nr[4],0x4bdecfa9,11),n=ns(n,i,t,r,nr[7],0xf6bb4b60,16),r=ns(r,n,i,t,nr[10],0xbebfbc70,23),t=ns(t,r,n,i,nr[13],0x289b7ec6,4),i=ns(i,t,r,n,nr[0],0xeaa127fa,11),n=ns(n,i,t,r,nr[3],0xd4ef3085,16),r=ns(r,n,i,t,nr[6],0x4881d05,23),t=ns(t,r,n,i,nr[9],0xd9d4d039,4),i=ns(i,t,r,n,nr[12],0xe6db99e5,11),n=ns(n,i,t,r,nr[15],0x1fa27cf8,16),r=ns(r,n,i,t,nr[2],0xc4ac5665,23),t=nu(t,r,n,i,nr[0],0xf4292244,6),i=nu(i,t,r,n,nr[7],0x432aff97,10),n=nu(n,i,t,r,nr[14],0xab9423a7,15),r=nu(r,n,i,t,nr[5],0xfc93a039,21),t=nu(t,r,n,i,nr[12],0x655b59c3,6),i=nu(i,t,r,n,nr[3],0x8f0ccc92,10),n=nu(n,i,t,r,nr[10],0xffeff47d,15),r=nu(r,n,i,t,nr[1],0x85845dd1,21),t=nu(t,r,n,i,nr[8],0x6fa87e4f,6),i=nu(i,t,r,n,nr[15],0xfe2ce6e0,10),n=nu(n,i,t,r,nr[6],0xa3014314,15),r=nu(r,n,i,t,nr[13],0x4e0811a1,21),t=nu(t,r,n,i,nr[4],0xf7537e82,6),i=nu(i,t,r,n,nr[11],0xbd3af235,10),n=nu(n,i,t,r,nr[2],0x2ad7d2bb,15),r=nu(r,n,i,t,nr[9],0xeb86d391,21),this._a=this._a+t|0,this._b=this._b+r|0,this._c=this._c+n|0,this._d=this._d+i|0},nn.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=nt.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},nn.default;var nc=tw.Buffer,nh=Array(16),nl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],nf=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],nd=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],np=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];function ng(){ne.call(this,64),this._a=0x67452301,this._b=0xefcdab89,this._c=0x98badcfe,this._d=0x10325476,this._e=0xc3d2e1f0}function ny(e,t){return e<<t|e>>>32-t}eN(ng,ne),ng.prototype._update=function(){for(var e,t,r,n,i,o,a,s,u,c,h,l,f,d,p,g,y,b,_,v,m,w,x,S,A,E,k,R,O,P,T,M,C,L,B,I,D,U,j,z,F,W,N,q,K,H,V,Y,$,J,X,G,Z=0;Z<16;++Z)nh[Z]=this._block.readInt32LE(4*Z);for(var Q=0|this._a,ee=0|this._b,et=0|this._c,er=0|this._d,en=0|this._e,ei=0|this._a,eo=0|this._b,ea=0|this._c,es=0|this._d,eu=0|this._e,ec=0;ec<80;ec+=1){ec<16?(e=Q,t=ee,r=et,n=er,i=en,X=ny(e+(t^r^n)+nh[nl[ec]]+0|0,nd[ec])+i|0,o=ei,a=eo,s=ea,u=es,c=eu,G=ny(o+(a^(s|~u))+nh[nf[ec]]+0x50a28be6|0,np[ec])+c|0):ec<32?(h=Q,l=ee,f=et,d=er,p=en,X=ny(h+(l&f|~l&d)+nh[nl[ec]]+0x5a827999|0,nd[ec])+p|0,g=ei,y=eo,b=ea,_=es,v=eu,G=ny(g+(y&_|b&~_)+nh[nf[ec]]+0x5c4dd124|0,np[ec])+v|0):ec<48?(m=Q,w=ee,x=et,S=er,A=en,X=ny(m+((w|~x)^S)+nh[nl[ec]]+0x6ed9eba1|0,nd[ec])+A|0,E=ei,k=eo,R=ea,O=es,P=eu,G=ny(E+((k|~R)^O)+nh[nf[ec]]+0x6d703ef3|0,np[ec])+P|0):ec<64?(T=Q,M=ee,C=et,L=er,B=en,X=ny(T+(M&L|C&~L)+nh[nl[ec]]+0x8f1bbcdc|0,nd[ec])+B|0,I=ei,D=eo,U=ea,j=es,z=eu,G=ny(I+(D&U|~D&j)+nh[nf[ec]]+0x7a6d76e9|0,np[ec])+z|0):(F=Q,W=ee,N=et,q=er,K=en,X=ny(F+(W^(N|~q))+nh[nl[ec]]+0xa953fd4e|0,nd[ec])+K|0,H=ei,V=eo,Y=ea,$=es,J=eu,G=ny(H+(V^Y^$)+nh[nf[ec]]+0|0,np[ec])+J|0),Q=en,en=er,er=ny(et,10),et=ee,ee=X,ei=eu,eu=es,es=ny(ea,10),ea=eo,eo=G}var eh=this._b+et+es|0;this._b=this._c+er+eu|0,this._c=this._d+en+ei|0,this._d=this._e+Q+eo|0,this._e=this._a+ee+ea|0,this._a=eh},ng.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=nc.alloc?nc.alloc(20):new nc(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},ng.default;var nb={exports:{}},n_=tx.Buffer;function nv(e,t){this._block=n_.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}nv.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n_.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,o=this._len,a=0;a<i;){for(var s=o%n,u=Math.min(i-a,n-s),c=0;c<u;c++)r[s+c]=e[a+c];o+=u,a+=u,o%n==0&&this._update(r)}return this._len+=i,this},nv.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=0xffffffff)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=r>>>0;this._block.writeUInt32BE((r-n)/0x100000000,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var i=this._hash();return e?i.toString(e):i},nv.prototype._update=function(){throw Error("_update must be implemented by subclass")},nv.default;var nm=tx.Buffer,nw=[0x5a827999,0x6ed9eba1,-0x70e44324,-0x359d3e2a],nx=Array(80);function nS(){this.init(),this._w=nx,nv.call(this,64,56)}eN(nS,nv),nS.prototype.init=function(){return this._a=0x67452301,this._b=0xefcdab89,this._c=0x98badcfe,this._d=0x10325476,this._e=0xc3d2e1f0,this},nS.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,a=0|this._e,s=0;s<16;++s)t[s]=e.readInt32BE(4*s);for(;s<80;++s)t[s]=t[s-3]^t[s-8]^t[s-14]^t[s-16];for(var u=0;u<80;++u){var c,h,l,f,d,p=~~(u/20),g=((c=r)<<5|c>>>27)+(h=n,l=i,f=o,0===p?h&l|~h&f:2===p?h&l|h&f|l&f:h^l^f)+a+t[u]+nw[p]|0;a=o,o=i,i=(d=n)<<30|d>>>2,n=r,r=g}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=a+this._e|0},nS.prototype._hash=function(){var e=nm.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},nS.default;var nA=tx.Buffer,nE=[0x5a827999,0x6ed9eba1,-0x70e44324,-0x359d3e2a],nk=Array(80);function nR(){this.init(),this._w=nk,nv.call(this,64,56)}eN(nR,nv),nR.prototype.init=function(){return this._a=0x67452301,this._b=0xefcdab89,this._c=0x98badcfe,this._d=0x10325476,this._e=0xc3d2e1f0,this},nR.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,a=0|this._e,s=0;s<16;++s)t[s]=e.readInt32BE(4*s);for(;s<80;++s)t[s]=(c=t[s-3]^t[s-8]^t[s-14]^t[s-16])<<1|c>>>31;for(var u=0;u<80;++u){var c,h,l,f,d,p,g=~~(u/20),y=((h=r)<<5|h>>>27)+(l=n,f=i,d=o,0===g?l&f|~l&d:2===g?l&f|l&d|f&d:l^f^d)+a+t[u]+nE[g]|0;a=o,o=i,i=(p=n)<<30|p>>>2,n=r,r=y}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=a+this._e|0},nR.prototype._hash=function(){var e=nA.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},nR.default;var nO=tx.Buffer,nP=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],nT=Array(64);function nM(){this.init(),this._w=nT,nv.call(this,64,56)}eN(nM,nv),nM.prototype.init=function(){return this._a=0x6a09e667,this._b=0xbb67ae85,this._c=0x3c6ef372,this._d=0xa54ff53a,this._e=0x510e527f,this._f=0x9b05688c,this._g=0x1f83d9ab,this._h=0x5be0cd19,this},nM.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,a=0|this._e,s=0|this._f,u=0|this._g,c=0|this._h,h=0;h<16;++h)t[h]=e.readInt32BE(4*h);for(;h<64;++h)t[h]=(((f=t[h-2])>>>17|f<<15)^(f>>>19|f<<13)^f>>>10)+t[h-7]+(((d=t[h-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3)+t[h-16]|0;for(var l=0;l<64;++l){var f,d,p,g,y,b,_,v,m,w=c+(((p=a)>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(g=a,y=s,(b=u)^g&(y^b))+nP[l]+t[l]|0,x=(((_=r)>>>2|_<<30)^(_>>>13|_<<19)^(_>>>22|_<<10))+((v=r)&(m=n)|i&(v|m))|0;c=u,u=s,s=a,a=o+w|0,o=i,i=n,n=r,r=w+x|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=a+this._e|0,this._f=s+this._f|0,this._g=u+this._g|0,this._h=c+this._h|0},nM.prototype._hash=function(){var e=nO.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},nM.default;var nC=tx.Buffer,nL=Array(64);function nB(){this.init(),this._w=nL,nv.call(this,64,56)}eN(nB,nM),nB.prototype.init=function(){return this._a=0xc1059ed8,this._b=0x367cd507,this._c=0x3070dd17,this._d=0xf70e5939,this._e=0xffc00b31,this._f=0x68581511,this._g=0x64f98fa7,this._h=0xbefa4fa4,this},nB.prototype._hash=function(){var e=nC.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},nB.default;var nI=tx.Buffer,nD=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817],nU=Array(160);function nj(){this.init(),this._w=nU,nv.call(this,128,112)}function nz(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function nF(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function nW(e,t){return+(e>>>0<t>>>0)}eN(nj,nv),nj.prototype.init=function(){return this._ah=0x6a09e667,this._bh=0xbb67ae85,this._ch=0x3c6ef372,this._dh=0xa54ff53a,this._eh=0x510e527f,this._fh=0x9b05688c,this._gh=0x1f83d9ab,this._hh=0x5be0cd19,this._al=0xf3bcc908,this._bl=0x84caa73b,this._cl=0xfe94f82b,this._dl=0x5f1d36f1,this._el=0xade682d1,this._fl=0x2b3e6c1f,this._gl=0xfb41bd6b,this._hl=0x137e2179,this},nj.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,s=0|this._fh,u=0|this._gh,c=0|this._hh,h=0|this._al,l=0|this._bl,f=0|this._cl,d=0|this._dl,p=0|this._el,g=0|this._fl,y=0|this._gl,b=0|this._hl,_=0;_<32;_+=2)t[_]=e.readInt32BE(4*_),t[_+1]=e.readInt32BE(4*_+4);for(;_<160;_+=2){var v,m,w,x,S,A,E,k,R=t[_-30],O=t[_-30+1],P=((v=R)>>>1|(m=O)<<31)^(v>>>8|m<<24)^v>>>7,T=((w=O)>>>1|(x=R)<<31)^(w>>>8|x<<24)^(w>>>7|x<<25);R=t[_-4],O=t[_-4+1];var M=((S=R)>>>19|(A=O)<<13)^(A>>>29|S<<3)^S>>>6,C=((E=O)>>>19|(k=R)<<13)^(k>>>29|E<<3)^(E>>>6|k<<26),L=t[_-14],B=t[_-14+1],I=t[_-32],D=t[_-32+1],U=T+B|0,j=P+L+nW(U,T)|0;j=(j=j+M+nW(U=U+C|0,C)|0)+I+nW(U=U+D|0,D)|0,t[_]=j,t[_+1]=U}for(var z=0;z<160;z+=2){j=t[z],U=t[z+1];var F,W,N,q,K,H,V,Y,$,J,X=(F=r)&(W=n)|i&(F|W),G=(N=h)&(q=l)|f&(N|q),Z=nz(r,h),Q=nz(h,r),ee=nF(a,p),et=nF(p,a),er=nD[z],en=nD[z+1],ei=(K=a,H=s,(V=u)^K&(H^V)),eo=(Y=p,$=g,(J=y)^Y&($^J)),ea=b+et|0,es=c+ee+nW(ea,b)|0;es=(es=(es=es+ei+nW(ea=ea+eo|0,eo)|0)+er+nW(ea=ea+en|0,en)|0)+j+nW(ea=ea+U|0,U)|0;var eu=Q+G|0,ec=Z+X+nW(eu,Q)|0;c=u,b=y,u=s,y=g,s=a,g=p,a=o+es+nW(p=d+ea|0,d)|0,o=i,d=f,i=n,f=l,n=r,l=h,r=es+ec+nW(h=ea+eu|0,ea)|0}this._al=this._al+h|0,this._bl=this._bl+l|0,this._cl=this._cl+f|0,this._dl=this._dl+d|0,this._el=this._el+p|0,this._fl=this._fl+g|0,this._gl=this._gl+y|0,this._hl=this._hl+b|0,this._ah=this._ah+r+nW(this._al,h)|0,this._bh=this._bh+n+nW(this._bl,l)|0,this._ch=this._ch+i+nW(this._cl,f)|0,this._dh=this._dh+o+nW(this._dl,d)|0,this._eh=this._eh+a+nW(this._el,p)|0,this._fh=this._fh+s+nW(this._fl,g)|0,this._gh=this._gh+u+nW(this._gl,y)|0,this._hh=this._hh+c+nW(this._hl,b)|0},nj.prototype._hash=function(){var e=nI.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},nj.default;var nN=tx.Buffer,nq=Array(160);function nK(){this.init(),this._w=nq,nv.call(this,128,112)}eN(nK,nj),nK.prototype.init=function(){return this._ah=0xcbbb9d5d,this._bh=0x629a292a,this._ch=0x9159015a,this._dh=0x152fecd8,this._eh=0x67332667,this._fh=0x8eb44a87,this._gh=0xdb0c2e0d,this._hh=0x47b5481d,this._al=0xc1059ed8,this._bl=0x367cd507,this._cl=0x3070dd17,this._dl=0xf70e5939,this._el=0xffc00b31,this._fl=0x68581511,this._gl=0x64f98fa7,this._hl=0xbefa4fa4,this},nK.prototype._hash=function(){var e=nN.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},nK.default;var nH=nb.exports=function(e){var t=nH[e=e.toLowerCase()];if(!t)throw Error(e+" is not supported (we accept pull requests)");return new t};nH.sha=nS,nH.sha1=nR,nH.sha224=nB,nH.sha256=nM,nH.sha384=nK,nH.sha512=nj;var nV=nb.exports;function nY(){this.head=null,this.tail=null,this.length=0}nY.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},nY.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},nY.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},nY.prototype.clear=function(){this.head=this.tail=null,this.length=0},nY.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},nY.prototype.concat=function(e){if(0===this.length)return e4.alloc(0);if(1===this.length)return this.head.data;for(var t=e4.allocUnsafe(e>>>0),r=this.head,n=0;r;)r.data.copy(t,n),n+=r.data.length,r=r.next;return t},nX.ReadableState=nJ;var n$=t2("stream");function nJ(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof ig&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new nY,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new rB(e.encoding),this.encoding=e.encoding)}function nX(e){if(!(this instanceof nX))return new nX(e);this._readableState=new nJ(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),tN.call(this)}function nG(e,t,r,n,i){var o,a,s,u=(c=t,h=r,l=null,e4.isBuffer(h)||"string"==typeof h||null==h||c.objectMode||(l=TypeError("Invalid non-string/buffer chunk")),l);if(u)e.emit("error",u);else if(null===r)t.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,nQ(e)}}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var c,h,l,f,d=Error("stream.push() after EOF");e.emit("error",d)}else if(t.endEmitted&&i){var p=Error("stream.unshift() after end event");e.emit("error",p)}else{!t.decoder||i||n||(r=t.decoder.write(r),f=!t.objectMode&&0===r.length),i||(t.reading=!1),!f&&(t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&nQ(e))),o=e,(a=t).readingMore||(a.readingMore=!0,tB(n1,o,a))}else i||(t.reading=!1);return!(s=t).ended&&(s.needReadable||s.length<s.highWaterMark||0===s.length)}function nZ(e,t){var r;if(e<=0||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!=e)if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length;return(e>t.highWaterMark&&((r=e)>=8388608?r=8388608:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),t.highWaterMark=r),e<=t.length)?e:t.ended?t.length:(t.needReadable=!0,0)}function nQ(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(n$("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?tB(n0,e):n0(e))}function n0(e){n$("emit readable"),e.emit("readable"),n4(e)}function n1(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(n$("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function n2(e){n$("readable nexttick read 0"),e.read(0)}function n3(e,t){t.reading||(n$("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),n4(e),t.flowing&&!t.reading&&e.read(0)}function n4(e){var t=e._readableState;for(n$("flow",t.flowing);t.flowing&&null!==e.read(););}function n8(e,t){var r,n,i,o,a;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):(n=e,i=t.buffer,o=t.decoder,n<i.head.data.length?(a=i.head.data.slice(0,n),i.head.data=i.head.data.slice(n)):a=n===i.head.data.length?i.shift():o?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(n,i):function(e,t){var r=e4.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0==(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(n,i),r=a),r)}function n6(e){var t=e._readableState;if(t.length>0)throw Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,tB(n5,t,e))}function n5(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function n7(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}function n9(){}function ie(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function it(e,t){Object.defineProperty(this,"buffer",{get:t0(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof ig&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t)--r.pendingcb,n?tB(i,t):i(t),e._writableState.errorEmitted=!0,e.emit("error",t);else{var o=is(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||ia(e,r),n?tB(io,e,r,o,i):io(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new ih(this)}function ir(e){if(!(this instanceof ir)&&!(this instanceof ig))return new ir(e);this._writableState=new it(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),tN.call(this)}function ii(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function io(e,t,r,n){var i,o;r||(i=e,0===(o=t).length&&o.needDrain&&(o.needDrain=!1,i.emit("drain"))),t.pendingcb--,n(),ic(e,t)}function ia(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=r;for(var o=0;r;)n[o]=r,r=r.next,o+=1;ii(e,t,!0,t.length,n,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new ih(t)}else{for(;r;){var a=r.chunk,s=r.encoding,u=r.callback,c=t.objectMode?1:a.length;if(ii(e,t,!1,c,a,s,u),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function is(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function iu(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function ic(e,t){var r=is(t);return r&&(0===t.pendingcb?(iu(e,t),t.finished=!0,e.emit("finish")):iu(e,t)),r}function ih(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}tX(nX,tN),nX.prototype.push=function(e,t){var r=this._readableState;return r.objectMode||"string"!=typeof e||(t=t||r.defaultEncoding)!==r.encoding&&(e=e4.from(e,t),t=""),nG(this,r,e,t,!1)},nX.prototype.unshift=function(e){return nG(this,this._readableState,e,"",!0)},nX.prototype.isPaused=function(){return!1===this._readableState.flowing},nX.prototype.setEncoding=function(e){return this._readableState.decoder=new rB(e),this._readableState.encoding=e,this},nX.prototype.read=function(e){n$("read",e),e=parseInt(e,10);var t,r=this._readableState,n=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&(r.length>=r.highWaterMark||r.ended))return n$("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?n6(this):nQ(this),null;if(0===(e=nZ(e,r))&&r.ended)return 0===r.length&&n6(this),null;var i=r.needReadable;return n$("need readable",i),(0===r.length||r.length-e<r.highWaterMark)&&n$("length less than watermark",i=!0),r.ended||r.reading?n$("reading or ended",i=!1):i&&(n$("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=nZ(n,r))),null===(t=e>0?n8(e,r):null)?(r.needReadable=!0,e=0):r.length-=e,0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&n6(this)),null!==t&&this.emit("data",t),t},nX.prototype._read=function(e){this.emit("error",Error("not implemented"))},nX.prototype.pipe=function(e,t){var r,n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,n$("pipe count=%d opts=%j",i.pipesCount,t);var o=t&&!1===t.end?h:s;function a(e){n$("onunpipe"),e===n&&h()}function s(){n$("onend"),e.end()}i.endEmitted?tB(o):n.once("end",o),e.on("unpipe",a);var u=(r=n,function(){var e=r._readableState;n$("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&r.listeners("data").length&&(e.flowing=!0,n4(r))});e.on("drain",u);var c=!1;function h(){n$("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",u),e.removeListener("error",d),e.removeListener("unpipe",a),n.removeListener("end",s),n.removeListener("end",h),n.removeListener("data",f),c=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&u()}var l=!1;function f(t){n$("ondata"),l=!1,!1!==e.write(t)||l||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==n7(i.pipes,e))&&!c&&(n$("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,l=!0),n.pause())}function d(t){n$("onerror",t),y(),e.removeListener("error",d),0===e.listeners("error").length&&e.emit("error",t)}function p(){e.removeListener("finish",g),y()}function g(){n$("onfinish"),e.removeListener("close",p),y()}function y(){n$("unpipe"),n.unpipe(e)}return n.on("data",f),!function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",p),e.once("finish",g),e.emit("pipe",n),i.flowing||(n$("pipe resume"),n.resume()),e},nX.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var o=n7(t.pipes,e);return -1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},nX.prototype.on=function(e,t){var r=tN.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&nQ(this):tB(n2,this))}return r},nX.prototype.addListener=nX.prototype.on,nX.prototype.resume=function(){var e,t,r=this._readableState;return r.flowing||(n$("resume"),r.flowing=!0,e=this,(t=r).resumeScheduled||(t.resumeScheduled=!0,tB(n3,e,t))),this},nX.prototype.pause=function(){return n$("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(n$("pause"),this._readableState.flowing=!1,this.emit("pause")),this},nX.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",function(){if(n$("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(i){n$("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(["error","close","destroy","pause","resume"],function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){n$("wrapped _read",t),r&&(r=!1,e.resume())},n},nX._fromList=n8,ir.WritableState=it,tX(ir,tN),it.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},ir.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))},ir.prototype.write=function(e,t,r){var n,i,o,a,s,u=this._writableState,c=!1;return("function"==typeof t&&(r=t,t=null),e4.isBuffer(e)?t="buffer":t||(t=u.defaultEncoding),"function"!=typeof r&&(r=n9),u.ended)?(n=r,i=Error("write after end"),this.emit("error",i),tB(n,i)):(o=r,a=!0,s=!1,null===e?s=TypeError("May not write null values to stream"):e4.isBuffer(e)||"string"==typeof e||void 0===e||u.objectMode||(s=TypeError("Invalid non-string/buffer chunk")),s&&(this.emit("error",s),tB(o,s),a=!1),a&&(u.pendingcb++,c=function(e,t,r,n,i){o=r,a=n,t.objectMode||!1===t.decodeStrings||"string"!=typeof o||(o=e4.from(o,a)),r=o,e4.isBuffer(r)&&(n="buffer");var o,a,s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest=new ie(r,n,i),c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else ii(e,t,!1,s,r,n,i);return u}(this,u,e,t,r))),c},ir.prototype.cork=function(){var e=this._writableState;e.corked++},ir.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||ia(this,e))},ir.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},ir.prototype._write=function(e,t,r){r(Error("not implemented"))},ir.prototype._writev=null,ir.prototype.end=function(e,t,r){var n,i,o,a=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),a.corked&&(a.corked=1,this.uncork()),a.ending||a.finished||(n=this,i=a,o=r,i.ending=!0,ic(n,i),o&&(i.finished?tB(o):n.once("finish",o)),i.ended=!0,n.writable=!1)},tX(ig,nX);for(var il=Object.keys(ir.prototype),id=0;id<il.length;id++){var ip=il[id];ig.prototype[ip]||(ig.prototype[ip]=ir.prototype[ip])}function ig(e){if(!(this instanceof ig))return new ig(e);nX.call(this,e),ir.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",iy)}function iy(){this.allowHalfOpen||this._writableState.ended||tB(ib,this)}function ib(e){e.end()}function i_(e){this.afterTransform=function(t,r){var n=e,i=t,o=r,a=n._transformState;a.transforming=!1;var s=a.writecb;if(!s)return n.emit("error",Error("no writecb in Transform class"));a.writechunk=null,a.writecb=null,null!=o&&n.push(o),s(i);var u=n._readableState;u.reading=!1,(u.needReadable||u.length<u.highWaterMark)&&n._read(u.highWaterMark)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function iv(e){if(!(this instanceof iv))return new iv(e);ig.call(this,e),this._transformState=new i_(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e){im(t,e)}):im(t)})}function im(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw Error("Calling transform done when ws.length != 0");if(n.transforming)throw Error("Calling transform done when still transforming");return e.push(null)}function iw(e){if(!(this instanceof iw))return new iw(e);iv.call(this,e)}function ix(){tN.call(this)}tX(iv,ig),iv.prototype.push=function(e,t){return this._transformState.needTransform=!1,ig.prototype.push.call(this,e,t)},iv.prototype._transform=function(e,t,r){throw Error("Not implemented")},iv.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},iv.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},tX(iw,iv),iw.prototype._transform=function(e,t,r){r(null,e)},tX(ix,tN),ix.Readable=nX,ix.Writable=ir,ix.Duplex=ig,ix.Transform=iv,ix.PassThrough=iw,ix.Stream=ix,ix.prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",a),r.on("close",s));var o=!1;function a(){o||(o=!0,e.end())}function s(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===tN.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",a),r.removeListener("close",s),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",u),e.on("error",u),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e};var iS=C(Object.freeze({__proto__:null,Duplex:ig,PassThrough:iw,Readable:nX,Stream:ix,Transform:iv,Writable:ir,default:ix})),iA=tx.Buffer,iE=iS.Transform,ik=rj.StringDecoder;function iR(e){iE.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}function iO(e){iR.call(this,"digest"),this._hash=e}eN(iR,iE),iR.prototype.update=function(e,t,r){"string"==typeof e&&(e=iA.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},iR.prototype.setAutoPadding=function(){},iR.prototype.getAuthTag=function(){throw Error("trying to get auth tag in unsupported state")},iR.prototype.setAuthTag=function(){throw Error("trying to set auth tag in unsupported state")},iR.prototype.setAAD=function(){throw Error("trying to set aad in unsupported state")},iR.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},iR.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},iR.prototype._finalOrDigest=function(e){var t=this.__final()||iA.alloc(0);return e&&(t=this._toString(t,e,!0)),t},iR.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new ik(t),this._encoding=t),this._encoding!==t)throw Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},iR.default,eN(iO,iR),iO.prototype._update=function(e){this._hash.update(e)},iO.prototype._final=function(){return this._hash.digest()};var iP=function(e){return"md5"===(e=e.toLowerCase())?new nn:"rmd160"===e||"ripemd160"===e?new ng:new iO(nV(e))};iP.default;var iT="undefined"!=typeof window?window:void 0!==M?M:"undefined"!=typeof self?self:{};iT.default;var iM=C(Object.freeze({__proto__:null,default:{}})),iC=function(e){if(iT.crypto&&iT.crypto.getRandomValues)return iT.crypto.getRandomValues(e);if("object"==typeof iT.msCrypto&&"function"==typeof iT.msCrypto.getRandomValues)return iT.msCrypto.getRandomValues(e);if(iM.randomBytes){if(!(e instanceof Uint8Array))throw TypeError("expected Uint8Array");if(e.length>65536){var t=Error();throw t.code=22,t.message="Failed to execute 'getRandomValues' on 'Crypto': The ArrayBufferView's byte length ("+e.length+") exceeds the number of bytes of entropy available via this API (65536).",t.name="QuotaExceededError",t}var r=iM.randomBytes(e.length);return e.set(r),e}throw Error("No secure random number generator available.")};function iL(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}iC.default,Object.defineProperty(ez,"__esModule",{value:!0});var iB=iL(eW),iI=iL(iP),iD=iL(iC);let iU={EOS:"eos",ETH:"eth",TRX:"trx"};Object.keys(iU).map(e=>({key:e,value:iU[e]}));class ij{constructor(e=iU.EOS,t="",r="",n=null,i=null){this.blockchain=e,this.contract=t,this.symbol=r,this.name=n||r,this.decimals=i}static placeholder(){return new ij}static fromJson(e){return Object.assign(this.placeholder(),e)}}let iz="blockchain_support",iF="wallet_support";var iW=Object.freeze({__proto__:null,BLOCKCHAIN_SUPPORT:iz,WALLET_SUPPORT:iF});class iN{constructor(e="",t=""){this.name=e,this.type=t}static placeholder(){return new iN}static fromJson(e){return Object.assign(iN.placeholder(),e)}isSignatureProvider(){return this.type===iz}isValid(){return Object.keys(iW).map(e=>iW[e]).includes(this.type)}}let iq={disconnect:"disconnect",isConnected:"isConnected",isPaired:"isPaired",addEventHandler:"addEventHandler",removeEventHandler:"removeEventHandler",listen:"listen",getVersion:"getVersion",getIdentity:"getIdentity",getAllAccountsFor:"getAllAccountsFor",getIdentityFromPermissions:"getIdentityFromPermissions",forgetIdentity:"forgetIdentity",updateIdentity:"updateIdentity",authenticate:"authenticate",getArbitrarySignature:"getArbitrarySignature",getPublicKey:"getPublicKey",linkAccount:"linkAccount",hasAccountFor:"hasAccountFor",suggestNetwork:"suggestNetwork",requestTransfer:"requestTransfer",getAvatar:"getAvatar",requestSignature:"requestSignature",createTransaction:"createTransaction",addToken:"addToken",createEncryptionKey:"createEncryptionKey"},iK={[iq.getIdentity]:"login",[iq.getAllAccountsFor]:"loginAll",[iq.forgetIdentity]:"logout",[iq.getIdentityFromPermissions]:"checkLogin"};class iH{constructor(e,t,r){const n=t=>()=>{throw console.error(`${e} does not support the ${t} method.`),Error(`${e} does not support the ${t} method.`)};Object.keys(iq).map(e=>{var i;return i=t[e],void(void 0===r[e]&&(r[e]=i||n(e)),iK[e]&&void 0===r[iK[e]]&&(r[iK[e]]=r[e]?r[e]:n(e)))})}static bindBasics(e){e.account=t=>{if(e.identity&&e.identity.accounts)return e.identity.accounts.find(e=>e.blockchain===t)}}}class iV{static getMethods(e,t){let r=(t,r)=>((t||r)&&(e.holderFns.get().identity=t),r||t);return{[iq.disconnect]:()=>t().disconnect(),[iq.isConnected]:()=>t().isConnected(),[iq.isPaired]:()=>t().isPaired(),[iq.addEventHandler]:(e,r=null)=>t().addEventHandler(e,r),[iq.removeEventHandler]:(e=null)=>t().removeEventHandler(e),[iq.listen]:e=>t().addEventHandler(e),[iq.getVersion]:()=>t().sendApiRequest({type:"getVersion",payload:{}}),[iq.getIdentity]:n=>t().sendApiRequest({type:"getOrRequestIdentity",payload:{fields:n||{accounts:[e.holderFns.get().network]}}}).then(r),[iq.getAllAccountsFor]:n=>t().sendApiRequest({type:"getAllAccountsFor",payload:{fields:n||{accounts:[e.holderFns.get().network]}}}).then(r),[iq.getIdentityFromPermissions]:()=>t().sendApiRequest({type:"identityFromPermissions",payload:{}}).then(r),[iq.forgetIdentity]:()=>t().sendApiRequest({type:"forgetIdentity",payload:{}}).then(e=>r(null,e)),[iq.updateIdentity]:({name:e,kyc:n})=>t().sendApiRequest({type:"updateIdentity",payload:{name:e,kyc:n}}).then(e=>e?r(e):null),[iq.authenticate]:(e,r=null,n=null)=>t().sendApiRequest({type:"authenticate",payload:{nonce:e,data:r,publicKey:n}}),[iq.getArbitrarySignature]:(e,r)=>t().sendApiRequest({type:"requestArbitrarySignature",payload:{publicKey:e,data:r}}),[iq.getPublicKey]:e=>t().sendApiRequest({type:"getPublicKey",payload:{blockchain:e}}),[iq.linkAccount]:(r,n)=>t().sendApiRequest({type:"linkAccount",payload:{account:r,network:n||e.holderFns.get().network}}),[iq.hasAccountFor]:r=>t().sendApiRequest({type:"hasAccountFor",payload:{network:r||e.holderFns.get().network}}),[iq.suggestNetwork]:r=>t().sendApiRequest({type:"requestAddNetwork",payload:{network:r||e.holderFns.get().network}}),[iq.requestTransfer]:(r,n,i,o={})=>t().sendApiRequest({type:"requestTransfer",payload:{network:r||e.holderFns.get().network,to:n,amount:i,options:o}}),[iq.getAvatar]:()=>t().sendApiRequest({type:"getAvatar",payload:{}}),[iq.requestSignature]:e=>t().sendApiRequest({type:"requestSignature",payload:e}),[iq.createTransaction]:(r,n,i,o)=>t().sendApiRequest({type:"createTransaction",payload:{blockchain:r,actions:n,account:i,network:o||e.holderFns.get().network}}),[iq.addToken]:(r,n)=>t().sendApiRequest({type:"addToken",payload:{token:r,network:n||e.holderFns.get().network}}),[iq.createEncryptionKey]:(e,r,n=null)=>t().sendApiRequest({type:"createEncryptionKey",payload:{scatterPublicKey:e,otherPublicKey:r,nonce:n}})}}}let iY=!1;"undefined"!=typeof document&&document.addEventListener("walletLoaded",()=>iY=!0);let i$=async(e=null,t=0)=>new Promise(r=>(e||(e=r),iY||"undefined"!=typeof window&&void 0!==window.wallet&&(iY=!0,1))?e(!0):t>5?e(!1):void setTimeout(()=>i$(e,t+1),100));class iJ extends iN{constructor(e,t){super("InjectedWalletV2",iF),this.name="InjectedWalletV2",this.context=e,this.holderFns=t}async connect(){return new Promise(async e=>{await i$()&&(this.holderFns&&!this.holderFns.get().wallet&&(this.holderFns.get().wallet=this.name),e({disconnect:()=>{},sendApiRequest:window.wallet.sendApiRequest}))})}async runAfterInterfacing(){return this.holderFns.get().identity=await this.holderFns.get().getIdentityFromPermissions(),!0}methods(){return iV.getMethods(this,()=>window.wallet)}}class iX{constructor(e="",t="https",r="",n=0,i=iU.EOS,o=""){this.name=e,this.protocol=t,this.host=r,this.port=n,this.blockchain=i,this.chainId=o.toString(),this.token=null}static placeholder(){return new iX}static fromJson(e){let t=Object.assign(iX.placeholder(),e);return t.chainId=t.chainId?t.chainId.toString():"",t.token=e.hasOwnProperty("token")&&e.token?ij.fromJson(e.token):null,t}fullhost(){return`${this.protocol}://${this.host}${this.port?":":""}${this.port}`}unique(){return(`${this.blockchain}:`+(this.chainId.length?`chain:${this.chainId}`:`${this.host}:${this.port}`)).toLowerCase()}}let iG={},iZ=()=>"undefined"!=typeof window?window:{localStorage:{setItem:(e,t)=>iG[e]=t,getItem:e=>iG[e]||null,removeItem:e=>delete iG[e]}};class iQ{constructor(){}static setAppKey(e){iZ().localStorage.setItem("appkey",e)}static getAppKey(){return iZ().localStorage.getItem("appkey")}static removeAppKey(){return iZ().localStorage.removeItem("appkey")}static setNonce(e){iZ().localStorage.setItem("nonce",e)}static getNonce(){return iZ().localStorage.getItem("nonce")}static removeNonce(){return iZ().localStorage.removeItem("nonce")}}var i0=RegExp("^.*(\\+https:\\/\\/developers.google.com\\/\\+\\/web\\/snippet\\/|googlebot|baiduspider|gurujibot|yandexbot|slurp|msnbot|bingbot|facebookexternalhit|linkedinbot|twitterbot|slackbot|telegrambot|applebot|pingdom|tumblr |Embedly|spbot).*$"),i1=function(e){var t={version:!1,language:!1,platform:!0,os:!0,pixelDepth:!0,colorDepth:!0,resolution:!1,isAuthoritative:!0,silkAccelerated:!0,isKindleFire:!0,isDesktop:!0,isMobile:!0,isTablet:!0,isWindows:!0,isLinux:!0,isLinux64:!0,isChromeOS:!0,isMac:!0,isiPad:!0,isiPhone:!0,isiPod:!0,isAndroid:!0,isSamsung:!0,isSmartTV:!0,isRaspberry:!0,isBlackberry:!0,isTouchScreen:!0,isOpera:!1,isIE:!1,isEdge:!1,isIECompatibilityMode:!1,isSafari:!1,isFirefox:!1,isWebkit:!1,isChrome:!1,isKonqueror:!1,isOmniWeb:!1,isSeaMonkey:!1,isFlock:!1,isAmaya:!1,isPhantomJS:!1,isEpiphany:!1,source:!1,cpuCores:!1};for(var r in e=e||{})e.hasOwnProperty(r)&&void 0!==t[r]&&(t[r]=e[r]);return this.options=t,this.version="1.0.0",this._Versions={Edge:/Edge\/([\d\w\.\-]+)/i,Firefox:/firefox\/([\d\w\.\-]+)/i,IE:/msie\s([\d\.]+[\d])|trident\/\d+\.\d+;.*[rv:]+(\d+\.\d)/i,Chrome:/chrome\/([\d\w\.\-]+)/i,Chromium:/(?:chromium|crios)\/([\d\w\.\-]+)/i,Safari:/version\/([\d\w\.\-]+)/i,Opera:/version\/([\d\w\.\-]+)|OPR\/([\d\w\.\-]+)/i,Ps3:/([\d\w\.\-]+)\)\s*$/i,Psp:/([\d\w\.\-]+)\)?\s*$/i,Amaya:/amaya\/([\d\w\.\-]+)/i,SeaMonkey:/seamonkey\/([\d\w\.\-]+)/i,OmniWeb:/omniweb\/v([\d\w\.\-]+)/i,Flock:/flock\/([\d\w\.\-]+)/i,Epiphany:/epiphany\/([\d\w\.\-]+)/i,WinJs:/msapphost\/([\d\w\.\-]+)/i,PhantomJS:/phantomjs\/([\d\w\.\-]+)/i,UC:/UCBrowser\/([\d\w\.]+)/i},this._Browsers={Edge:/edge/i,Amaya:/amaya/i,Konqueror:/konqueror/i,Epiphany:/epiphany/i,SeaMonkey:/seamonkey/i,Flock:/flock/i,OmniWeb:/omniweb/i,Chromium:/chromium|crios/i,Chrome:/chrome/i,Safari:/safari/i,IE:/msie|trident/i,Opera:/opera|OPR/i,PS3:/playstation 3/i,PSP:/playstation portable/i,Firefox:/firefox/i,WinJs:/msapphost/i,PhantomJS:/phantomjs/i,UC:/UCBrowser/i},this._OS={Windows10:/windows nt 10\.0/i,Windows81:/windows nt 6\.3/i,Windows8:/windows nt 6\.2/i,Windows7:/windows nt 6\.1/i,UnknownWindows:/windows nt 6\.\d+/i,WindowsVista:/windows nt 6\.0/i,Windows2003:/windows nt 5\.2/i,WindowsXP:/windows nt 5\.1/i,Windows2000:/windows nt 5\.0/i,WindowsPhone8:/windows phone 8\./,OSXCheetah:/os x 10[._]0/i,OSXPuma:/os x 10[._]1(\D|$)/i,OSXJaguar:/os x 10[._]2/i,OSXPanther:/os x 10[._]3/i,OSXTiger:/os x 10[._]4/i,OSXLeopard:/os x 10[._]5/i,OSXSnowLeopard:/os x 10[._]6/i,OSXLion:/os x 10[._]7/i,OSXMountainLion:/os x 10[._]8/i,OSXMavericks:/os x 10[._]9/i,OSXYosemite:/os x 10[._]10/i,OSXElCapitan:/os x 10[._]11/i,OSXSierra:/os x 10[._]12/i,Mac:/os x/i,Linux:/linux/i,Linux64:/linux x86_64/i,ChromeOS:/cros/i,Wii:/wii/i,PS3:/playstation 3/i,PSP:/playstation portable/i,iPad:/\(iPad.*os (\d+)[._](\d+)/i,iPhone:/\(iPhone.*os (\d+)[._](\d+)/i,Bada:/Bada\/(\d+)\.(\d+)/i,Curl:/curl\/(\d+)\.(\d+)\.(\d+)/i},this._Platform={Windows:/windows nt/i,WindowsPhone:/windows phone/i,Mac:/macintosh/i,Linux:/linux/i,Wii:/wii/i,Playstation:/playstation/i,iPad:/ipad/i,iPod:/ipod/i,iPhone:/iphone/i,Android:/android/i,Blackberry:/blackberry/i,Samsung:/samsung/i,Curl:/curl/i},this.DefaultAgent={isAuthoritative:!0,isMobile:!1,isTablet:!1,isiPad:!1,isiPod:!1,isiPhone:!1,isAndroid:!1,isBlackberry:!1,isOpera:!1,isIE:!1,isEdge:!1,isIECompatibilityMode:!1,isSafari:!1,isFirefox:!1,isWebkit:!1,isChrome:!1,isKonqueror:!1,isOmniWeb:!1,isSeaMonkey:!1,isFlock:!1,isAmaya:!1,isPhantomJS:!1,isEpiphany:!1,isDesktop:!1,isWindows:!1,isLinux:!1,isLinux64:!1,isMac:!1,isChromeOS:!1,isBada:!1,isSamsung:!1,isRaspberry:!1,isBot:!1,isCurl:!1,isAndroidTablet:!1,isWinJs:!1,isKindleFire:!1,isSilk:!1,isCaptive:!1,isSmartTV:!1,isUC:!1,isTouchScreen:!1,silkAccelerated:!1,colorDepth:-1,pixelDepth:-1,resolution:[],cpuCores:-1,language:"unknown",browser:"unknown",version:"unknown",os:"unknown",platform:"unknown",geoIp:{},source:"",hashInt:function(e){var t,r,n=0;if(0===e.length)return n;for(t=0,r=e.length;t<r;t++)n=(n<<5)-n+e.charCodeAt(t)|0;return n},hashMD5:function(e){function t(e,t){return e<<t|e>>>32-t}function r(e,t){var r,n,i,o,a;return(i=0x80000000&e,o=0x80000000&t,r=0x40000000&e,n=0x40000000&t,a=(0x3fffffff&e)+(0x3fffffff&t),r&n)?0x80000000^a^i^o:r|n?0x40000000&a?0xc0000000^a^i^o:0x40000000^a^i^o:a^i^o}function n(e,n,i,o,a,s,u){return e=r(e,r(r(n&i|~n&o,a),u)),r(t(e,s),n)}function i(e,n,i,o,a,s,u){return e=r(e,r(r(n&o|i&~o,a),u)),r(t(e,s),n)}function o(e,n,i,o,a,s,u){return e=r(e,r(r(n^i^o,a),u)),r(t(e,s),n)}function a(e,n,i,o,a,s,u){return e=r(e,r(r(i^(n|~o),a),u)),r(t(e,s),n)}function s(e){var t,r="",n="";for(t=0;t<=3;t++)r+=(n="0"+(e>>>8*t&255).toString(16)).substr(n.length-2,2);return r}var u,c,h,l,f,d,p,g,y,b=[];for(u=0,b=function(e){for(var t,r=e.length,n=r+8,i=((n-n%64)/64+1)*16,o=Array(i-1),a=0,s=0;s<r;)t=(s-s%4)/4,a=s%4*8,o[t]=o[t]|e.charCodeAt(s)<<a,s++;return t=(s-s%4)/4,a=s%4*8,o[t]=o[t]|128<<a,o[i-2]=r<<3,o[i-1]=r>>>29,o}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):(n>127&&n<2048?t+=String.fromCharCode(n>>6|192):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128)),t+=String.fromCharCode(63&n|128))}return t}(e)),d=0x67452301,p=0xefcdab89,g=0x98badcfe,y=0x10325476;u<b.length;u+=16)c=d,h=p,l=g,f=y,d=n(d,p,g,y,b[u+0],7,0xd76aa478),y=n(y,d,p,g,b[u+1],12,0xe8c7b756),g=n(g,y,d,p,b[u+2],17,0x242070db),p=n(p,g,y,d,b[u+3],22,0xc1bdceee),d=n(d,p,g,y,b[u+4],7,0xf57c0faf),y=n(y,d,p,g,b[u+5],12,0x4787c62a),g=n(g,y,d,p,b[u+6],17,0xa8304613),p=n(p,g,y,d,b[u+7],22,0xfd469501),d=n(d,p,g,y,b[u+8],7,0x698098d8),y=n(y,d,p,g,b[u+9],12,0x8b44f7af),g=n(g,y,d,p,b[u+10],17,0xffff5bb1),p=n(p,g,y,d,b[u+11],22,0x895cd7be),d=n(d,p,g,y,b[u+12],7,0x6b901122),y=n(y,d,p,g,b[u+13],12,0xfd987193),g=n(g,y,d,p,b[u+14],17,0xa679438e),p=n(p,g,y,d,b[u+15],22,0x49b40821),d=i(d,p,g,y,b[u+1],5,0xf61e2562),y=i(y,d,p,g,b[u+6],9,0xc040b340),g=i(g,y,d,p,b[u+11],14,0x265e5a51),p=i(p,g,y,d,b[u+0],20,0xe9b6c7aa),d=i(d,p,g,y,b[u+5],5,0xd62f105d),y=i(y,d,p,g,b[u+10],9,0x2441453),g=i(g,y,d,p,b[u+15],14,0xd8a1e681),p=i(p,g,y,d,b[u+4],20,0xe7d3fbc8),d=i(d,p,g,y,b[u+9],5,0x21e1cde6),y=i(y,d,p,g,b[u+14],9,0xc33707d6),g=i(g,y,d,p,b[u+3],14,0xf4d50d87),p=i(p,g,y,d,b[u+8],20,0x455a14ed),d=i(d,p,g,y,b[u+13],5,0xa9e3e905),y=i(y,d,p,g,b[u+2],9,0xfcefa3f8),g=i(g,y,d,p,b[u+7],14,0x676f02d9),p=i(p,g,y,d,b[u+12],20,0x8d2a4c8a),d=o(d,p,g,y,b[u+5],4,0xfffa3942),y=o(y,d,p,g,b[u+8],11,0x8771f681),g=o(g,y,d,p,b[u+11],16,0x6d9d6122),p=o(p,g,y,d,b[u+14],23,0xfde5380c),d=o(d,p,g,y,b[u+1],4,0xa4beea44),y=o(y,d,p,g,b[u+4],11,0x4bdecfa9),g=o(g,y,d,p,b[u+7],16,0xf6bb4b60),p=o(p,g,y,d,b[u+10],23,0xbebfbc70),d=o(d,p,g,y,b[u+13],4,0x289b7ec6),y=o(y,d,p,g,b[u+0],11,0xeaa127fa),g=o(g,y,d,p,b[u+3],16,0xd4ef3085),p=o(p,g,y,d,b[u+6],23,0x4881d05),d=o(d,p,g,y,b[u+9],4,0xd9d4d039),y=o(y,d,p,g,b[u+12],11,0xe6db99e5),g=o(g,y,d,p,b[u+15],16,0x1fa27cf8),p=o(p,g,y,d,b[u+2],23,0xc4ac5665),d=a(d,p,g,y,b[u+0],6,0xf4292244),y=a(y,d,p,g,b[u+7],10,0x432aff97),g=a(g,y,d,p,b[u+14],15,0xab9423a7),p=a(p,g,y,d,b[u+5],21,0xfc93a039),d=a(d,p,g,y,b[u+12],6,0x655b59c3),y=a(y,d,p,g,b[u+3],10,0x8f0ccc92),g=a(g,y,d,p,b[u+10],15,0xffeff47d),p=a(p,g,y,d,b[u+1],21,0x85845dd1),d=a(d,p,g,y,b[u+8],6,0x6fa87e4f),y=a(y,d,p,g,b[u+15],10,0xfe2ce6e0),g=a(g,y,d,p,b[u+6],15,0xa3014314),p=a(p,g,y,d,b[u+13],21,0x4e0811a1),d=a(d,p,g,y,b[u+4],6,0xf7537e82),y=a(y,d,p,g,b[u+11],10,0xbd3af235),g=a(g,y,d,p,b[u+2],15,0x2ad7d2bb),p=a(p,g,y,d,b[u+9],21,0xeb86d391),d=r(d,c),p=r(p,h),g=r(g,l),y=r(y,f);return(s(d)+s(p)+s(g)+s(y)).toLowerCase()}},this.Agent={},this.getBrowser=function(e){switch(!0){case this._Browsers.Edge.test(e):return this.Agent.isEdge=!0,"Edge";case this._Browsers.PhantomJS.test(e):return this.Agent.isPhantomJS=!0,"PhantomJS";case this._Browsers.Konqueror.test(e):return this.Agent.isKonqueror=!0,"Konqueror";case this._Browsers.Amaya.test(e):return this.Agent.isAmaya=!0,"Amaya";case this._Browsers.Epiphany.test(e):return this.Agent.isEpiphany=!0,"Epiphany";case this._Browsers.SeaMonkey.test(e):return this.Agent.isSeaMonkey=!0,"SeaMonkey";case this._Browsers.Flock.test(e):return this.Agent.isFlock=!0,"Flock";case this._Browsers.OmniWeb.test(e):return this.Agent.isOmniWeb=!0,"OmniWeb";case this._Browsers.Opera.test(e):return this.Agent.isOpera=!0,"Opera";case this._Browsers.Chromium.test(e):return this.Agent.isChrome=!0,"Chromium";case this._Browsers.Chrome.test(e):return this.Agent.isChrome=!0,"Chrome";case this._Browsers.Safari.test(e):return this.Agent.isSafari=!0,"Safari";case this._Browsers.WinJs.test(e):return this.Agent.isWinJs=!0,"WinJs";case this._Browsers.IE.test(e):return this.Agent.isIE=!0,"IE";case this._Browsers.PS3.test(e):return"ps3";case this._Browsers.PSP.test(e):return"psp";case this._Browsers.Firefox.test(e):return this.Agent.isFirefox=!0,"Firefox";case this._Browsers.UC.test(e):return this.Agent.isUC=!0,"UCBrowser";default:if(0!==e.indexOf("Mozilla")&&/^([\d\w\-\.]+)\/[\d\w\.\-]+/i.test(e))return this.Agent.isAuthoritative=!1,RegExp.$1;return"unknown"}},this.getBrowserVersion=function(e){switch(this.Agent.browser){case"Edge":if(this._Versions.Edge.test(e))return RegExp.$1;break;case"PhantomJS":if(this._Versions.PhantomJS.test(e))return RegExp.$1;break;case"Chrome":if(this._Versions.Chrome.test(e))return RegExp.$1;break;case"Chromium":if(this._Versions.Chromium.test(e))return RegExp.$1;break;case"Safari":if(this._Versions.Safari.test(e))return RegExp.$1;break;case"Opera":if(this._Versions.Opera.test(e))return RegExp.$1?RegExp.$1:RegExp.$2;break;case"Firefox":if(this._Versions.Firefox.test(e))return RegExp.$1;break;case"WinJs":if(this._Versions.WinJs.test(e))return RegExp.$1;break;case"IE":if(this._Versions.IE.test(e))return RegExp.$2?RegExp.$2:RegExp.$1;break;case"ps3":if(this._Versions.Ps3.test(e))return RegExp.$1;break;case"psp":if(this._Versions.Psp.test(e))return RegExp.$1;break;case"Amaya":if(this._Versions.Amaya.test(e))return RegExp.$1;break;case"Epiphany":if(this._Versions.Epiphany.test(e))return RegExp.$1;break;case"SeaMonkey":if(this._Versions.SeaMonkey.test(e))return RegExp.$1;break;case"Flock":if(this._Versions.Flock.test(e))return RegExp.$1;break;case"OmniWeb":if(this._Versions.OmniWeb.test(e))return RegExp.$1;break;case"UCBrowser":if(this._Versions.UC.test(e))return RegExp.$1;break;default:if("unknown"!==this.Agent.browser&&RegExp(this.Agent.browser+"[\\/ ]([\\d\\w\\.\\-]+)","i").test(e))return RegExp.$1}},this.getOS=function(e){switch(!0){case this._OS.WindowsVista.test(e):return this.Agent.isWindows=!0,"Windows Vista";case this._OS.Windows7.test(e):return this.Agent.isWindows=!0,"Windows 7";case this._OS.Windows8.test(e):return this.Agent.isWindows=!0,"Windows 8";case this._OS.Windows81.test(e):return this.Agent.isWindows=!0,"Windows 8.1";case this._OS.Windows10.test(e):return this.Agent.isWindows=!0,"Windows 10.0";case this._OS.Windows2003.test(e):return this.Agent.isWindows=!0,"Windows 2003";case this._OS.WindowsXP.test(e):return this.Agent.isWindows=!0,"Windows XP";case this._OS.Windows2000.test(e):return this.Agent.isWindows=!0,"Windows 2000";case this._OS.WindowsPhone8.test(e):return"Windows Phone 8";case this._OS.Linux64.test(e):return this.Agent.isLinux=!0,this.Agent.isLinux64=!0,"Linux 64";case this._OS.Linux.test(e):return this.Agent.isLinux=!0,"Linux";case this._OS.ChromeOS.test(e):return this.Agent.isChromeOS=!0,"Chrome OS";case this._OS.Wii.test(e):return"Wii";case this._OS.PS3.test(e):case this._OS.PSP.test(e):return"Playstation";case this._OS.OSXCheetah.test(e):return this.Agent.isMac=!0,"OS X Cheetah";case this._OS.OSXPuma.test(e):return this.Agent.isMac=!0,"OS X Puma";case this._OS.OSXJaguar.test(e):return this.Agent.isMac=!0,"OS X Jaguar";case this._OS.OSXPanther.test(e):return this.Agent.isMac=!0,"OS X Panther";case this._OS.OSXTiger.test(e):return this.Agent.isMac=!0,"OS X Tiger";case this._OS.OSXLeopard.test(e):return this.Agent.isMac=!0,"OS X Leopard";case this._OS.OSXSnowLeopard.test(e):return this.Agent.isMac=!0,"OS X Snow Leopard";case this._OS.OSXLion.test(e):return this.Agent.isMac=!0,"OS X Lion";case this._OS.OSXMountainLion.test(e):return this.Agent.isMac=!0,"OS X Mountain Lion";case this._OS.OSXMavericks.test(e):return this.Agent.isMac=!0,"OS X Mavericks";case this._OS.OSXYosemite.test(e):return this.Agent.isMac=!0,"OS X Yosemite";case this._OS.OSXElCapitan.test(e):return this.Agent.isMac=!0,"OS X El Capitan";case this._OS.OSXSierra.test(e):return this.Agent.isMac=!0,"macOS Sierra";case this._OS.Mac.test(e):return this.Agent.isMac=!0,"OS X";case this._OS.iPad.test(e):return this.Agent.isiPad=!0,e.match(this._OS.iPad)[0].replace("_",".");case this._OS.iPhone.test(e):return this.Agent.isiPhone=!0,e.match(this._OS.iPhone)[0].replace("_",".");case this._OS.Bada.test(e):return this.Agent.isBada=!0,"Bada";case this._OS.Curl.test(e):return this.Agent.isCurl=!0,"Curl";default:return"unknown"}},this.getPlatform=function(e){switch(!0){case this._Platform.Windows.test(e):return"Microsoft Windows";case this._Platform.WindowsPhone.test(e):return this.Agent.isWindowsPhone=!0,"Microsoft Windows Phone";case this._Platform.Mac.test(e):return"Apple Mac";case this._Platform.Curl.test(e):return"Curl";case this._Platform.Android.test(e):return this.Agent.isAndroid=!0,"Android";case this._Platform.Blackberry.test(e):return this.Agent.isBlackberry=!0,"Blackberry";case this._Platform.Linux.test(e):return"Linux";case this._Platform.Wii.test(e):return"Wii";case this._Platform.Playstation.test(e):return"Playstation";case this._Platform.iPad.test(e):return this.Agent.isiPad=!0,"iPad";case this._Platform.iPod.test(e):return this.Agent.isiPod=!0,"iPod";case this._Platform.iPhone.test(e):return this.Agent.isiPhone=!0,"iPhone";case this._Platform.Samsung.test(e):return this.Agent.isiSamsung=!0,"Samsung";default:return"unknown"}},this.testCompatibilityMode=function(){if(this.Agent.isIE&&/Trident\/(\d)\.0/i.test(this.Agent.source)){var e=parseInt(RegExp.$1,10),t=parseInt(this.Agent.version,10);7===t&&7===e&&(this.Agent.isIECompatibilityMode=!0,this.Agent.version=11),7===t&&6===e&&(this.Agent.isIECompatibilityMode=!0,this.Agent.version=10),7===t&&5===e&&(this.Agent.isIECompatibilityMode=!0,this.Agent.version=9),7===t&&4===e&&(this.Agent.isIECompatibilityMode=!0,this.Agent.version=8)}},this.testSilk=function(){return!0===/silk/gi.test(this.Agent.source)&&(this.Agent.isSilk=!0),/Silk-Accelerated=true/gi.test(this.Agent.source)&&(this.Agent.SilkAccelerated=!0),!!this.Agent.isSilk&&"Silk"},this.testKindleFire=function(){switch(!0){case/KFOT/gi.test(this.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire";case/KFTT/gi.test(this.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HD";case/KFJWI/gi.test(this.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HD 8.9";case/KFJWA/gi.test(this.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HD 8.9 4G";case/KFSOWI/gi.test(this.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HD 7";case/KFTHWI/gi.test(this.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HDX 7";case/KFTHWA/gi.test(this.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HDX 7 4G";case/KFAPWI/gi.test(this.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HDX 8.9";case/KFAPWA/gi.test(this.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HDX 8.9 4G";default:return!1}},this.testCaptiveNetwork=function(){return!0===/CaptiveNetwork/gi.test(this.Agent.source)&&(this.Agent.isCaptive=!0,this.Agent.isMac=!0,this.Agent.platform="Apple Mac","CaptiveNetwork")},this.testMobile=function(){switch(!0){case this.Agent.isWindows:case this.Agent.isLinux:case this.Agent.isMac:case this.Agent.isChromeOS:this.Agent.isDesktop=!0;break;case this.Agent.isAndroid:case this.Agent.isSamsung:this.Agent.isMobile=!0,this.Agent.isDesktop=!1}switch(!0){case this.Agent.isiPad:case this.Agent.isiPod:case this.Agent.isiPhone:case this.Agent.isBada:case this.Agent.isBlackberry:case this.Agent.isAndroid:case this.Agent.isWindowsPhone:this.Agent.isMobile=!0,this.Agent.isDesktop=!1}/mobile/i.test(this.Agent.source)&&(this.Agent.isMobile=!0,this.Agent.isDesktop=!1)},this.testTablet=function(){switch(!0){case this.Agent.isiPad:case this.Agent.isAndroidTablet:case this.Agent.isKindleFire:this.Agent.isTablet=!0}/tablet/i.test(this.Agent.source)&&(this.Agent.isTablet=!0)},this.testNginxGeoIP=function(e){var t=this;Object.keys(e).forEach(function(r){/^GEOIP/i.test(r)&&(t.Agent.geoIp[r]=e[r])})},this.testBot=function(){var e=i0.exec(this.Agent.source.toLowerCase());e?this.Agent.isBot=e[1]:this.Agent.isAuthoritative||(this.Agent.isBot=/bot/i.test(this.Agent.source))},this.testSmartTV=function(){var e=RegExp("smart-tv|smarttv|googletv|appletv|hbbtv|pov_tv|netcast.tv","gi").exec(this.Agent.source.toLowerCase());e&&(this.Agent.isSmartTV=e[1])},this.testAndroidTablet=function(){this.Agent.isAndroid&&!/mobile/i.test(this.Agent.source)&&(this.Agent.isAndroidTablet=!0)},this.testTouchSupport=function(){this.Agent.isTouchScreen="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},this.getLaguage=function(){this.Agent.language=(navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||"").toLowerCase()},this.getColorDepth=function(){this.Agent.colorDepth=screen.colorDepth||-1},this.getScreenResolution=function(){this.Agent.resolution=[screen.availWidth,screen.availHeight]},this.getPixelDepth=function(){this.Agent.pixelDepth=screen.pixelDepth||-1},this.getCPU=function(){this.Agent.cpuCores=navigator.hardwareConcurrency||-1},this.reset=function(){for(var e in this.DefaultAgent)this.DefaultAgent.hasOwnProperty(e)&&(this.Agent[e]=this.DefaultAgent[e]);return this},this.parse=function(e){e=e||navigator.userAgent;var t=new i1;return t.Agent.source=e.replace(/^\s*/,"").replace(/\s*$/,""),t.Agent.os=t.getOS(t.Agent.source),t.Agent.platform=t.getPlatform(t.Agent.source),t.Agent.browser=t.getBrowser(t.Agent.source),t.Agent.version=t.getBrowserVersion(t.Agent.source),t.testBot(),t.testSmartTV(),t.testMobile(),t.testAndroidTablet(),t.testTablet(),t.testCompatibilityMode(),t.testSilk(),t.testKindleFire(),t.testCaptiveNetwork(),t.testTouchSupport(),t.getLaguage(),t.getColorDepth(),t.getPixelDepth(),t.getScreenResolution(),t.getCPU(),t.Agent},this.get=function(e){var t="a",r=this.parse(),n=[];for(var i in this.options)this.options.hasOwnProperty(i)&&!0===this.options[i]&&n.push(r[i]);e&&n.push(e),!this.options.resolution&&r.isMobile&&n.push(r.resolution),t="b";var o=r.hashMD5(n.join(":"));return[o.slice(0,8),o.slice(8,12),"4"+o.slice(12,15),t+o.slice(15,18),o.slice(20)].join("-")},this.Agent=this.DefaultAgent,this};if("undefined"==typeof navigator)t="nodejs_env";else{let e=new i1().parse(),r=[e.language,e.platform,e.os,e.cpuCores,e.colorDepth];t=e.hashMD5(r.join(":"))}var i2=t;let i3=e=>iI.default("sha256").update(e).digest("hex"),i4=()=>{let e=new Uint8Array(24);return iD.default(e),e.join("")};class i8{constructor(e,t){this.plugin=e,this.timeout=t,this.uuid=null,this.socket=null,this.connected=!1,this.paired=!1,this.openRequests=[],this.pairingPromise=null,this.eventHandlers={},this.appkey=iQ.getAppKey(),this.appkey||(this.appkey="appkey:"+i4())}addEventHandler(e,t){t||(t="app"),this.eventHandlers[t]=e}removeEventHandler(e){e||(e="app"),delete this.eventHandlers[e]}link(e=!0,t=null,r=null){return this.uuid=t,new Promise(async t=>{let n=()=>{this.socket.onmessage=i=>{if(-1===i.data.indexOf("42/scatter"))return!1;let[o,a]=JSON.parse(i.data.replace("42/scatter,",""));if("pong"!==o){if("ping"===o)return this.socket.send('42/scatter,["pong"]');switch(o){case"paired":return e(a);case"rekey":return t();case"api":return r(a);case"event":return n(a)}}};let e=e=>{if(this.paired=e,this.paired){let e=iQ.getAppKey(),t=this.appkey.indexOf("appkey:")>-1?i3(this.appkey):this.appkey;e&&e===t||(iQ.setAppKey(t),this.appkey=iQ.getAppKey())}this.pairingPromise.resolve(e)},t=()=>{this.appkey="appkey:"+i4(),this.send("rekeyed",{data:{appkey:this.appkey,origin:this.getOrigin()},plugin:this.plugin})},r=e=>{try{e=JSON.parse(e)}catch(e){}let t=this.openRequests.find(t=>t.id===e.id);t&&(this.openRequests=this.openRequests.filter(t=>t.id!==e.id),"object"==typeof e.result&&null!==e.result&&e.result.hasOwnProperty("isError")?t.reject(e.result):t.resolve(e.result))},n=({event:e,payload:t})=>{Object.keys(this.eventHandlers).length&&Object.keys(this.eventHandlers).map(r=>{this.eventHandlers[r](e,t)})}},i=(e,t)=>r||(t?`local.get-scatter.com:${e}`:`127.0.0.1:${e}`),o=await new Promise(async t=>{if(r)return t([50006]);let n=(e,t)=>fetch(e).then(e=>e.text()).then(e=>t("scatter"===e)).catch(()=>t(!1)),o=[],a=!1,s=(r=null)=>{a||(a=!0,null!==r&&o.push(r),t((!o.length?[50006,50005]:o).filter(t=>!!e||!(t%2)).sort((e,t)=>t%2?e%2?0:-1:1)))};await Promise.all([...[,,,,,].keys()].map(async t=>{if(a)return;let r=50005+1500*t;return await n("https://"+i(r+1,!0),e=>e?s(r+1):null),e&&await n("http://"+i(r,!1),e=>e?s(r):null),!0})),s()}),a=e=>new Promise(t=>{let r=!(e%2),n=i(e,r),o=new iB.default(`${r?"wss://":"ws://"}${n}/socket.io/?EIO=3&transport=websocket`);o.onerror=()=>t(!1),o.onopen=()=>t(o)}),s=!1;for(let e=0;e<o.length;e++){if(s)continue;let r=await a(o[e]);if(r){s=!0,this.socket=r,this.send(),this.connected=!0,n(),this.pairingPromise=null,this.pair(!0).then(()=>t(!0));break}}})}isConnected(){return this.socket&&1===this.socket.readyState}isPaired(){return this.paired}disconnect(){return this.socket&&this.socket.close(),!0}sendApiRequest(e){return new Promise((t,r)=>{if("identityFromPermissions"===e.type&&!this.paired)return t(!1);this.pair().then(()=>{if(!this.paired)return r({code:"not_paired",message:"The user did not allow this app to connect to their Scatter"});e.id=i4(),e.appkey=this.appkey,e.nonce=iQ.getNonce()||0;let n=i4();e.nextNonce=i3(n),iQ.setNonce(n),e.hasOwnProperty("payload")&&!e.payload.hasOwnProperty("origin")&&(e.payload.origin=this.getOrigin()),this.openRequests.push(Object.assign(e,{resolve:t,reject:r})),this.send("api",{data:e,plugin:this.plugin})})})}pair(e=!1){return new Promise((t,r)=>{this.pairingPromise={resolve:t,reject:r},this.send("pair",{data:{appkey:this.appkey,origin:this.getOrigin(),passthrough:e},plugin:this.plugin})})}send(e=null,t=null){null===e&&null===t?this.socket.send("40/scatter"):this.socket.send("42/scatter,"+JSON.stringify([e,Object.assign(t,{device:i2,uuid:this.uuid})]))}getOrigin(){return i8.getOriginOrPlugin(this.plugin)}static getOriginOrPlugin(e){let t;return"www."===(t="undefined"!=typeof location&&location.hasOwnProperty("hostname")&&location.hostname.length&&"localhost"!==location.hostname?location.hostname:e).substr(0,4)&&(t=t.replace("www.","")),t}}class i6 extends iN{constructor(e,t){super("LocalSocket",iF),this.name="LocalSocket",this.context=e,this.holderFns=t}connect(e,t={}){return new Promise(r=>{if(!e||!e.length)throw Error("You must specify a name for this connection");t=Object.assign({linkTimeout:3e3,allowHttp:!0},t),this.socketService=new i8(e,t.linkTimeout),this.socketService.link(t.allowHttp).then(async e=>e?(this.holderFns.get().isExtension=!1,this.holderFns.get().wallet||(this.holderFns.get().wallet=this.name),r(this.socketService)):r(!1))})}async runAfterInterfacing(){return this.holderFns.get().addEventHandler((e,t)=>this.eventHandler(e,t),"internal"),this.holderFns.get().identity=await this.holderFns.get().getIdentityFromPermissions(),!0}methods(){return iV.getMethods(this,()=>this.socketService)}async eventHandler(e,t){switch(e){case or.Disconnected:this.holderFns.get().identity=null;break;case or.LoggedOut:this.holderFns.get().identity=await this.holderFns.get().getIdentityFromPermissions()}}}class i5 extends iN{constructor(e,t){super("RelaySocket",iF),this.name="RelaySocket",this.context=e,this.holderFns=t}connect(e,t={}){return new Promise(async r=>{if(!e||!e.length)throw Error("You must specify a name for this connection");t=Object.assign({linkTimeout:3e3,allowHttp:!0},t);let n=await fetch(`https://relay.get-scatter.com:443/app/connect/${i2}`).then(e=>200===e.status?e.json():null);if(!n)return r(!1);this.socketService=new i8(e,t.linkTimeout),this.socketService.link(t.allowHttp,n,"relaysock.get-scatter.com:443").then(async e=>e?(this.holderFns.get().isExtension=!1,this.holderFns.get().wallet||(this.holderFns.get().wallet=this.name),r(this.socketService)):r(!1))})}async runAfterInterfacing(){return this.holderFns.get().identity=await this.holderFns.get().getIdentityFromPermissions(),!0}methods(){return i6.getMethods(this)}async eventHandler(e,t){switch(e){case or.Disconnected:this.holderFns.get().identity=null;break;case or.LoggedOut:this.holderFns.get().identity=await this.holderFns.get().getIdentityFromPermissions()}}}let i7=!1;"undefined"!=typeof window&&"undefined"!=typeof document&&(void 0!==window.scatter?i7=!0:document.addEventListener("scatterLoaded",()=>i7=!0));let i9=async(e=null,t=0)=>new Promise(r=>(e||(e=r),i7)?e(!0):t>5?e(!1):void setTimeout(()=>i9(e,t+1),100));class oe extends iN{constructor(e,t){super("InjectedWallet",iF),this.name="InjectedWallet",this.context=e,this.holderFns=t}async connect(){return new Promise(async e=>{await i9()&&(this.holderFns&&!this.holderFns.get().wallet&&(this.holderFns.get().wallet=this.name),e("injection"))})}async runBeforeInterfacing(){let e=this.context.network;if(e){let t=window.scatter.getIdentity.bind(window.scatter),r=window.scatter.useIdentity.bind(window.scatter);window.scatter.getIdentity=n=>t(n||{accounts:[e]}).then(e=>(this.holderFns.get().identity=e,r(e),e));let n=window.scatter.suggestNetwork.bind(window.scatter);window.scatter.suggestNetwork=t=>n(t||e)}return this.holderFns.get().wallet===this.name&&(window.scatter.wallet=this.name),this.holderFns.set(window.scatter),this.context=this.holderFns.get(),!0}async runAfterInterfacing(){return this.context.isExtension=!0,this.context.connect=this.connect,!0}methods(){return{}}}let ot=new class{constructor(){this.plugins=[]}loadPlugin(e){this.plugin(e.name)||this.plugins.push(e)}wallets(){return this.plugins.filter(e=>e.type===iF)}signatureProviders(){return this.plugins.filter(e=>e.type===iz)}supportedBlockchains(){return this.signatureProviders().map(e=>name)}plugin(e){return this.plugins.find(t=>t.name===e)}async endorsedNetworks(){return await Promise.all(this.signatureProviders().map(async e=>await e.getEndorsedNetwork()))}},or={Disconnected:"dced",LoggedOut:"logout"},on=null,oi=[],oo={},oa=new Proxy(new class{constructor(e){this.scatter=e}plugins(...e){this.scatter.isExtension||e.map(e=>this.scatter.loadPlugin(e))}connect(...e){return this.scatter.connect(...e)}catchAll(){}}(new class{constructor(){this.identity=null,this.network=null,ot.loadPlugin(new i5(this,oo)),ot.loadPlugin(new i6(this,oo)),ot.loadPlugin(new iJ(this,oo)),ot.loadPlugin(new oe(this,oo))}loadPlugin(e){if(!e.isValid())throw Error(`${e.name} doesn't seem to be a valid ScatterJS plugin.`);ot.loadPlugin(e),e.type===iz&&(this[e.name]=e.signatureProvider(()=>{if(!oo.get().identity)throw Error("No Identity")},()=>oo.get().identity),this[e.name+"Hook"]=e.hookProvider,"function"==typeof e.multiHook&&(this[e.name+"MultiHook"]=e.multiHook),oi.push(e.setSocketService)),e.type===iF&&e.init(this,oo,oi)}async connect(e,t){return new Promise(async r=>{t||(t={}),this.network=t.hasOwnProperty("network")?t.network:null;let n=ot.wallets();on&&(on.disconnect(),on=null);let i=!1,o=[];for(let a=0;a<n.length;a++){if(i)return;let s=n[a];o.push(Promise.race([s.connect(e,t).then(async e=>{e&&("injection"!==e&&(on=e,oi.map(t=>t(e))),"function"==typeof s.runBeforeInterfacing&&await s.runBeforeInterfacing(),new iH(s.name,s.methods(),oo.get()),"function"==typeof s.runAfterInterfacing&&await s.runAfterInterfacing(),iH.bindBasics(oo.get()),i=!0,r(!0))}).catch(()=>!1),new Promise(e=>setTimeout(()=>e(!1),5e3))]))}await Promise.all(o),r(!1)})}}),{get:(e,t)=>void 0!==e[t]?e[t]:e.scatter[t]});oo.set=e=>oa.scatter=e,oo.get=()=>oa.scatter,"undefined"!=typeof window&&(window.ScatterJS=oa),oa.Plugin=iN,oa.PluginTypes=iW,oa.Blockchains=iU,oa.Network=iX,oa.Token=ij,oa.SocketService=i8,oa.EVENTS=or,oa.WalletInterface=iH,oa.WALLET_METHODS=iq;let os=i8;class ou extends iN{constructor(){super(iU.EOS,iz)}setSocketService(e){os=e}hookProvider(e,t=null){return e=iX.fromJson(e),{requiredFields:{},getAvailableKeys:async()=>await os.sendApiRequest({type:"identityFromPermissions",payload:{}}).then(e=>e?e.accounts.filter(e=>e.blockchain===iU.EOS).map(e=>e.publicKey):[]),sign:async r=>{let n=t?t():{};return r.serializedTransaction=tw.Buffer.from(r.serializedTransaction).toString("hex"),new Promise(async(t,i)=>{os.sendApiRequest({type:"requestSignature",payload:{transaction:r,blockchain:iU.EOS,network:e,requiredFields:n}}).then(e=>{t({signatures:e.signatures,serializedTransaction:tw.Buffer.from(r.serializedTransaction,"hex")})}).catch(e=>i(e))})}}}multiHook(e,t){let r=this.eosHook(e);return Array.isArray(t)||(t=[t]),{getAvailableKeys:async()=>{try{let e=await r.getAvailableKeys(),n=[];return await Promise.all(t.map(async e=>(await e.getAvailableKeys().then(e=>{e.map(e=>n.push(e))}),!0))),e.concat(n)}catch(e){throw Error(e)}},sign:async n=>{try{let i=tw.Buffer.from(n.serializedTransaction,"hex"),o=async t=>({abis:n.abis,chainId:e.chainId,requiredKeys:await t.getAvailableKeys(),serializedTransaction:i}),a=e=>"object"==typeof e&&e.hasOwnProperty("signatures")?e.signatures:e,s=await r.sign(await o(r)).then(e=>a(e)),u=[];return await Promise.all(t.map(async e=>(await e.sign(await o(e)).then(e=>{a(e).map(e=>u.push(e))}),!0))),{signatures:s.concat(u),serializedTransaction:i}}catch(e){throw Error(e)}}}}signatureProvider(...e){return e[0],(e,t,r={})=>{e=iX.fromJson(e);let n={};return new Proxy(new t(Object.assign(r,{signatureProvider:this.hookProvider(e,()=>n)})),{get:(e,t)=>(...r)=>{if(void 0===e[t])throw Error(`${t} does not exist on the eosjs.Api() object.`);let i=r.find(e=>e.hasOwnProperty("requiredFields"));return n=i?i.requiredFields:{},e[t](...r)}})}}}"undefined"!=typeof window&&(window.ScatterEOS=ou),ez.Blockchains=iU,ez.EVENTS=or,ez.Network=iX,ez.Plugin=iN,ez.PluginTypes=iW;var oc=ez.ScatterEOS=ou,oh=ez.ScatterJS=oa;async function ol(e){oh.plugins(new oc);let t=new URL(e.chain.url),r="https"===t.protocol.replace(":","")?"https":"http",n=oh.Network.fromJson({blockchain:e.chain.name,chainId:String(e.chain.id),host:t.hostname,port:t.port?Number(t.port):"https"===r?443:80,protocol:r});if(!await oh.connect(e.appName,{network:n}))throw Error("Unable to connect with Scatter wallet");let i=new ej(n.fullhost());i.getRequiredKeys=async()=>[];let o=oh.eos(n,eU,{rpc:i});return{scatter:oh,connector:o}}async function of(e){let t;if(!e.ui)throw Error("No UI available");let{scatter:r}=await ol(e),n=await r.login();if(!n||!n.accounts)throw Error("Unable to retrieve account from Scatter");let i=n.accounts[0];if(i.chainId)t=i.chainId;else if(i.blockchain&&Object.keys(O.Chains).includes(i.blockchain))t=O.Chains[i.blockchain].id;else throw Error(`Unknown chain: ${i.blockchain}`);return{chain:P.Checksum256.from(t),permissionLevel:P.PermissionLevel.from(`${i.name}@${i.authority}`)}}async function od(e){if(void 0===e.session)throw Error("Unknown session");let{scatter:t}=await ol({appName:e.appName,chain:e.session.chain});await t.logout()}async function op(e,t){if(!t.ui)throw Error("No UI available");let{scatter:r,connector:n}=await ol(t),i=await r.checkLogin();if(!i||!i.accounts)throw Error("Please login first");let o=P.Serializer.encode({object:e.transaction}),a=await n.deserializeTransactionWithActions(o.array),s=await n.transact(a,{broadcast:!1});if(!s.serializedTransaction)throw new O.Canceled("User Canceled request");let u=P.Serializer.decode({data:s.serializedTransaction,type:P.Transaction}),c=await T.SigningRequest.create({transaction:u},t.esrOptions),h=await c.fetchAbis(t.abiCache),l=c.resolve(h,t.permissionLevel);return{signatures:s.signatures,resolved:l}}ez.SocketService=i8,ez.WALLET_METHODS=iq,ez.WalletInterface=iH,e.s(["getScatter",()=>ol,"handleLogin",()=>of,"handleLogout",()=>od,"handleSignatureRequest",()=>op])}]);